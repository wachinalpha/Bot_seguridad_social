# PROJECT CONTEXT DUMP
# Generated by tools/context_builder.py at Federico

## DIRECTORY STRUCTURE
```
Bot_seguridad_social/
    .gitignore
    .python-version
    CHANGELOG.md
    CODE_OF_CONDUCT.md
    CONTRIBUTING.md
    DEPLOYMENT.md
    DEVELOPMENT.md
    DOCS_INDEX.md
    DOCUMENTATION_SUMMARY.md
    FAQ.md
    LICENSE
    manage.py
    pyproject.toml
    README.md
    ROADMAP.md
    SECURITY.md
    .github/
        PULL_REQUEST_TEMPLATE.md
        ISSUE_TEMPLATE/
            bug_report.md
            feature_request.md
    chroma_db/
        chroma.sqlite3
    data/
        chroma_db/
            chroma.sqlite3
            4373bac7-ffb0-4a10-bd27-df68de16dd74/
                data_level0.bin
                header.bin
                length.bin
                link_lists.bin
        processed/
            ley_anses_001.md
    docs/
        PATTERNS.md
        adr/
            0000-use-adr.md
            TEMPLATE.md
    Documentos_Anses/
        Anses1.md
    front/
        .gitignore
        App.tsx
        index.html
        index.tsx
        metadata.json
        package.json
        README.md
        tsconfig.json
        types.ts
        vite.config.ts
        components/
            ChatArea.tsx
            Sidebar.tsx
        services/
            geminiService.ts
            pythonApi.ts
    rag_app/
        .env.example
        api_main.py
        pyproject.toml
        QUICKSTART.md
        README.md
        requirements.txt
        __init__.py
        adapters/
            __init__.py
            chunkers/
                docling_adapter.py
                hybrid_chunker.py
                __init__.py
            contextualizers/
                gemini_manager.py
                __init__.py
            embedders/
                gemini_embedder.py
                __init__.py
            http/
                api_adapter.py
                session_manager.py
                __init__.py
            stores/
                chroma_adapter.py
                __init__.py
        config/
            leyes_config.json
            settings.py
            __init__.py
        docs/
            API.md
            architecture.md
            TECHNICAL_ARCHITECTURE.md
        domain/
            api_schemas.py
            models.py
            __init__.py
        pipelines/
            __init__.py
        ports/
            chunker.py
            contextualizer.py
            embedder.py
            vector_store.py
            __init__.py
        scripts/
            bootstrap_env.py
            reset_db.py
            setup_db.py
            setup_from_md.py
            test_hybridChunker.py
            verify_setup.sh
            __init__.py
        services/
            ingestion_service.py
            removal_service.py
            retrieval_service.py
            __init__.py
        tests/
            audit_performance.py
            __init__.py
        utils/
            logger.py
            __init__.py
    tools/
        context_builder.py
```

## FILE CONTENTS

### [FILE] CHANGELOG.md
```md
# Changelog

Todos los cambios notables de este proyecto ser√°n documentados en este archivo.

El formato est√° basado en [Keep a Changelog](https://keepachangelog.com/es-ES/1.0.0/),
y este proyecto adhiere a [Semantic Versioning](https://semver.org/lang/es/).

## [Unreleased]

### Planeado
- Autenticaci√≥n de usuarios
- Rate limiting en API
- Cach√© de respuestas
- M√©tricas y monitoring

---

## [0.1.0] - 2025-12-27

### Agregado
- ‚ú® Implementaci√≥n inicial del sistema RAG con arquitectura hexagonal
- ü§ñ Integraci√≥n con Google Gemini API (embeddings y generaci√≥n)
- üíæ Soporte para ChromaDB como vector store
- üìÑ Procesamiento de documentos con IBM Docling
- üîÑ Context Caching de Gemini para optimizaci√≥n de costos
- üåê API REST con FastAPI
- ‚öõÔ∏è Frontend React con TypeScript
- üìö Documentaci√≥n t√©cnica completa
- üß™ Tests b√°sicos de integraci√≥n
- üîß Scripts de setup y gesti√≥n de base de datos

### Backend Features
- Arquitectura hexagonal (Ports & Adapters)
- Document-level RAG (leyes completas como contexto)
- Graceful degradation para Free Tier de Gemini
- Content hashing para cache invalidation
- Session management para conversaciones
- CORS configurado para desarrollo local
- Logging estructurado
- Manejo de errores robusto

### Frontend Features
- Interfaz de chat conversacional
- Integraci√≥n con API backend
- Visualizaci√≥n de metadata de respuestas
- Indicadores de cache usage
- Responsive design

### Documentaci√≥n
- README.md con gu√≠a completa de instalaci√≥n
- QUICKSTART.md para inicio r√°pido
- TECHNICAL_ARCHITECTURE.md con detalles de implementaci√≥n
- API.md con documentaci√≥n de endpoints
- CONTRIBUTING.md con gu√≠as para contribuidores
- CODE_OF_CONDUCT.md
- LICENSE (MIT)

### Infraestructura
- Configuraci√≥n con Pydantic Settings
- Variables de entorno con .env
- Gesti√≥n de dependencias con uv
- .gitignore configurado
- Estructura de proyecto modular

---

## Tipos de Cambios

- `Agregado` para nuevas funcionalidades
- `Cambiado` para cambios en funcionalidades existentes
- `Deprecado` para funcionalidades que ser√°n removidas
- `Removido` para funcionalidades removidas
- `Corregido` para correcci√≥n de bugs
- `Seguridad` para vulnerabilidades

---

## Versionado

Este proyecto usa [Semantic Versioning](https://semver.org/):

- **MAJOR**: Cambios incompatibles en la API
- **MINOR**: Nueva funcionalidad compatible con versiones anteriores
- **PATCH**: Correcciones de bugs compatibles con versiones anteriores

---

## Links

- [Unreleased]: Cambios en desarrollo
- [0.1.0]: Versi√≥n inicial - 2025-12-27

```

### [FILE] CODE_OF_CONDUCT.md
```md
# C√≥digo de Conducta

## Nuestro Compromiso

En el inter√©s de fomentar un ambiente abierto y acogedor, nosotros como contribuyentes y mantenedores nos comprometemos a hacer de la participaci√≥n en nuestro proyecto y nuestra comunidad una experiencia libre de aporofobia, preocupada por la igualdad, libre de discriminaci√≥n, libre de acoso para todos, independientemente de edad, tama√±o corporal, discapacidad, etnia, identidad y expresi√≥n de g√©nero, nivel de experiencia, nacionalidad, apariencia personal, raza, religi√≥n o identidad y orientaci√≥n sexual.

## Nuestros Est√°ndares

Ejemplos de comportamiento que contribuyen a crear un ambiente positivo incluyen:

* Usar lenguaje acogedor e inclusivo
* Ser respetuoso de diferentes puntos de vista y experiencias
* Aceptar cr√≠ticas constructivas de manera profesional
* Enfocarse en lo que es mejor para la comunidad
* Mostrar empat√≠a hacia otros miembros de la comunidad

Ejemplos de comportamiento inaceptable por parte de los participantes incluyen:

* El uso de lenguaje o im√°genes sexualizadas y atenci√≥n o avances sexuales no deseados
* Comentarios despectivos (trolling), insultantes o derogatorios, y ataques personales o pol√≠ticos
* Acoso p√∫blico o privado
* Publicar informaci√≥n privada de otros, como direcciones f√≠sicas o electr√≥nicas, sin permiso expl√≠cito
* Otras conductas que razonablemente podr√≠an considerarse inapropiadas en un entorno profesional

## Nuestras Responsabilidades

Los mantenedores del proyecto son responsables de aclarar los est√°ndares de comportamiento aceptable y se espera que tomen medidas correctivas apropiadas y justas en respuesta a cualquier instancia de comportamiento inaceptable.

Los mantenedores del proyecto tienen el derecho y la responsabilidad de eliminar, editar o rechazar comentarios, commits, c√≥digo, ediciones de wiki, issues y otras contribuciones que no est√©n alineadas con este C√≥digo de Conducta, o de prohibir temporal o permanentemente a cualquier contribuyente por otros comportamientos que consideren inapropiados, amenazantes, ofensivos o da√±inos.

## Alcance

Este C√≥digo de Conducta aplica tanto dentro de los espacios del proyecto como en espacios p√∫blicos cuando un individuo representa al proyecto o su comunidad. Ejemplos de representaci√≥n del proyecto o comunidad incluyen usar una direcci√≥n de correo electr√≥nico oficial del proyecto, publicar a trav√©s de una cuenta oficial de redes sociales, o actuar como representante designado en un evento en l√≠nea o fuera de l√≠nea.

## Aplicaci√≥n

Instancias de comportamiento abusivo, acosador o de otro modo inaceptable pueden ser reportadas contactando al equipo del proyecto. Todas las quejas ser√°n revisadas e investigadas y resultar√°n en una respuesta que se considere necesaria y apropiada a las circunstancias. El equipo del proyecto est√° obligado a mantener la confidencialidad con respecto al reportero de un incidente.

Los mantenedores del proyecto que no sigan o hagan cumplir el C√≥digo de Conducta de buena fe pueden enfrentar repercusiones temporales o permanentes seg√∫n lo determinen otros miembros del liderazgo del proyecto.

## Atribuci√≥n

Este C√≥digo de Conducta es una adaptaci√≥n del [Contributor Covenant](https://www.contributor-covenant.org), versi√≥n 1.4, disponible en https://www.contributor-covenant.org/es/version/1/4/code-of-conduct.html

```

### [FILE] CONTRIBUTING.md
```md
# Gu√≠a de Contribuci√≥n

¬°Gracias por tu inter√©s en contribuir al Bot de Seguridad Social Argentina! üéâ

## üìã Tabla de Contenidos

- [C√≥digo de Conducta](#c√≥digo-de-conducta)
- [C√≥mo Contribuir](#c√≥mo-contribuir)
- [Configuraci√≥n del Entorno de Desarrollo](#configuraci√≥n-del-entorno-de-desarrollo)
- [Proceso de Pull Request](#proceso-de-pull-request)
- [Est√°ndares de C√≥digo](#est√°ndares-de-c√≥digo)
- [Estructura del Proyecto](#estructura-del-proyecto)
- [Testing](#testing)

---

## C√≥digo de Conducta

Este proyecto adhiere a un C√≥digo de Conducta. Al participar, se espera que mantengas este c√≥digo. Por favor reporta comportamientos inaceptables.

---

## C√≥mo Contribuir

### Reportar Bugs

Si encontr√°s un bug, por favor cre√° un issue con:

- **T√≠tulo descriptivo**
- **Pasos para reproducir** el problema
- **Comportamiento esperado** vs **comportamiento actual**
- **Versi√≥n** de Python, Node.js, y dependencias relevantes
- **Logs** o mensajes de error (si aplica)

### Sugerir Mejoras

Para sugerir nuevas funcionalidades:

1. Verific√° que no exista un issue similar
2. Cre√° un nuevo issue describiendo:
   - El problema que resuelve
   - La soluci√≥n propuesta
   - Alternativas consideradas
   - Impacto en la arquitectura existente

### Contribuir C√≥digo

1. **Fork** el repositorio
2. **Cre√° una rama** desde `main`:
   ```bash
   git checkout -b feature/nombre-descriptivo
   ```
3. **Hac√© tus cambios** siguiendo los est√°ndares de c√≥digo
4. **Escrib√≠ tests** para tu c√≥digo
5. **Commite√°** con mensajes descriptivos
6. **Pushe√°** a tu fork
7. **Abr√≠ un Pull Request**

---

## Configuraci√≥n del Entorno de Desarrollo

### Requisitos Previos

- Python 3.13+
- Node.js 18+
- uv (gestor de paquetes Python)
- Git

### Setup Inicial

```bash
# 1. Clonar el repositorio
git clone https://github.com/wachinalpha/Bot_seguridad_social.git
cd Bot_seguridad_social

# 2. Configurar Backend
cd rag_app
cp .env.example .env
# Edit√° .env y agreg√° tu GEMINI_API_KEY
uv sync

# 3. Configurar Frontend
cd ../front
npm install

# 4. Inicializar base de datos
cd ..
python -m rag_app.scripts.setup_from_md
```

### Ejecutar en Modo Desarrollo

**Terminal 1 - Backend:**
```bash
cd rag_app
python api_main.py
```

**Terminal 2 - Frontend:**
```bash
cd front
npm run dev
```

---

## Proceso de Pull Request

### Antes de Enviar

- [ ] El c√≥digo sigue los est√°ndares del proyecto
- [ ] Los tests pasan (`pytest` para backend, `npm test` para frontend)
- [ ] La documentaci√≥n est√° actualizada
- [ ] Los commits tienen mensajes descriptivos
- [ ] No hay conflictos con `main`

### Formato de Commits

Usamos [Conventional Commits](https://www.conventionalcommits.org/):

```
tipo(alcance): descripci√≥n breve

Descripci√≥n detallada (opcional)

Fixes #123
```

**Tipos:**
- `feat`: Nueva funcionalidad
- `fix`: Correcci√≥n de bug
- `docs`: Cambios en documentaci√≥n
- `style`: Formato, punto y coma faltantes, etc.
- `refactor`: Refactorizaci√≥n de c√≥digo
- `test`: Agregar o modificar tests
- `chore`: Mantenimiento, dependencias, etc.

**Ejemplos:**
```
feat(retrieval): agregar soporte para multi-law queries
fix(embedder): corregir encoding UTF-8 en documentos
docs(readme): actualizar instrucciones de instalaci√≥n
```

### Revisi√≥n de C√≥digo

Tu PR ser√° revisado por los mantenedores. Podemos solicitar cambios para:

- Mejorar la claridad del c√≥digo
- Agregar tests faltantes
- Ajustar a los est√°ndares del proyecto
- Optimizar performance

---

## Est√°ndares de C√≥digo

### Python (Backend)

**Formateador:** Black
```bash
black rag_app/
```

**Linter:** Flake8
```bash
flake8 rag_app/
```

**Convenciones:**
- Nombres de variables/funciones: `snake_case`
- Nombres de clases: `PascalCase`
- Constantes: `UPPER_SNAKE_CASE`
- Docstrings: Google Style
- Type hints en todas las funciones p√∫blicas

**Ejemplo:**
```python
def process_document(url: str, law_id: str) -> Tuple[str, str]:
    """Procesa un documento legal desde una URL.
    
    Args:
        url: URL del documento a procesar
        law_id: Identificador √∫nico de la ley
        
    Returns:
        Tupla con (file_path, markdown_content)
        
    Raises:
        ValueError: Si la URL es inv√°lida
    """
    ...
```

### TypeScript (Frontend)

**Formateador:** Prettier (configurado en Vite)

**Convenciones:**
- Nombres de componentes: `PascalCase`
- Nombres de funciones/variables: `camelCase`
- Interfaces: `IPascalCase` o `PascalCase`
- Props: Definir con TypeScript interfaces

**Ejemplo:**
```typescript
interface ChatMessageProps {
  message: string;
  sender: 'user' | 'bot';
  timestamp: Date;
}

export const ChatMessage: React.FC<ChatMessageProps> = ({ 
  message, 
  sender, 
  timestamp 
}) => {
  // ...
};
```

---

## Estructura del Proyecto

El proyecto sigue **Arquitectura Hexagonal (Ports & Adapters)**:

```
rag_app/
‚îú‚îÄ‚îÄ domain/          # Modelos de soluci√≥n (sin dependencias externas)
‚îú‚îÄ‚îÄ ports/           # Interfaces/Abstracciones
‚îú‚îÄ‚îÄ adapters/        # Implementaciones concretas
‚îÇ   ‚îú‚îÄ‚îÄ embedders/   # Gemini, OpenAI, etc.
‚îÇ   ‚îú‚îÄ‚îÄ stores/      # ChromaDB, Pinecone, etc.
‚îÇ   ‚îî‚îÄ‚îÄ http/        # FastAPI routers
‚îú‚îÄ‚îÄ services/        # L√≥gica de soluci√≥n
‚îú‚îÄ‚îÄ config/          # Configuraci√≥n
‚îî‚îÄ‚îÄ scripts/         # Scripts de utilidad
```

### Principios de Dise√±o

1. **Dependency Inversion**: Los servicios dependen de ports (interfaces), no de adapters concretos
2. **Single Responsibility**: Cada m√≥dulo tiene una responsabilidad clara
3. **Open/Closed**: Abierto a extensi√≥n, cerrado a modificaci√≥n
4. **Interface Segregation**: Interfaces peque√±as y espec√≠ficas

### Agregar un Nuevo Adapter

**Ejemplo: Agregar soporte para OpenAI Embeddings**

1. Crear `rag_app/adapters/embedders/openai_embedder.py`:
```python
from rag_app.ports.embedder import EmbedderPort
from typing import List

class OpenAIEmbedder:
    """Implementaci√≥n de EmbedderPort usando OpenAI API."""
    
    def embed_text(self, text: str) -> List[float]:
        # Implementaci√≥n
        ...
```

2. Actualizar `rag_app/config/settings.py` si es necesario
3. Agregar tests en `rag_app/tests/test_openai_embedder.py`
4. Documentar en `rag_app/docs/TECHNICAL_ARCHITECTURE.md`

---

## Testing

### Backend (Python)

**Framework:** pytest

```bash
# Ejecutar todos los tests
pytest rag_app/tests/

# Con coverage
pytest --cov=rag_app rag_app/tests/

# Test espec√≠fico
pytest rag_app/tests/test_retrieval_service.py
```

**Estructura de Tests:**
```python
def test_retrieval_service_query():
    # Arrange
    fake_embedder = FakeEmbedder()
    fake_store = FakeVectorStore()
    service = RetrievalService(fake_embedder, fake_store)
    
    # Act
    result = service.query("test question")
    
    # Assert
    assert result.answer is not None
    assert result.confidence_score > 0
```

### Frontend (React)

**Framework:** Vitest (configurar si es necesario)

```bash
npm test
```

---

## √Åreas de Contribuci√≥n

### üî¥ Alta Prioridad
EJEMPLO
- [ ] Mejorar cobertura de tests (objetivo: 80%+)
- [ ] Agregar autenticaci√≥n de usuarios
- [ ] Implementar rate limiting en API
- [ ] Soporte para m√∫ltiples idiomas

### üü° Media Prioridad
EJEMPLO
- [ ] Agregar m√°s adapters (OpenAI, Anthropic)
- [ ] Implementar cach√© de respuestas
- [ ] Mejorar UI/UX del frontend
- [ ] Agregar m√©tricas y monitoring

### üü¢ Baja Prioridad

- [ ] Dockerizaci√≥n completa
- [ ] CI/CD pipeline
- [ ] Documentaci√≥n en ingl√©s
- [ ] Ejemplos de uso avanzado

---

## Recursos √ötiles

- [Documentaci√≥n T√©cnica](rag_app/docs/TECHNICAL_ARCHITECTURE.md)
- [API Documentation](rag_app/docs/API.md)
- [Google Gemini API](https://ai.google.dev/gemini-api/docs)
- [ChromaDB Docs](https://docs.trychroma.com/)
- [FastAPI Docs](https://fastapi.tiangolo.com/)
- [React Docs](https://react.dev/)

---

## Preguntas?

Si ten√©s dudas sobre c√≥mo contribuir, no dudes en:

- Abrir un issue con la etiqueta `question`
- Contactar a los mantenedores
- Revisar issues existentes con la etiqueta `good first issue`

¬°Gracias por contribuir! üöÄ

```

### [FILE] DEPLOYMENT.md
```md
# Gu√≠a de Deployment

Esta gu√≠a cubre las diferentes opciones para desplegar el Bot de Seguridad Social en producci√≥n.

## üìã Tabla de Contenidos

- [Opciones de Deployment](#opciones-de-deployment)
- [Deployment con Docker](#deployment-con-docker)
- [Deployment en Cloud](#deployment-en-cloud)
- [Variables de Entorno](#variables-de-entorno)
- [Configuraci√≥n de Producci√≥n](#configuraci√≥n-de-producci√≥n)
- [Monitoreo y Logs](#monitoreo-y-logs)
- [Troubleshooting](#troubleshooting)

---

## Opciones de Deployment

### 1. Docker (Recomendado)
- ‚úÖ F√°cil de configurar
- ‚úÖ Portable entre entornos
- ‚úÖ Incluye todas las dependencias

### 2. Cloud Platforms
- **Google Cloud Run**: Serverless, auto-scaling
- **AWS ECS/Fargate**: Contenedores administrados
- **Azure Container Instances**: Deployment r√°pido
- **Railway/Render**: Deployment simplificado

### 3. VPS Tradicional
- DigitalOcean, Linode, AWS EC2
- Requiere configuraci√≥n manual

---

## Deployment con Docker

### Dockerfile - Backend

Crear `rag_app/Dockerfile`:

```dockerfile
FROM python:3.13-slim

# Set working directory
WORKDIR /app

# Install system dependencies
RUN apt-get update && apt-get install -y \
    build-essential \
    curl \
    && rm -rf /var/lib/apt/lists/*

# Install uv
RUN curl -LsSf https://astral.sh/uv/install.sh | sh
ENV PATH="/root/.cargo/bin:$PATH"

# Copy dependency files
COPY pyproject.toml ./
COPY requirements.txt ./

# Install Python dependencies
RUN uv sync --no-dev

# Copy application code
COPY . .

# Expose port
EXPOSE 8000

# Run application
CMD ["uv", "run", "uvicorn", "api_main:app", "--host", "0.0.0.0", "--port", "8000"]
```

### Dockerfile - Frontend

Crear `front/Dockerfile`:

```dockerfile
FROM node:18-alpine AS builder

WORKDIR /app

# Copy package files
COPY package*.json ./

# Install dependencies
RUN npm ci

# Copy source code
COPY . .

# Build for production
RUN npm run build

# Production image
FROM nginx:alpine

# Copy built files
COPY --from=builder /app/dist /usr/share/nginx/html

# Copy nginx config
COPY nginx.conf /etc/nginx/conf.d/default.conf

EXPOSE 80

CMD ["nginx", "-g", "daemon off;"]
```

### docker-compose.yml

Crear en la ra√≠z del proyecto:

```yaml
version: '3.8'

services:
  backend:
    build:
      context: ./rag_app
      dockerfile: Dockerfile
    ports:
      - "8000:8000"
    environment:
      - GEMINI_API_KEY=${GEMINI_API_KEY}
      - API_HOST=0.0.0.0
      - API_PORT=8000
    volumes:
      - ./data:/app/data
      - ./chroma_db:/app/chroma_db
    restart: unless-stopped
    healthcheck:
      test: ["CMD", "curl", "-f", "http://localhost:8000/health"]
      interval: 30s
      timeout: 10s
      retries: 3

  frontend:
    build:
      context: ./front
      dockerfile: Dockerfile
    ports:
      - "80:80"
    depends_on:
      - backend
    restart: unless-stopped
    environment:
      - VITE_API_URL=http://backend:8000

volumes:
  data:
  chroma_db:
```

### Ejecutar con Docker Compose

```bash
# 1. Crear archivo .env en la ra√≠z
echo "GEMINI_API_KEY=tu_api_key_aqui" > .env

# 2. Build y ejecutar
docker-compose up -d

# 3. Ver logs
docker-compose logs -f

# 4. Detener
docker-compose down
```

---

## Deployment en Cloud

### Google Cloud Run

**1. Preparar proyecto:**

```bash
# Instalar gcloud CLI
# https://cloud.google.com/sdk/docs/install

# Autenticar
gcloud auth login

# Crear proyecto
gcloud projects create bot-seguridad-social
gcloud config set project bot-seguridad-social
```

**2. Deploy Backend:**

```bash
cd rag_app

# Build y push imagen
gcloud builds submit --tag gcr.io/bot-seguridad-social/backend

# Deploy a Cloud Run
gcloud run deploy backend \
  --image gcr.io/bot-seguridad-social/backend \
  --platform managed \
  --region us-central1 \
  --allow-unauthenticated \
  --set-env-vars GEMINI_API_KEY=tu_api_key
```

**3. Deploy Frontend:**

```bash
cd ../front

# Build y push
gcloud builds submit --tag gcr.io/bot-seguridad-social/frontend

# Deploy
gcloud run deploy frontend \
  --image gcr.io/bot-seguridad-social/frontend \
  --platform managed \
  --region us-central1 \
  --allow-unauthenticated \
  --set-env-vars VITE_API_URL=https://backend-xxx.run.app
```

### Railway.app (M√°s Simple)

**1. Conectar repositorio:**
- Ir a [railway.app](https://railway.app)
- Conectar cuenta de GitHub
- Seleccionar repositorio

**2. Configurar servicios:**
- Crear servicio "Backend" ‚Üí Root directory: `rag_app`
- Crear servicio "Frontend" ‚Üí Root directory: `front`

**3. Variables de entorno:**
- Backend: `GEMINI_API_KEY`
- Frontend: `VITE_API_URL` (URL del backend de Railway)

**4. Deploy:**
- Railway detecta Dockerfile autom√°ticamente
- Push a `main` ‚Üí auto-deploy

### AWS ECS/Fargate

**1. Crear repositorio ECR:**

```bash
aws ecr create-repository --repository-name bot-seguridad-backend
aws ecr create-repository --repository-name bot-seguridad-frontend
```

**2. Push im√°genes:**

```bash
# Login a ECR
aws ecr get-login-password --region us-east-1 | docker login --username AWS --password-stdin <account-id>.dkr.ecr.us-east-1.amazonaws.com

# Tag y push
docker tag backend:latest <account-id>.dkr.ecr.us-east-1.amazonaws.com/bot-seguridad-backend:latest
docker push <account-id>.dkr.ecr.us-east-1.amazonaws.com/bot-seguridad-backend:latest
```

**3. Crear Task Definition y Service en ECS Console**

---

## Variables de Entorno

### Backend (.env)

```bash
# API Keys (REQUERIDO)
GEMINI_API_KEY=tu_api_key_aqui

# API Configuration
API_HOST=0.0.0.0
API_PORT=8000
API_TITLE="Legal RAG API"
API_VERSION=1.0.0
API_PREFIX=/api/v1

# CORS Origins (separados por coma)
API_CORS_ORIGINS=http://localhost:5173,http://localhost:3000,https://tu-dominio.com

# Model Configuration
LLM_MODEL=gemini-2.5-flash
EMBEDDING_MODEL=models/text-embedding-004
CACHE_TTL_MINUTES=60

# Database Paths
CHROMA_DB_PATH=./chroma_db
PROCESSED_DOCS_PATH=./data/processed

# Logging
LOG_LEVEL=INFO
```

### Frontend (.env.local)

```bash
# API URL
VITE_API_URL=http://localhost:8000

# O en producci√≥n:
VITE_API_URL=https://api.tu-dominio.com
```

---

## Configuraci√≥n de Producci√≥n

### Seguridad

**1. HTTPS:**
- Usar certificados SSL (Let's Encrypt gratis)
- Configurar nginx como reverse proxy

**2. Rate Limiting:**

Agregar en `api_main.py`:

```python
from slowapi import Limiter
from slowapi.util import get_remote_address

limiter = Limiter(key_func=get_remote_address)
app.state.limiter = limiter

@app.post("/api/v1/chat")
@limiter.limit("10/minute")
async def chat(request: Request, ...):
    ...
```

**3. Autenticaci√≥n (opcional):**

```python
from fastapi.security import HTTPBearer

security = HTTPBearer()

@app.post("/api/v1/chat")
async def chat(credentials: HTTPAuthorizationCredentials = Depends(security)):
    # Validar token
    ...
```

### Performance

**1. Caching:**
- Usar Redis para cach√© de respuestas
- Configurar cache headers en nginx

**2. Database:**
- Usar PostgreSQL con pgvector en lugar de ChromaDB local
- Configurar connection pooling

**3. CDN:**
- Servir frontend desde CDN (Cloudflare, CloudFront)

### Nginx Configuration

Crear `nginx.conf` para frontend:

```nginx
server {
    listen 80;
    server_name tu-dominio.com;

    # Redirect to HTTPS
    return 301 https://$server_name$request_uri;
}

server {
    listen 443 ssl http2;
    server_name tu-dominio.com;

    ssl_certificate /etc/letsencrypt/live/tu-dominio.com/fullchain.pem;
    ssl_certificate_key /etc/letsencrypt/live/tu-dominio.com/privkey.pem;

    root /usr/share/nginx/html;
    index index.html;

    # Frontend
    location / {
        try_files $uri $uri/ /index.html;
    }

    # API Proxy
    location /api/ {
        proxy_pass http://backend:8000;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
    }

    # Health check
    location /health {
        proxy_pass http://backend:8000/health;
    }
}
```

---

## Monitoreo y Logs

### Logging

**Configurar logging estructurado:**

```python
# rag_app/utils/logger.py
import logging
import json

class JSONFormatter(logging.Formatter):
    def format(self, record):
        log_data = {
            "timestamp": self.formatTime(record),
            "level": record.levelname,
            "message": record.getMessage(),
            "module": record.module,
        }
        return json.dumps(log_data)

# Usar en producci√≥n
handler = logging.StreamHandler()
handler.setFormatter(JSONFormatter())
```

### Monitoreo

**1. Health Checks:**

```python
@app.get("/health")
async def health():
    return {
        "status": "healthy",
        "timestamp": datetime.now().isoformat(),
        "services": {
            "vector_store": check_vector_store(),
            "embedder": check_embedder(),
        }
    }
```

**2. M√©tricas (Prometheus):**

```python
from prometheus_client import Counter, Histogram

request_count = Counter('requests_total', 'Total requests')
request_duration = Histogram('request_duration_seconds', 'Request duration')

@app.middleware("http")
async def metrics_middleware(request, call_next):
    request_count.inc()
    with request_duration.time():
        response = await call_next(request)
    return response
```

**3. Error Tracking (Sentry):**

```python
import sentry_sdk

sentry_sdk.init(
    dsn="tu_sentry_dsn",
    environment="production",
)
```

---

## Troubleshooting

### Error: "Out of Memory"

**Soluci√≥n:**
- Aumentar memoria del contenedor
- Optimizar batch size de embeddings
- Usar streaming para respuestas largas

### Error: "Connection Timeout"

**Soluci√≥n:**
- Aumentar timeout de nginx/load balancer
- Configurar keep-alive connections
- Usar async/await correctamente

### Error: "ChromaDB Lock"

**Soluci√≥n:**
- Usar PostgreSQL con pgvector en producci√≥n
- Configurar persistent volumes correctamente

### Logs de Debugging

```bash
# Docker logs
docker-compose logs -f backend

# Cloud Run logs
gcloud logging read "resource.type=cloud_run_revision" --limit 50

# Railway logs
railway logs
```

---

## Checklist de Deployment

- [ ] Variables de entorno configuradas
- [ ] HTTPS habilitado
- [ ] Rate limiting configurado
- [ ] Health checks funcionando
- [ ] Logs estructurados
- [ ] Monitoreo configurado
- [ ] Backups de base de datos
- [ ] Documentaci√≥n actualizada
- [ ] Tests pasando
- [ ] Performance testing realizado

---

## Soporte

Para problemas de deployment, abrir issue con etiqueta `deployment` üöÄ

```

### [FILE] DEVELOPMENT.md
```md
# Gu√≠a de Desarrollo

Esta gu√≠a cubre el flujo de trabajo de desarrollo, herramientas, y mejores pr√°cticas para contribuir al Bot de Seguridad Social.

## üìã Tabla de Contenidos

- [Configuraci√≥n del Entorno](#configuraci√≥n-del-entorno)
- [Flujo de Trabajo](#flujo-de-trabajo)
- [Arquitectura del C√≥digo](#arquitectura-del-c√≥digo)
- [Testing](#testing)
- [Debugging](#debugging)
- [Herramientas de Desarrollo](#herramientas-de-desarrollo)
- [Mejores Pr√°cticas](#mejores-pr√°cticas)

---

## Configuraci√≥n del Entorno

### Requisitos

- **Python**: 3.13+ (verificar con `python --version`)
- **Node.js**: 18+ (verificar con `node --version`)
- **uv**: Gestor de paquetes Python ([instalar](https://github.com/astral-sh/uv))
- **Git**: Control de versiones
- **Editor**: VS Code recomendado (con extensiones Python y TypeScript)

### Setup Completo

```bash
# 1. Clonar repositorio
git clone https://github.com/wachinalpha/Bot_seguridad_social.git
cd Bot_seguridad_social

# 2. Configurar Python virtual environment
cd rag_app
uv sync  # Instala dependencias y crea .venv

# 3. Configurar variables de entorno
cp .env.example .env
# Editar .env y agregar GEMINI_API_KEY

# 4. Inicializar base de datos
cd ..
python -m rag_app.scripts.setup_from_md

# 5. Configurar frontend
cd front
npm install
```

### Extensiones VS Code Recomendadas

```json
{
  "recommendations": [
    "ms-python.python",
    "ms-python.vscode-pylance",
    "ms-python.black-formatter",
    "dbaeumer.vscode-eslint",
    "esbenp.prettier-vscode",
    "bradlc.vscode-tailwindcss"
  ]
}
```

---

## Flujo de Trabajo

### 1. Crear una Nueva Feature

```bash
# Actualizar main
git checkout main
git pull origin main

# Crear rama de feature
git checkout -b feature/nombre-descriptivo

# Ejemplo:
git checkout -b feature/add-openai-embedder
```

### 2. Desarrollo Iterativo

**Backend (Python):**
```bash
cd rag_app

# Ejecutar con auto-reload
python api_main.py

# O con uvicorn directamente
uvicorn api_main:app --reload --host 0.0.0.0 --port 8000
```

**Frontend (React):**
```bash
cd front

# Modo desarrollo con hot reload
npm run dev
```

### 3. Testing Durante Desarrollo

```bash
# Backend - ejecutar tests
cd rag_app
pytest tests/ -v

# Con coverage
pytest tests/ --cov=rag_app --cov-report=html

# Test espec√≠fico
pytest tests/test_retrieval_service.py::test_query_success -v
```

### 4. Formateo y Linting

**Python:**
```bash
# Formatear c√≥digo
black rag_app/

# Verificar estilo
flake8 rag_app/

# Type checking (opcional)
mypy rag_app/
```

**TypeScript:**
```bash
# Formatear con Prettier (configurado en Vite)
npm run format

# Lint
npm run lint
```

### 5. Commit y Push

```bash
# Agregar cambios
git add .

# Commit con mensaje descriptivo
git commit -m "feat(embedder): add OpenAI embedder adapter"

# Push a tu fork
git push origin feature/add-openai-embedder
```

### 6. Pull Request

1. Ir a GitHub y crear Pull Request
2. Completar template de PR
3. Esperar revisi√≥n de c√≥digo
4. Hacer ajustes si es necesario
5. Merge cuando sea aprobado

---

## Arquitectura del C√≥digo

### Principios de Dise√±o

El proyecto sigue **Arquitectura Hexagonal (Ports & Adapters)**:

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ         PRESENTATION LAYER              ‚îÇ
‚îÇ      (FastAPI / React Frontend)         ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                   ‚îÇ
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ        APPLICATION LAYER                ‚îÇ
‚îÇ           (Services)                    ‚îÇ
‚îÇ  ‚Ä¢ IngestionService                     ‚îÇ
‚îÇ  ‚Ä¢ RetrievalService                     ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
           ‚îÇ                 ‚îÇ
    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê   ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
    ‚îÇ   DOMAIN    ‚îÇ   ‚îÇ    PORTS     ‚îÇ
    ‚îÇ  (Models)   ‚îÇ   ‚îÇ (Interfaces) ‚îÇ
    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò   ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                            ‚îÇ
                   ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
                   ‚îÇ    ADAPTERS      ‚îÇ
                   ‚îÇ (Implementations)‚îÇ
                   ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### Reglas de Dependencia

1. **Domain** no depende de nada (solo stdlib)
2. **Ports** definen contratos (Protocols)
3. **Services** dependen de Ports, no de Adapters
4. **Adapters** implementan Ports
5. **Presentation** usa Services

### Ejemplo: Agregar un Nuevo Adapter

**Paso 1: Definir Port (si no existe)**

```python
# rag_app/ports/embedder.py
from typing import Protocol, List

class EmbedderPort(Protocol):
    def embed_text(self, text: str) -> List[float]:
        """Generate embedding for text."""
        ...
```

**Paso 2: Implementar Adapter**

```python
# rag_app/adapters/embedders/openai_embedder.py
from typing import List
from rag_app.ports.embedder import EmbedderPort
import openai

class OpenAIEmbedder:
    """OpenAI embeddings adapter."""
    
    def __init__(self, api_key: str, model: str = "text-embedding-3-small"):
        self.client = openai.OpenAI(api_key=api_key)
        self.model = model
    
    def embed_text(self, text: str) -> List[float]:
        response = self.client.embeddings.create(
            input=text,
            model=self.model
        )
        return response.data[0].embedding
```

**Paso 3: Usar en Service (Dependency Injection)**

```python
# rag_app/services/retrieval_service.py
from rag_app.ports.embedder import EmbedderPort

class RetrievalService:
    def __init__(self, embedder: EmbedderPort, ...):
        self.embedder = embedder  # Puede ser GeminiEmbedder u OpenAIEmbedder
```

**Paso 4: Configurar en Entry Point**

```python
# rag_app/api_main.py
from rag_app.adapters.embedders.openai_embedder import OpenAIEmbedder

# En lifespan startup:
embedder = OpenAIEmbedder(api_key=settings.openai_api_key)
retrieval_service = RetrievalService(embedder=embedder, ...)
```

---

## Testing

### Estructura de Tests

```
rag_app/tests/
‚îú‚îÄ‚îÄ __init__.py
‚îú‚îÄ‚îÄ conftest.py              # Fixtures compartidos
‚îú‚îÄ‚îÄ test_models.py           # Tests de domain models
‚îú‚îÄ‚îÄ test_retrieval_service.py
‚îú‚îÄ‚îÄ test_ingestion_service.py
‚îî‚îÄ‚îÄ adapters/
    ‚îú‚îÄ‚îÄ test_gemini_embedder.py
    ‚îî‚îÄ‚îÄ test_chroma_adapter.py
```

### Escribir Tests

**Test Unitario (con Mocks):**

```python
# tests/test_retrieval_service.py
import pytest
from unittest.mock import Mock
from rag_app.services.retrieval_service import RetrievalService

def test_query_returns_answer():
    # Arrange
    mock_embedder = Mock()
    mock_embedder.embed_text.return_value = [0.1] * 768
    
    mock_store = Mock()
    mock_store.search.return_value = [fake_law_document()]
    
    mock_contextualizer = Mock()
    mock_contextualizer.generate_answer.return_value = "Test answer"
    
    service = RetrievalService(
        embedder=mock_embedder,
        vector_store=mock_store,
        contextualizer=mock_contextualizer
    )
    
    # Act
    result = service.query("test question")
    
    # Assert
    assert result.answer == "Test answer"
    mock_embedder.embed_text.assert_called_once_with("test question")
```

**Test de Integraci√≥n (con API real):**

```python
# tests/test_integration.py
import pytest
from rag_app.adapters.embedders.gemini_embedder import GeminiEmbedder

@pytest.mark.integration
def test_gemini_embedder_real_api():
    embedder = GeminiEmbedder()
    result = embedder.embed_text("test")
    
    assert len(result) == 768
    assert all(isinstance(x, float) for x in result)
```

**Ejecutar Tests:**

```bash
# Todos los tests
pytest

# Solo unitarios (r√°pidos)
pytest -m "not integration"

# Solo integraci√≥n
pytest -m integration

# Con coverage
pytest --cov=rag_app --cov-report=html
```

---

## Debugging

### Backend (Python)

**1. Logging:**

```python
import logging
logger = logging.getLogger(__name__)

logger.debug("Detalle t√©cnico")
logger.info("Informaci√≥n general")
logger.warning("Advertencia")
logger.error("Error", exc_info=True)  # Con stack trace
```

**2. Debugger (pdb):**

```python
# Agregar breakpoint
import pdb; pdb.set_trace()

# O en Python 3.7+
breakpoint()
```

**3. VS Code Debugger:**

Crear `.vscode/launch.json`:

```json
{
  "version": "0.2.0",
  "configurations": [
    {
      "name": "FastAPI",
      "type": "python",
      "request": "launch",
      "module": "uvicorn",
      "args": [
        "api_main:app",
        "--reload",
        "--host", "0.0.0.0",
        "--port", "8000"
      ],
      "cwd": "${workspaceFolder}/rag_app",
      "env": {
        "PYTHONPATH": "${workspaceFolder}"
      }
    }
  ]
}
```

### Frontend (React)

**1. Console Logging:**

```typescript
console.log('Debug:', variable);
console.error('Error:', error);
console.table(arrayOfObjects);
```

**2. React DevTools:**

Instalar extensi√≥n de navegador: [React Developer Tools](https://react.dev/learn/react-developer-tools)

**3. Network Debugging:**

Usar DevTools ‚Üí Network tab para inspeccionar requests a la API.

---

## Herramientas de Desarrollo

### Gesti√≥n de Base de Datos

```bash
# Ver documentos indexados
python -c "from rag_app.adapters.stores.chroma_adapter import ChromaAdapter; print(ChromaAdapter().count_documents())"

# Resetear base de datos
python -m rag_app.scripts.reset_db

# Re-ingestar documentos
python -m rag_app.scripts.setup_from_md
```

### API Testing

**Con curl:**

```bash
# Health check
curl http://localhost:8000/health

# Query
curl -X POST http://localhost:8000/api/v1/chat \
  -H "Content-Type: application/json" \
  -d '{"query": "¬øRequisitos para jubilaci√≥n?"}'
```

**Con HTTPie (m√°s legible):**

```bash
http POST localhost:8000/api/v1/chat query="¬øRequisitos para jubilaci√≥n?"
```

**Swagger UI:**

Navegar a http://localhost:8000/docs para interfaz interactiva.

---

## Mejores Pr√°cticas

### Python

1. **Type Hints siempre:**
   ```python
   def process(text: str) -> List[str]:
       ...
   ```

2. **Docstrings en Google Style:**
   ```python
   def function(arg1: str, arg2: int) -> bool:
       """Brief description.
       
       Args:
           arg1: Description of arg1
           arg2: Description of arg2
           
       Returns:
           Description of return value
       """
   ```

3. **Usar Path para rutas:**
   ```python
   from pathlib import Path
   file_path = Path("data") / "file.txt"
   ```

4. **Logging en lugar de print:**
   ```python
   logger.info(f"Processing {file_path}")  # ‚úÖ
   print(f"Processing {file_path}")        # ‚ùå
   ```

### TypeScript/React

1. **Componentes funcionales con TypeScript:**
   ```typescript
   interface Props {
     message: string;
   }
   
   export const Component: React.FC<Props> = ({ message }) => {
     return <div>{message}</div>;
   };
   ```

2. **Hooks con tipos:**
   ```typescript
   const [state, setState] = useState<string>("");
   ```

3. **Async/await para API calls:**
   ```typescript
   const fetchData = async () => {
     try {
       const response = await fetch('/api/endpoint');
       const data = await response.json();
     } catch (error) {
       console.error('Error:', error);
     }
   };
   ```

### Git

1. **Commits peque√±os y frecuentes**
2. **Mensajes descriptivos** (Conventional Commits)
3. **Branches por feature**
4. **Pull antes de push**

---

## Recursos

- [FastAPI Docs](https://fastapi.tiangolo.com/)
- [React Docs](https://react.dev/)
- [ChromaDB Docs](https://docs.trychroma.com/)
- [Google Gemini API](https://ai.google.dev/gemini-api/docs)
- [Hexagonal Architecture](https://alistair.cockburn.us/hexagonal-architecture/)

---

¬øPreguntas? Abr√≠ un issue con la etiqueta `question` üôã‚Äç‚ôÇÔ∏è

```

### [FILE] DOCS_INDEX.md
```md
# üìö √çndice de Documentaci√≥n

Gu√≠a completa de toda la documentaci√≥n disponible para el Bot de Seguridad Social Argentina.

---

## üöÄ Comenzar

### Para Usuarios Nuevos

1. **[README.md](README.md)** - Visi√≥n general del proyecto
   - Descripci√≥n del proyecto
   - Tecnolog√≠as utilizadas
   - Instalaci√≥n b√°sica
   - Estructura del proyecto

2. **[QUICKSTART.md](rag_app/QUICKSTART.md)** - Inicio r√°pido en 5 minutos
   - Setup m√≠nimo
   - Primeros pasos
   - Consultas de ejemplo

3. **[FAQ.md](FAQ.md)** - Preguntas frecuentes
   - Instalaci√≥n y configuraci√≥n
   - Uso y funcionalidad
   - Troubleshooting com√∫n

---

## üë®‚Äçüíª Para Desarrolladores

### Desarrollo

1. **[DEVELOPMENT.md](DEVELOPMENT.md)** - Gu√≠a completa de desarrollo
   - Configuraci√≥n del entorno
   - Flujo de trabajo
   - Arquitectura del c√≥digo
   - Testing y debugging
   - Mejores pr√°cticas

2. **[CONTRIBUTING.md](CONTRIBUTING.md)** - C√≥mo contribuir
   - Proceso de contribuci√≥n
   - Est√°ndares de c√≥digo
   - Pull request workflow
   - Conventional commits

3. **[CODE_OF_CONDUCT.md](CODE_OF_CONDUCT.md)** - C√≥digo de conducta
   - Est√°ndares de comportamiento
   - Responsabilidades
   - Proceso de reporte

### Arquitectura T√©cnica

4. **[rag_app/docs/TECHNICAL_ARCHITECTURE.md](rag_app/docs/TECHNICAL_ARCHITECTURE.md)** - Arquitectura detallada
   - Arquitectura hexagonal
   - M√≥dulos y responsabilidades
   - Data flow diagrams
   - Decisiones de dise√±o
   - Extension points

5. **[rag_app/docs/API.md](rag_app/docs/API.md)** - Documentaci√≥n de API
   - Endpoints disponibles
   - Request/Response schemas
   - Ejemplos de uso
   - Error handling

6. **[rag_app/docs/architecture.md](rag_app/docs/architecture.md)** - Visi√≥n general de arquitectura
   - Componentes principales
   - Interacciones entre m√≥dulos

---

## üö¢ Deployment y Producci√≥n

1. **[DEPLOYMENT.md](DEPLOYMENT.md)** - Gu√≠a de deployment
   - Opciones de deployment (Docker, Cloud)
   - Variables de entorno
   - Configuraci√≥n de producci√≥n
   - Seguridad
   - Monitoreo y logs
   - Troubleshooting

2. **[SECURITY.md](SECURITY.md)** - Pol√≠tica de seguridad
   - Reporte de vulnerabilidades
   - Niveles de severidad
   - Mejores pr√°cticas
   - Pol√≠tica de divulgaci√≥n

---

## üìã Planificaci√≥n y Gesti√≥n

1. **[ROADMAP.md](ROADMAP.md)** - Plan de desarrollo futuro
   - Versiones planeadas
   - Features en desarrollo
   - Timeline
   - M√©tricas de √©xito

2. **[CHANGELOG.md](CHANGELOG.md)** - Historial de cambios
   - Versiones publicadas
   - Features agregadas
   - Bugs corregidos
   - Breaking changes

---

## üìù Templates

### GitHub Templates

1. **[.github/ISSUE_TEMPLATE/bug_report.md](.github/ISSUE_TEMPLATE/bug_report.md)**
   - Template para reportar bugs

2. **[.github/ISSUE_TEMPLATE/feature_request.md](.github/ISSUE_TEMPLATE/feature_request.md)**
   - Template para solicitar features

3. **[.github/PULL_REQUEST_TEMPLATE.md](.github/PULL_REQUEST_TEMPLATE.md)**
   - Template para pull requests

---

## üìñ Documentaci√≥n por Tema

### Backend (Python/FastAPI)

- **Arquitectura**: [TECHNICAL_ARCHITECTURE.md](rag_app/docs/TECHNICAL_ARCHITECTURE.md)
- **API**: [API.md](rag_app/docs/API.md)
- **Desarrollo**: [DEVELOPMENT.md](DEVELOPMENT.md) (secci√≥n Backend)
- **Testing**: [DEVELOPMENT.md](DEVELOPMENT.md) (secci√≥n Testing)

### Frontend (React/TypeScript)

- **Desarrollo**: [DEVELOPMENT.md](DEVELOPMENT.md) (secci√≥n Frontend)
- **Componentes**: Ver c√≥digo en `front/components/`

### DevOps

- **Deployment**: [DEPLOYMENT.md](DEPLOYMENT.md)
- **Docker**: [DEPLOYMENT.md](DEPLOYMENT.md) (secci√≥n Docker)
- **CI/CD**: Pr√≥ximamente

### Seguridad

- **Pol√≠tica**: [SECURITY.md](SECURITY.md)
- **Best Practices**: [DEPLOYMENT.md](DEPLOYMENT.md) (secci√≥n Seguridad)

---

## üéØ Gu√≠as por Caso de Uso

### "Quiero empezar a usar el bot"
1. [README.md](README.md) - Visi√≥n general
2. [QUICKSTART.md](rag_app/QUICKSTART.md) - Setup r√°pido
3. [FAQ.md](FAQ.md) - Preguntas comunes

### "Quiero contribuir c√≥digo"
1. [CONTRIBUTING.md](CONTRIBUTING.md) - Gu√≠a de contribuci√≥n
2. [DEVELOPMENT.md](DEVELOPMENT.md) - Setup de desarrollo
3. [TECHNICAL_ARCHITECTURE.md](rag_app/docs/TECHNICAL_ARCHITECTURE.md) - Entender arquitectura
4. [CODE_OF_CONDUCT.md](CODE_OF_CONDUCT.md) - Normas de conducta

### "Quiero desplegar en producci√≥n"
1. [DEPLOYMENT.md](DEPLOYMENT.md) - Gu√≠a completa
2. [SECURITY.md](SECURITY.md) - Consideraciones de seguridad
3. [FAQ.md](FAQ.md) - Troubleshooting

### "Quiero agregar un nuevo adapter"
1. [TECHNICAL_ARCHITECTURE.md](rag_app/docs/TECHNICAL_ARCHITECTURE.md) - Entender ports & adapters
2. [DEVELOPMENT.md](DEVELOPMENT.md) - Ejemplo de implementaci√≥n
3. [CONTRIBUTING.md](CONTRIBUTING.md) - Proceso de PR

### "Quiero reportar un bug"
1. [.github/ISSUE_TEMPLATE/bug_report.md](.github/ISSUE_TEMPLATE/bug_report.md) - Template
2. [FAQ.md](FAQ.md) - Verificar si es conocido
3. [SECURITY.md](SECURITY.md) - Si es vulnerabilidad de seguridad

---

## üìä Documentaci√≥n por Nivel

### üü¢ Principiante
- [README.md](README.md)
- [QUICKSTART.md](rag_app/QUICKSTART.md)
- [FAQ.md](FAQ.md)

### üü° Intermedio
- [DEVELOPMENT.md](DEVELOPMENT.md)
- [CONTRIBUTING.md](CONTRIBUTING.md)
- [API.md](rag_app/docs/API.md)
- [DEPLOYMENT.md](DEPLOYMENT.md)

### üî¥ Avanzado
- [TECHNICAL_ARCHITECTURE.md](rag_app/docs/TECHNICAL_ARCHITECTURE.md)
- [SECURITY.md](SECURITY.md)
- C√≥digo fuente en `rag_app/`

---

## üîç B√∫squeda R√°pida

### Instalaci√≥n
- [README.md](README.md) ‚Üí Secci√≥n "Instalaci√≥n y Configuraci√≥n"
- [QUICKSTART.md](rag_app/QUICKSTART.md)

### API Keys
- [FAQ.md](FAQ.md) ‚Üí "¬øC√≥mo obtengo una API key de Gemini?"
- [README.md](README.md) ‚Üí Paso 1.2

### Errores Comunes
- [FAQ.md](FAQ.md) ‚Üí Secci√≥n "Troubleshooting"
- [README.md](README.md) ‚Üí Secci√≥n "Troubleshooting"

### Arquitectura
- [TECHNICAL_ARCHITECTURE.md](rag_app/docs/TECHNICAL_ARCHITECTURE.md)
- [README.md](README.md) ‚Üí Secci√≥n "Arquitectura del Proyecto"

### Testing
- [DEVELOPMENT.md](DEVELOPMENT.md) ‚Üí Secci√≥n "Testing"

### Docker
- [DEPLOYMENT.md](DEPLOYMENT.md) ‚Üí Secci√≥n "Deployment con Docker"

---

## üìû Soporte

¬øNo encontraste lo que buscabas?

- üí¨ [Abrir un Issue](https://github.com/tu-usuario/Bot_seguridad_social/issues)
- üìñ [FAQ](FAQ.md)
- ü§ù [Gu√≠a de Contribuci√≥n](CONTRIBUTING.md)

---

## üîÑ Mantener la Documentaci√≥n

### Para Contribuidores

Al agregar features o hacer cambios:

1. ‚úÖ Actualizar [CHANGELOG.md](CHANGELOG.md)
2. ‚úÖ Actualizar documentaci√≥n t√©cnica si aplica
3. ‚úÖ Agregar a [FAQ.md](FAQ.md) si es pregunta com√∫n
4. ‚úÖ Actualizar [README.md](README.md) si cambia instalaci√≥n/uso
5. ‚úÖ Considerar actualizar [ROADMAP.md](ROADMAP.md)

### Checklist de Documentaci√≥n

- [ ] C√≥digo tiene docstrings/comentarios
- [ ] README actualizado si es necesario
- [ ] CHANGELOG actualizado
- [ ] Tests documentados
- [ ] API docs actualizadas (si aplica)
- [ ] Ejemplos de uso agregados

---

**√öltima actualizaci√≥n:** Diciembre 2025  
**Mantenido por:** Comunidad Bot Seguridad Social

```

### [FILE] DOCUMENTATION_SUMMARY.md
```md
# üìö Documentaci√≥n del Repositorio - Resumen Completo

## ‚úÖ Documentaci√≥n Creada

Se ha creado documentaci√≥n completa y profesional para el repositorio Bot_seguridad_social. A continuaci√≥n se detalla todo lo que se agreg√≥:

---

## üìÑ Archivos Principales Creados

### 1. **LICENSE** 
- **Tipo:** MIT License
- **Prop√≥sito:** Define los t√©rminos de uso del software open source
- **Ubicaci√≥n:** `/LICENSE`

### 2. **CONTRIBUTING.md**
- **Prop√≥sito:** Gu√≠a completa para contribuidores
- **Contenido:**
  - Proceso de contribuci√≥n
  - Configuraci√≥n del entorno de desarrollo
  - Est√°ndares de c√≥digo (Python y TypeScript)
  - Formato de commits (Conventional Commits)
  - Proceso de Pull Request
  - Estructura del proyecto y principios de dise√±o
  - Testing guidelines
  - √Åreas de contribuci√≥n prioritarias
- **Ubicaci√≥n:** `/CONTRIBUTING.md`

### 3. **CODE_OF_CONDUCT.md**
- **Prop√≥sito:** Establecer normas de conducta para la comunidad
- **Contenido:**
  - Est√°ndares de comportamiento
  - Responsabilidades de mantenedores
  - Proceso de reporte de incidentes
  - Basado en Contributor Covenant
- **Ubicaci√≥n:** `/CODE_OF_CONDUCT.md`

### 4. **CHANGELOG.md**
- **Prop√≥sito:** Historial de versiones y cambios
- **Contenido:**
  - Versi√≥n 0.1.0 documentada
  - Features agregadas
  - Formato Keep a Changelog
  - Semantic Versioning
- **Ubicaci√≥n:** `/CHANGELOG.md`

### 5. **DEVELOPMENT.md**
- **Prop√≥sito:** Gu√≠a completa de desarrollo
- **Contenido:**
  - Configuraci√≥n del entorno
  - Flujo de trabajo de desarrollo
  - Arquitectura del c√≥digo (Hexagonal)
  - Testing strategies
  - Debugging techniques
  - Herramientas de desarrollo
  - Mejores pr√°cticas Python y TypeScript
  - Gesti√≥n de base de datos
- **Ubicaci√≥n:** `/DEVELOPMENT.md`

### 6. **DEPLOYMENT.md**
- **Prop√≥sito:** Gu√≠a de despliegue en producci√≥n
- **Contenido:**
  - Deployment con Docker
  - Docker Compose configuration
  - Deployment en Cloud (GCP, AWS, Railway)
  - Variables de entorno
  - Configuraci√≥n de producci√≥n (seguridad, performance)
  - Nginx configuration
  - Monitoreo y logging
  - Troubleshooting de deployment
- **Ubicaci√≥n:** `/DEPLOYMENT.md`

### 7. **SECURITY.md**
- **Prop√≥sito:** Pol√≠tica de seguridad
- **Contenido:**
  - Proceso de reporte de vulnerabilidades
  - Niveles de severidad
  - Tiempos de respuesta
  - Mejores pr√°cticas de seguridad
  - Pol√≠tica de divulgaci√≥n responsable
- **Ubicaci√≥n:** `/SECURITY.md`

### 8. **FAQ.md**
- **Prop√≥sito:** Preguntas frecuentes
- **Contenido:**
  - General (qu√© es, tecnolog√≠as, costos)
  - Instalaci√≥n y configuraci√≥n
  - Uso y funcionalidad
  - Desarrollo
  - Deployment
  - Troubleshooting
  - Performance
  - Seguridad
- **Ubicaci√≥n:** `/FAQ.md`

### 9. **ROADMAP.md**
- **Prop√≥sito:** Plan de desarrollo futuro
- **Contenido:**
  - Visi√≥n del proyecto
  - v0.2.0 - Mejoras de Producci√≥n (Q1 2026)
  - v0.3.0 - Features Avanzadas (Q2 2026)
  - v0.4.0 - Expansi√≥n (Q3 2026)
  - v1.0.0 - Release Oficial (Q4 2026)
  - Features en consideraci√≥n
  - Investigaci√≥n y desarrollo
  - M√©tricas de √©xito
  - Timeline visual
- **Ubicaci√≥n:** `/ROADMAP.md`

### 10. **DOCS_INDEX.md**
- **Prop√≥sito:** √çndice maestro de toda la documentaci√≥n
- **Contenido:**
  - Organizaci√≥n por categor√≠a
  - Gu√≠as por caso de uso
  - Documentaci√≥n por nivel (principiante/intermedio/avanzado)
  - B√∫squeda r√°pida
  - Checklist de mantenimiento
- **Ubicaci√≥n:** `/DOCS_INDEX.md`

---

## üóÇÔ∏è Templates de GitHub

### 11. **Bug Report Template**
- **Prop√≥sito:** Template estructurado para reportar bugs
- **Ubicaci√≥n:** `/.github/ISSUE_TEMPLATE/bug_report.md`

### 12. **Feature Request Template**
- **Prop√≥sito:** Template para solicitar nuevas funcionalidades
- **Ubicaci√≥n:** `/.github/ISSUE_TEMPLATE/feature_request.md`

### 13. **Pull Request Template**
- **Prop√≥sito:** Template para pull requests con checklist completo
- **Ubicaci√≥n:** `/.github/PULL_REQUEST_TEMPLATE.md`

---

## ‚úèÔ∏è Actualizaciones a Archivos Existentes

### 14. **README.md** (Actualizado)
- **Cambios:**
  - ‚úÖ Agregados badges (Python, Node.js, FastAPI, React, License)
  - ‚úÖ Nueva secci√≥n de documentaci√≥n con links a todos los docs
  - ‚úÖ Secci√≥n de Contribuir agregada
  - ‚úÖ Secci√≥n de Licencia agregada
  - ‚úÖ Links a FAQ, ROADMAP, SECURITY
- **Ubicaci√≥n:** `/README.md`

---

## üìä Estructura de Documentaci√≥n

```
Bot_seguridad_social/
‚îú‚îÄ‚îÄ README.md                    # ‚úÖ Actualizado con badges y links
‚îú‚îÄ‚îÄ LICENSE                      # ‚úÖ Nuevo - MIT License
‚îú‚îÄ‚îÄ CONTRIBUTING.md              # ‚úÖ Nuevo - Gu√≠a de contribuci√≥n
‚îú‚îÄ‚îÄ CODE_OF_CONDUCT.md           # ‚úÖ Nuevo - C√≥digo de conducta
‚îú‚îÄ‚îÄ CHANGELOG.md                 # ‚úÖ Nuevo - Historial de versiones
‚îú‚îÄ‚îÄ DEVELOPMENT.md               # ‚úÖ Nuevo - Gu√≠a de desarrollo
‚îú‚îÄ‚îÄ DEPLOYMENT.md                # ‚úÖ Nuevo - Gu√≠a de deployment
‚îú‚îÄ‚îÄ SECURITY.md                  # ‚úÖ Nuevo - Pol√≠tica de seguridad
‚îú‚îÄ‚îÄ FAQ.md                       # ‚úÖ Nuevo - Preguntas frecuentes
‚îú‚îÄ‚îÄ ROADMAP.md                   # ‚úÖ Nuevo - Plan futuro
‚îú‚îÄ‚îÄ DOCS_INDEX.md                # ‚úÖ Nuevo - √çndice de documentaci√≥n
‚îÇ
‚îú‚îÄ‚îÄ .github/
‚îÇ   ‚îú‚îÄ‚îÄ ISSUE_TEMPLATE/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ bug_report.md        # ‚úÖ Nuevo - Template bugs
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ feature_request.md   # ‚úÖ Nuevo - Template features
‚îÇ   ‚îî‚îÄ‚îÄ PULL_REQUEST_TEMPLATE.md # ‚úÖ Nuevo - Template PRs
‚îÇ
‚îú‚îÄ‚îÄ rag_app/
‚îÇ   ‚îú‚îÄ‚îÄ QUICKSTART.md            # ‚úì Ya exist√≠a
‚îÇ   ‚îî‚îÄ‚îÄ docs/
‚îÇ       ‚îú‚îÄ‚îÄ TECHNICAL_ARCHITECTURE.md  # ‚úì Ya exist√≠a
‚îÇ       ‚îî‚îÄ‚îÄ API.md               # ‚úì Ya exist√≠a
‚îÇ
‚îî‚îÄ‚îÄ front/
    ‚îî‚îÄ‚îÄ README.md                # ‚úì Ya exist√≠a
```

---

## üéØ Cobertura de Documentaci√≥n

### ‚úÖ Para Usuarios
- [x] README con visi√≥n general
- [x] QUICKSTART para inicio r√°pido
- [x] FAQ con preguntas comunes
- [x] Troubleshooting guides

### ‚úÖ Para Desarrolladores
- [x] CONTRIBUTING guide completa
- [x] DEVELOPMENT workflow
- [x] Arquitectura t√©cnica detallada
- [x] API documentation
- [x] Code standards (Python y TypeScript)
- [x] Testing guidelines

### ‚úÖ Para DevOps
- [x] DEPLOYMENT guide
- [x] Docker configuration
- [x] Cloud deployment options
- [x] Security best practices
- [x] Monitoring y logging

### ‚úÖ Para la Comunidad
- [x] CODE_OF_CONDUCT
- [x] CONTRIBUTING guidelines
- [x] Issue templates
- [x] PR template
- [x] ROADMAP p√∫blico

### ‚úÖ Legal y Compliance
- [x] LICENSE (MIT)
- [x] SECURITY policy
- [x] CHANGELOG

---

## üìà Mejoras Implementadas

### 1. **Profesionalizaci√≥n**
- Badges en README
- Templates de GitHub
- Documentaci√≥n estructurada

### 2. **Accesibilidad**
- M√∫ltiples niveles de documentaci√≥n
- √çndice maestro (DOCS_INDEX.md)
- FAQ para respuestas r√°pidas

### 3. **Contribuci√≥n**
- Proceso claro de contribuci√≥n
- C√≥digo de conducta
- Templates para issues y PRs

### 4. **Transparencia**
- ROADMAP p√∫blico
- CHANGELOG detallado
- Security policy clara

### 5. **Deployment**
- Gu√≠as para m√∫ltiples plataformas
- Docker ready
- Production best practices

---

## üé® Caracter√≠sticas Destacadas

### Conventional Commits
Todos los documentos promueven el uso de Conventional Commits:
- `feat:` para features
- `fix:` para bugs
- `docs:` para documentaci√≥n
- etc.

### Semantic Versioning
El proyecto sigue SemVer:
- MAJOR.MINOR.PATCH
- Documentado en CHANGELOG

### Hexagonal Architecture
Documentaci√≥n completa de la arquitectura:
- Ports & Adapters
- Dependency Injection
- Extension points

### Multi-Platform Deployment
Gu√≠as para:
- Docker
- Google Cloud Run
- AWS ECS
- Railway/Render

---

## üìù Pr√≥ximos Pasos Sugeridos

### Para el Mantenedor
1. ‚úÖ Revisar toda la documentaci√≥n creada
2. ‚¨ú Personalizar URLs de GitHub en templates
3. ‚¨ú Configurar GitHub Actions (CI/CD)
4. ‚¨ú Agregar badges de build status
5. ‚¨ú Crear GitHub Discussions

### Para la Comunidad
1. ‚¨ú Compartir el proyecto
2. ‚¨ú Invitar contribuidores
3. ‚¨ú Crear primeros issues
4. ‚¨ú Establecer milestones

---

## üåü Resumen

Se ha creado un **conjunto completo y profesional de documentaci√≥n** que cubre:

- ‚úÖ **14 archivos nuevos** de documentaci√≥n
- ‚úÖ **1 archivo actualizado** (README.md)
- ‚úÖ **3 templates de GitHub**
- ‚úÖ **~15,000 l√≠neas** de documentaci√≥n
- ‚úÖ **Cobertura 360¬∞**: usuarios, desarrolladores, DevOps, comunidad

El repositorio ahora tiene documentaci√≥n de **nivel enterprise** que facilita:
- Onboarding de nuevos usuarios
- Contribuciones de la comunidad
- Deployment en producci√≥n
- Mantenimiento a largo plazo

---

## üìö Documentaci√≥n Destacada

### M√°s Completas
1. **DEVELOPMENT.md** - Gu√≠a exhaustiva de desarrollo
2. **DEPLOYMENT.md** - Deployment en m√∫ltiples plataformas
3. **TECHNICAL_ARCHITECTURE.md** - Arquitectura detallada (ya exist√≠a)

### M√°s √ötiles
1. **QUICKSTART.md** - Para empezar r√°pido
2. **FAQ.md** - Respuestas inmediatas
3. **DOCS_INDEX.md** - Navegaci√≥n f√°cil

### M√°s Importantes
1. **CONTRIBUTING.md** - Para crecer la comunidad
2. **SECURITY.md** - Para mantener seguridad
3. **ROADMAP.md** - Para comunicar visi√≥n

---

**Estado:** ‚úÖ Documentaci√≥n Completa  
**Fecha:** 27 de Diciembre, 2025  
**Archivos Creados:** 14 nuevos + 1 actualizado  
**Templates:** 3 templates de GitHub

```

### [FILE] FAQ.md
```md
# Preguntas Frecuentes (FAQ)

## üìã Tabla de Contenidos

- [General](#general)
- [Instalaci√≥n y Configuraci√≥n](#instalaci√≥n-y-configuraci√≥n)
- [Uso y Funcionalidad](#uso-y-funcionalidad)
- [Desarrollo](#desarrollo)
- [Deployment](#deployment)
- [Troubleshooting](#troubleshooting)

---

## General

### ¬øQu√© es el Bot de Seguridad Social?

Es un asistente virtual basado en RAG (Retrieval Augmented Generation) que responde consultas sobre la seguridad social argentina utilizando documentos legales oficiales como fuente de informaci√≥n.

### ¬øQu√© tecnolog√≠as utiliza?

- **Backend**: Python 3.13+, FastAPI, Google Gemini API, ChromaDB
- **Frontend**: React 19, TypeScript, Vite
- **Arquitectura**: Hexagonal (Ports & Adapters)

### ¬øEs gratuito?

El c√≥digo es open source (MIT License). Sin embargo, necesit√°s una API key de Google Gemini:
- **Free Tier**: Funciona pero sin context caching (m√°s lento)
- **Paid Tier**: Incluye context caching (m√°s r√°pido y eficiente)

### ¬øPuedo usar esto para otros dominios?

¬°S√≠! La arquitectura hexagonal permite adaptar f√°cilmente el sistema a otros dominios (leyes de otro pa√≠s, documentaci√≥n t√©cnica, etc.) cambiando solo los documentos fuente.

---

## Instalaci√≥n y Configuraci√≥n

### ¬øNecesito instalar Docker?

No es obligatorio. Pod√©s ejecutar el proyecto directamente con Python y Node.js. Docker es opcional y recomendado para deployment.

### ¬øQu√© versi√≥n de Python necesito?

Python 3.13 o superior. Verific√° con:
```bash
python --version
```

### ¬øC√≥mo obtengo una API key de Gemini?

1. Ir a [Google AI Studio](https://aistudio.google.com/app/apikey)
2. Crear una nueva API key
3. Copiarla al archivo `.env`

### ¬øPuedo usar OpenAI en lugar de Gemini?

Actualmente solo soportamos Gemini, pero la arquitectura permite agregar otros providers f√°cilmente. Ver [CONTRIBUTING.md](CONTRIBUTING.md) para detalles.

### Error: "GEMINI_API_KEY not found"

Asegurate de:
1. Crear el archivo `.env` en `rag_app/`
2. Agregar la l√≠nea: `GEMINI_API_KEY=tu_api_key_aqui`
3. Reiniciar el servidor

---

## Uso y Funcionalidad

### ¬øQu√© tipo de preguntas puedo hacer?

Cualquier consulta relacionada con seguridad social argentina:
- "¬øCu√°les son los requisitos para jubilarme?"
- "¬øQu√© es la moratoria previsional?"
- "¬øC√≥mo tramito la jubilaci√≥n?"

### ¬øLas respuestas son 100% precisas?

Las respuestas se basan en documentos legales oficiales, pero:
- ‚ö†Ô∏è El sistema puede cometer errores
- ‚ö†Ô∏è La informaci√≥n puede estar desactualizada
- ‚ö†Ô∏è Siempre verific√° con fuentes oficiales para decisiones importantes

### ¬øPuedo agregar m√°s documentos?

S√≠, hay dos formas:

**Opci√≥n 1: Desde archivo local**
```bash
# Copiar documento a Documentos_Anses/
# Ejecutar script de ingestion
python -m rag_app.scripts.setup_from_md
```

**Opci√≥n 2: Desde URL**
```bash
# Editar config/leyes_config.json
# Ejecutar script
python -m rag_app.scripts.setup_db
```

### ¬øSoporta conversaciones multi-turno?

S√≠, usando `session_id` en las requests:
```json
{
  "query": "¬øRequisitos para jubilaci√≥n?",
  "session_id": "mi-sesion-123"
}
```

---

## Desarrollo

### ¬øC√≥mo contribuyo al proyecto?

Ver [CONTRIBUTING.md](CONTRIBUTING.md) para gu√≠a completa. En resumen:
1. Fork el repo
2. Crear rama de feature
3. Hacer cambios
4. Abrir Pull Request

### ¬øD√≥nde est√°n los tests?

En `rag_app/tests/`. Ejecutar con:
```bash
pytest rag_app/tests/
```

### ¬øC√≥mo agrego un nuevo adapter?

Ver [DEVELOPMENT.md](DEVELOPMENT.md) secci√≥n "Arquitectura del C√≥digo" para ejemplos detallados.

### ¬øQu√© es la arquitectura hexagonal?

Patr√≥n de dise√±o que separa:
- **Domain**: L√≥gica de negocio pura
- **Ports**: Interfaces/contratos
- **Adapters**: Implementaciones concretas
- **Services**: Orquestaci√≥n

Beneficios: testeable, flexible, mantenible.

---

## Deployment

### ¬øC√≥mo despliego en producci√≥n?

Ver [DEPLOYMENT.md](DEPLOYMENT.md) para gu√≠as completas de:
- Docker
- Google Cloud Run
- AWS ECS
- Railway/Render

### ¬øNecesito HTTPS?

S√≠, en producci√≥n siempre us√° HTTPS para proteger las API keys y datos de usuarios.

### ¬øC√≥mo escalo el sistema?

**Horizontal scaling:**
- M√∫ltiples instancias del backend detr√°s de load balancer
- Usar PostgreSQL con pgvector en lugar de ChromaDB local

**Vertical scaling:**
- Aumentar recursos (CPU/RAM) del contenedor

### ¬øQu√© base de datos vectorial recomiendan para producci√≥n?

- **PostgreSQL + pgvector**: Para cargas medias, buena integraci√≥n
- **Pinecone**: Para cargas altas, fully managed
- **Weaviate**: Open source, features avanzadas

---

## Troubleshooting

### El backend inicia pero no responde

**Verificar:**
1. ¬øHay documentos indexados?
   ```bash
   python -c "from rag_app.adapters.stores.chroma_adapter import ChromaAdapter; print(ChromaAdapter().count_documents())"
   ```
2. ¬øLos logs muestran errores?
3. ¬øLa API key es v√°lida?

### Error: "Port 8000 already in use"

**Soluci√≥n Windows:**
```powershell
netstat -ano | findstr :8000
taskkill /PID <PID> /F
```

**Soluci√≥n Linux/Mac:**
```bash
lsof -ti:8000 | xargs kill -9
```

### Frontend no se conecta al backend

**Verificar:**
1. Backend est√° corriendo en `http://localhost:8000`
2. CORS est√° configurado correctamente en `api_main.py`
3. `VITE_API_URL` en frontend apunta a la URL correcta

### Respuestas muy lentas

**Posibles causas:**
1. **Free Tier de Gemini**: Sin cache, cada query procesa documento completo
   - Soluci√≥n: Upgrade a paid tier
2. **Documentos muy grandes**: 
   - Soluci√≥n: Optimizar chunking
3. **Red lenta**:
   - Soluci√≥n: Deployment m√°s cercano al usuario

### Error: "ChromaDB lock"

**Soluci√≥n:**
1. Detener todos los procesos que usan ChromaDB
2. Eliminar archivos de lock en `chroma_db/`
3. Reiniciar

### Error: "File path not found: /home/..."

**Causa:**
Esto ocurre si clonaste el repositorio con una base de datos vectorial pre-existente que tiene rutas de otra m√°quina.

**Soluci√≥n:**
Necesit√°s resetear la base de datos para que guarde las rutas de tu m√°quina:

```powershell
# 1. Resetear DB (PowerShell)
$env:PYTHONIOENCODING='utf-8'; .\.venv\Scripts\python.exe -m rag_app.scripts.reset_db --force

# 2. Re-ingestar documentos
$env:PYTHONIOENCODING='utf-8'; .\.venv\Scripts\python.exe -m rag_app.scripts.setup_from_md
```

### Las respuestas no son precisas

**Verificar:**
1. ¬øLos documentos fuente son correctos?
2. ¬øEl embedding model es apropiado?
3. ¬øEl prompt en `contextualizer` es claro?

**Mejorar:**
- Agregar m√°s documentos relevantes
- Ajustar par√°metros de b√∫squeda (top_k, threshold)
- Mejorar el prompt del LLM

---

## Performance

### ¬øCu√°nto cuesta usar Gemini?

**Free Tier:**
- 15 requests/minuto
- Sin context caching
- Gratis

**Paid Tier:**
- Sin l√≠mite de requests
- Context caching incluido
- ~$0.50 primera query, ~$0.05 queries subsecuentes (con cache)

### ¬øCu√°nto tiempo toma una query?

**Con cache (Paid):**
- Primera query: ~15 segundos
- Queries subsecuentes: ~2 segundos

**Sin cache (Free):**
- Todas las queries: ~15 segundos

### ¬øCu√°ntos documentos puedo indexar?

**ChromaDB local:**
- Hasta ~10,000 documentos (depende de RAM)

**PostgreSQL + pgvector:**
- Millones de documentos

---

## Seguridad

### ¬øC√≥mo protejo mi API key?

1. **Nunca** commitees `.env` al repositorio
2. Us√° variables de entorno en producci√≥n
3. Rot√° las keys regularmente
4. Consider√° usar secret managers (AWS Secrets Manager, etc.)

### ¬øHay autenticaci√≥n?

No por defecto. Para agregar autenticaci√≥n ver [DEPLOYMENT.md](DEPLOYMENT.md) secci√≥n "Seguridad".

### ¬øC√≥mo reporto una vulnerabilidad?

Ver [SECURITY.md](SECURITY.md) para pol√≠tica de seguridad y proceso de reporte.

---

## M√°s Preguntas?

- üìñ [Documentaci√≥n Completa](README.md)
- üí¨ [Abrir un Issue](https://github.com/tu-usuario/Bot_seguridad_social/issues)
- ü§ù [Gu√≠a de Contribuci√≥n](CONTRIBUTING.md)

```

### [FILE] manage.py
```py
import sys
import subprocess
import os
import shutil
from pathlib import Path

def run_command(command, cwd=None, exit_on_error=True):
    print(f">> Running: {command}")
    try:
        subprocess.check_call(command, shell=True, cwd=cwd)
    except subprocess.CalledProcessError as e:
        print(f"!! Error: Command failed with code {e.returncode}")
        if exit_on_error:
            sys.exit(e.returncode)

def setup():
    print(">> Starting Setup...")
    
    # Check Python version
    if sys.version_info < (3, 10):
        print("!! Warning: Python 3.10+ recommended")
        
    # Backend Setup
    print("\n>> Setting up Backend (rag_app)...")
    if shutil.which("uv"):
        run_command("uv sync", cwd="rag_app")
    else:
        print("!! 'uv' not found. Installing via pip...")
        run_command(f"{sys.executable} -m pip install uv")
        run_command("uv sync", cwd="rag_app")
        
    # Frontend Setup
    print("\n>> Setting up Frontend (front)...")
    if shutil.which("npm"):
        run_command("npm install", cwd="front")
    else:
        print("!! Error: 'npm' not found. Please install Node.js")
        sys.exit(1)
        
    print("\n>> Setup complete!")

def dev():
    print(">> Starting Development Servers...")
    
    # We want to run both in parallel. 
    # On Windows, we can use 'start' to open new console windows, or just run one and tell user to run other.
    # For a simple script, let's run backend in background (or separate window) and frontend in current.
    
    if os.name == 'nt':
        # Windows
        print("   - Launching Backend (New Window)...")
        # Use 'py' or sys.executable if it's not the store shim
        python_exe = sys.executable
        subprocess.Popen(f'start cmd /k "{python_exe}" api_main.py', shell=True, cwd="rag_app", creationflags=subprocess.CREATE_NEW_CONSOLE)
    else:
        # Unix/Mac
        print("   - Launching Backend (Background)...")
        subprocess.Popen(f'"{sys.executable}" api_main.py &', shell=True, cwd="rag_app")

    print("   - Launching Frontend...")
    try:
        run_command("npm run dev", cwd="front")
    except KeyboardInterrupt:
        print("\n>> Stopping...")

def context_build():
    print(">> Building Context Dump...")
    run_command(f'"{sys.executable}" tools/context_builder.py')

def help():
    print("""
Usage: python manage.py [command]

Commands:
  setup    Install dependencies for backend (uv) and frontend (npm)
  dev      Start development servers (Backend in new window, Frontend here)
  context  Generate context_dump.txt using tools/context_builder.py
  test     Run backend tests
    """)

if __name__ == "__main__":
    if len(sys.argv) < 2:
        help()
        sys.exit(0)
    
    cmd = sys.argv[1]
    
    if cmd == "setup":
        setup()
    elif cmd == "dev":
        dev()
    elif cmd == "context":
        context_build()
    elif cmd == "test":
        run_command("pytest", cwd="rag_app")
    else:
        help()

```

### [FILE] pyproject.toml
```toml
[project]
name = "bot-seguridad-social"
version = "0.1.0"
description = "Add your description here"
readme = "README.md"
requires-python = ">=3.13"
dependencies = [
    "chromadb>=1.3.2",
    "docling>=2.58.0",
    "groq>=0.33.0",
    "ollama>=0.6.0",
    "python-dotenv>=1.2.1",
    "sentence-transformers>=5.1.2",
]

[tool.uv.workspace]
members = [
    "rag_app",
]

```

### [FILE] README.md
```md
# Bot Seguridad Social Argentina üá¶üá∑

[![Python](https://img.shields.io/badge/Python-3.13+-blue.svg)](https://www.python.org/downloads/)
[![Node.js](https://img.shields.io/badge/Node.js-18+-green.svg)](https://nodejs.org/)
[![FastAPI](https://img.shields.io/badge/FastAPI-0.109+-009688.svg)](https://fastapi.tiangolo.com/)
[![React](https://img.shields.io/badge/React-19-61DAFB.svg)](https://react.dev/)
[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](LICENSE)

Promotor de Seguridad Social basado en RAG (Retrieval Augmented Generation) para responder consultas sobre la seguridad social Argentina. Utiliza Google Gemini API con Context Caching, ChromaDB para almacenamiento vectorial, e IBM Docling para procesamiento de documentos.

## üìö Documentaci√≥n

- **[Inicio R√°pido](rag_app/QUICKSTART.md)** - Gu√≠a r√°pida para comenzar en 5 minutos
- **[FAQ](FAQ.md)** - Preguntas frecuentes y respuestas
- **[Gu√≠a de Desarrollo](DEVELOPMENT.md)** - Flujo de trabajo y mejores pr√°cticas
- **[Gu√≠a de Deployment](DEPLOYMENT.md)** - Opciones de despliegue en producci√≥n
- **[Arquitectura T√©cnica](rag_app/docs/TECHNICAL_ARCHITECTURE.md)** - Detalles de implementaci√≥n
- **[API Documentation](rag_app/docs/API.md)** - Referencia de endpoints
- **[C√≥mo Contribuir](CONTRIBUTING.md)** - Gu√≠a para contribuidores
- **[Roadmap](ROADMAP.md)** - Plan de desarrollo futuro
- **[Changelog](CHANGELOG.md)** - Historial de versiones
- **[Security Policy](SECURITY.md)** - Pol√≠tica de seguridad

## üìã Tabla de Contenidos

- [Tecnolog√≠as Utilizadas](#-tecnolog√≠as-utilizadas)
- [Arquitectura del Proyecto](#-arquitectura-del-proyecto)
- [Requisitos Previos](#-requisitos-previos)
- [Instalaci√≥n y Configuraci√≥n](#-instalaci√≥n-y-configuraci√≥n)
  - [Backend (RAG App)](#1-backend-rag-app)
  - [Frontend (React + TypeScript)](#2-frontend-react--typescript)
- [Ejecuci√≥n de la Aplicaci√≥n](#-ejecuci√≥n-de-la-aplicaci√≥n)
- [Estructura de Carpetas](#-estructura-de-carpetas)
- [Contribuir](#-contribuir)
- [Licencia](#-licencia)
- [Troubleshooting](#-troubleshooting)

---

## üöÄ Tecnolog√≠as Utilizadas

### Backend
- **Python 3.13+** con `uv` o `pip` para gesti√≥n de dependencias
- **FastAPI** para la API REST
- **Google Gemini API** para embeddings y generaci√≥n de respuestas
- **ChromaDB** como base de datos vectorial
- **IBM Docling** para procesamiento de documentos

### Frontend
- **React 19** con TypeScript
- **Vite** como bundler
- **Google GenAI SDK** para integraci√≥n con Gemini

### Arquitectura
El proyecto sigue **Arquitectura Hexagonal (Ports & Adapters)** para m√°xima flexibilidad y testeabilidad.

---

## üèóÔ∏è Arquitectura del Proyecto

```
Bot_seguridad_social/
‚îú‚îÄ‚îÄ rag_app/              # Backend (Python/FastAPI)
‚îÇ   ‚îú‚îÄ‚îÄ config/           # Configuraci√≥n y settings
‚îÇ   ‚îú‚îÄ‚îÄ domain/           # Modelos de dominio
‚îÇ   ‚îú‚îÄ‚îÄ ports/            # Interfaces/Abstracciones
‚îÇ   ‚îú‚îÄ‚îÄ adapters/         # Implementaciones concretas
‚îÇ   ‚îú‚îÄ‚îÄ services/         # L√≥gica de negocio
‚îÇ   ‚îî‚îÄ‚îÄ api_main.py       # FastAPI application
‚îÇ
‚îî‚îÄ‚îÄ front/                # Frontend (React/TypeScript)
    ‚îú‚îÄ‚îÄ components/       # Componentes React
    ‚îú‚îÄ‚îÄ services/         # API clients
    ‚îî‚îÄ‚îÄ App.tsx           # Aplicaci√≥n principal
```

---

## üì¶ Requisitos Previos

Antes de comenzar, asegurate de tener instalado:

- **Python 3.13+**
- **Node.js 18+** (para el frontend)
- **uv** (gestor de paquetes Python, recomendado) o **pip**
- **API Key de Google Gemini** ([Obtener aqu√≠](https://aistudio.google.com/app/apikey))

### Instalar `uv` (recomendado)

```bash
curl -LsSf https://astral.sh/uv/install.sh | sh
```

O con pip:

```bash
pip install uv
```

---

## ‚öôÔ∏è Instalaci√≥n y Configuraci√≥n

### 1. Backend (RAG App)

#### Paso 1.1: Clonar el repositorio (si a√∫n no lo hiciste)

```bash
git clone https://github.com/wachinalpha/Bot_seguridad_social.git
cd Bot_seguridad_social
```

#### Paso 1.2: Configurar variables de entorno

Crear el archivo `.env` en el directorio `rag_app/`:

```bash
cd rag_app
```

Crear el archivo `.env` con el siguiente contenido:

```bash
# .env
GEMINI_API_KEY=tu_api_key_de_gemini_aqui
```

**Importante:** Reemplaz√° `tu_api_key_de_gemini_aqui` con tu API key real de Google Gemini.

#### Paso 1.3: Instalar dependencias

**Opci√≥n A: Usando `uv` (recomendado)**

```bash
# Desde el directorio rag_app/
uv sync
```

**Opci√≥n B: Usando `pip` tradicional**

```bash
pip install -r requirements.txt
```

#### Paso 1.4: Configurar la base de datos vectorial

El sistema necesita documentos legales indexados para funcionar. Ejecut√° el script de setup:

```bash
# Desde el directorio ra√≠z del proyecto
cd ..
python -m rag_app.scripts.setup_from_md
```

Este script:
- ‚úÖ Lee el documento `Anses1.md` disponible
- ‚úÖ Genera embeddings usando Gemini
- ‚úÖ Indexa el contenido en ChromaDB
- ‚úÖ Crea la base vectorial en `rag_app/chroma_db/`

---

### 2. Frontend (React + TypeScript)

#### Paso 2.1: Navegar al directorio del frontend

```bash
cd front
```

#### Paso 2.2: Instalar dependencias de Node.js

```bash
npm install
```

#### Paso 2.3: Configurar variables de entorno

Crear el archivo `.env.local` en el directorio `front/`:

```bash
# .env.local
VITE_GEMINI_API_KEY=tu_api_key_de_gemini_aqui
```

**Nota:** Si ya conectaste el frontend con el backend FastAPI, este paso podr√≠a ser opcional dependiendo de tu configuraci√≥n.

---

## ‚ñ∂Ô∏è Ejecuci√≥n de la Aplicaci√≥n

Necesit√°s **dos terminales separadas** para correr el backend y el frontend:

### Terminal 1: Backend (FastAPI)

```bash
cd rag_app
python api_main.py
```

O usando uvicorn directamente:

```bash
uvicorn rag_app.api_main:app --host 0.0.0.0 --port 8000 --reload
```

El backend estar√° disponible en:
- **API:** http://localhost:8000
- **Documentaci√≥n interactiva:** http://localhost:8000/docs
- **ReDoc:** http://localhost:8000/redoc

### Terminal 2: Frontend (React)

```bash
cd front
npm run dev
```

El frontend estar√° disponible en:
- **Aplicaci√≥n Web:** http://localhost:5173 (o el puerto que Vite asigne)

---

### Solo Backend API (para desarrollo/testing)

Si solo quer√©s levantar la API sin frontend para probar los endpoints:

```bash
cd rag_app
python api_main.py
```

Acced√© a la documentaci√≥n interactiva en http://localhost:8000/docs para probar los endpoints.

---

## üóÑÔ∏è Gesti√≥n de la Base de Datos

Comandos √∫tiles para gestionar la base de datos vectorial ChromaDB:

### Verificar estado de la base de datos

```bash
# Ver cantidad de documentos
uv run python -c "from rag_app.adapters.stores.chroma_adapter import ChromaAdapter; print(f'Documentos: {ChromaAdapter().count_documents()}')"

# Ver IDs de todos los documentos
uv run python -c "from rag_app.adapters.stores.chroma_adapter import ChromaAdapter; print(ChromaAdapter().get_all_document_ids())"
```

### Resetear la base de datos

```bash
# Modo interactivo (pide confirmaci√≥n)
uv run python -m rag_app.scripts.reset_db

# Modo force (sin confirmaci√≥n - √∫til para scripts)
uv run python -m rag_app.scripts.reset_db --force

# Modo verbose (muestra lista de documentos)
uv run python -m rag_app.scripts.reset_db --verbose

# Ver ayuda
uv run python -m rag_app.scripts.reset_db --help
```

### Re-ingestar documentos

Despu√©s de resetear, pod√©s volver a cargar los documentos:

```bash
# Cargar desde Anses1.md
uv run python -m rag_app.scripts.setup_from_md

# Cargar desde URLs en leyes_config.json
uv run python -m rag_app.scripts.setup_db
```

---

## üìö Estructura de Carpetas (Detallada)

```
rag_app/
  config/
    leyes_config.json      # Metadata de leyes a ingestar
    settings.py            # Configuraci√≥n central (API keys, rutas, etc.)
  
  domain/
    models.py              # Modelos: Law, Chunk, QueryResult, etc.
  
  ports/
    chunker.py             # Interface para dividir documentos
    embedder.py            # Interface para generar embeddings
    vector_store.py        # Interface para bases vectoriales
    contextualizer.py      # Interface para construir contexto LLM
  
  adapters/
    chunkers/              # Implementaciones de chunking
    embedders/             # Implementaciones de embeddings (Gemini)
    stores/                # Implementaciones de almacenamiento (ChromaDB)
    contextualizers/       # L√≥gica de construcci√≥n de prompts
    http/                  # Adaptadores HTTP (FastAPI routers)
  
  services/
    ingestion_service.py   # Servicio de ingesti√≥n de documentos
    retrieval_service.py   # Servicio de b√∫squeda y recuperaci√≥n
  
  pipelines/               # Orquestaci√≥n de alto nivel
  
  scripts/
    setup_from_md.py       # Script de configuraci√≥n inicial
    setup_db.py            # Script de ingesti√≥n desde URLs
  
  utils/
    logger.py              # Configuraci√≥n de logging
    hashing.py             # Generaci√≥n de content_hash
  
  tests/                   # Tests unitarios e integraci√≥n
  
  api_main.py              # Punto de entrada FastAPI
  
front/
  components/              # Componentes React reutilizables
  services/                # Clients para API calls
  App.tsx                  # Aplicaci√≥n principal
  types.ts                 # Definiciones de tipos TypeScript
```

### Descripci√≥n de M√≥dulos Clave

#### `config/`
| Archivo             | Funci√≥n                                                                                                                                |
| ------------------- | -------------------------------------------------------------------------------------------------------------------------------------- |
| `settings.py`       | Configuraci√≥n central. Carga variables desde `.env` (API keys, rutas, configuraci√≥n de embeddings, base vectorial, etc.). |
| `leyes_config.json` | Metadata declarativa de las leyes a ingestar: fuente, URL, versi√≥n, tipo de documento, jurisdicci√≥n, etc.                              |

#### `domain/`
| Archivo     | Funci√≥n                                                                                                                                          |
| ----------- | ------------------------------------------------------------------------------------------------------------------------------------------------ |
| `models.py` | Define clases como `Law` (documento legal completo), `Chunk` (fragmento indexable), `QueryResult`, etc. Sin l√≥gica espec√≠fica; solo estructura. |

#### `ports/` (Interfaces / Abstracciones)
| Archivo             | Funci√≥n                                                                                                            |
| ------------------- | ------------------------------------------------------------------------------------------------------------------ |
| `chunker.py`        | Interface para dividir documentos (`Law ‚Üí list[Chunk]`).                                                           |
| `embedder.py`       | Interface para generar embeddings a partir de texto.                                                               |
| `vector_store.py`   | Interface para almacenar/buscar chunks en bases vectoriales.                                                       |
| `contextualizer.py` | Interface para armar el "contexto final" que ver√° el LLM (prompt builder, re-ranker, formateo de citas). |

#### `adapters/`
| Carpeta            | Contenido                                                                                |
| ------------------ | ---------------------------------------------------------------------------------------- |
| `chunkers/`        | Implementaciones: `HybridMarkdownChunker`, `ArticleChunker`, etc.                        |
| `embedders/`       | Implementaciones: `GeminiEmbedder`, etc.                                                 |
| `stores/`          | Implementaciones: `ChromaAdapter`, `PgVectorStore`, etc.                                 |
| `contextualizers/` | L√≥gica para construir prompts y aplicar Context Caching de Gemini.                       |
| `http/`            | Adaptadores HTTP: `APIAdapter` (routers FastAPI), `SessionManager`.                      |

#### `services/`
| Archivo                | Funci√≥n                                                                                                                       |
| ---------------------- | ----------------------------------------------------------------------------------------------------------------------------- |
| `ingestion_service.py` | Toma una ley ‚Üí chunk ‚Üí embedding ‚Üí guarda en base vectorial. Incluye versionado e idempotencia.                               |
| `retrieval_service.py` | Dada una consulta ‚Üí busca los chunks relevantes ‚Üí construye contexto ‚Üí genera respuesta con LLM. |

---

## ü§ù Contribuir

¬°Las contribuciones son bienvenidas! Este proyecto est√° abierto a mejoras, correcciones de bugs, y nuevas funcionalidades.

### C√≥mo Contribuir

1. **Fork** el repositorio
2. **Crea una rama** para tu feature (`git checkout -b feature/AmazingFeature`)
3. **Commit** tus cambios (`git commit -m 'feat: Add some AmazingFeature'`)
4. **Push** a la rama (`git push origin feature/AmazingFeature`)
5. **Abre un Pull Request**

Por favor lee nuestra [Gu√≠a de Contribuci√≥n](CONTRIBUTING.md) para m√°s detalles sobre:
- Est√°ndares de c√≥digo
- Proceso de desarrollo
- Arquitectura del proyecto
- Testing y debugging

### C√≥digo de Conducta

Este proyecto adhiere a un [C√≥digo de Conducta](CODE_OF_CONDUCT.md). Al participar, se espera que mantengas este c√≥digo.

---

## üìÑ Licencia

Este proyecto est√° licenciado bajo la Licencia MIT - ver el archivo [LICENSE](LICENSE) para m√°s detalles.

```
MIT License

Copyright (c) 2025 Bot Seguridad Social Contributors

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction...
```

---

## üîß Troubleshooting

### Backend

#### Error: `GEMINI_API_KEY not found`
**Soluci√≥n:** Verific√° que el archivo `.env` existe en `rag_app/` y contiene tu API key:
```bash
cd rag_app
cat .env
```

#### Error: `Could not find Anses1.md`
**Soluci√≥n:** El script `setup_from_md.py` busca en:
- `rag_app/Anses1.md`
- `Documentos_Anses/Anses1.md`

Asegurate que el archivo est√© en una de estas ubicaciones.

#### Error: `Module 'rag_app' has no attribute...`
**Soluci√≥n:** Ejecut√° los scripts desde el **directorio ra√≠z del proyecto** usando:
```bash
python -m rag_app.scripts.setup_from_md
```
No ejecutes directamente con `python rag_app/scripts/setup_from_md.py`.

#### Error: `Port 8000 already in use`
**Soluci√≥n:** Cambi√° el puerto en `api_main.py` o mat√° el proceso que est√° usando el puerto:
```bash
lsof -ti:8000 | xargs kill -9
```

### Frontend

#### Error: `npm install` falla
**Soluci√≥n:** Verific√° tu versi√≥n de Node.js:
```bash
node --version  # Debe ser >= 18
```

#### Error: `API connection failed`
**Soluci√≥n:** Verific√° que:
1. El backend est√© corriendo en `http://localhost:8000`
2. CORS est√© configurado correctamente en `api_main.py`
3. El archivo `services/api.ts` apunte a la URL correcta del backend

#### La app carga pero no responde
**Soluci√≥n:** Abr√≠ las DevTools del navegador (F12) y revis√° la consola para errores. Verific√° que el backend tenga documentos indexados:
```bash
# Verificar logs del backend buscando:
# "üìä Indexed documents: N"
```

---

## üìñ Uso

### Consultas de Ejemplo

Una vez que la aplicaci√≥n est√© corriendo, pod√©s hacer preguntas como:

- *"¬øCu√°les son los requisitos para la jubilaci√≥n?"*
- *"Explicame el sistema de seguridad social argentino"*
- *"¬øQu√© documentaci√≥n necesito para tramitar la jubilaci√≥n?"*
- *"¬øCu√°l es la edad m√≠nima para jubilarse?"*

### Endpoints de la API

- `GET /health` - Verificar estado del servidor
- `POST /api/v1/chat` - Enviar consulta al asistente
- `GET /api/v1/documents` - Listar documentos indexados
- `POST /api/v1/upload` - Subir nuevos documentos (en desarrollo)

Documentaci√≥n completa en: http://localhost:8000/docs

---

## ü§ù Contribuciones

Este proyecto est√° en desarrollo activo. La arquitectura hexagonal facilita agregar nuevos adapters (embedders, chunkers, vector stores) sin modificar la l√≥gica de negocio.

---

## üìù Notas

- **Arquitectura Hexagonal:** Facilita testing y permite cambiar implementaciones (ej: de ChromaDB a PostgreSQL con pgvector) sin tocar el core.
- **Context Caching de Gemini:** Permite cachear documentos grandes (leyes completas) para reducir costos y latencia.
- **Document-Level Retrieval:** Se recuperan leyes completas en lugar de fragmentos peque√±os para mejor contexto.




```

### [FILE] ROADMAP.md
```md
# Roadmap - Bot Seguridad Social

Visi√≥n y plan de desarrollo futuro para el Bot de Seguridad Social Argentina.

## üéØ Visi√≥n

Crear el asistente virtual m√°s completo y confiable para consultas sobre seguridad social en Argentina, con capacidades multimodales, multi-idioma, y accesible para todos.

---

## üìÖ Versiones Planeadas

### ‚úÖ v0.1.0 - MVP (Completado - Diciembre 2025)

**Funcionalidades Core:**
- [x] Sistema RAG b√°sico con Gemini
- [x] ChromaDB como vector store
- [x] FastAPI backend
- [x] React frontend
- [x] Context caching
- [x] Document-level retrieval
- [x] Arquitectura hexagonal
- [x] Documentaci√≥n completa

---

### üöß v0.2.0 - Mejoras de Producci√≥n (Q1 2026)

**Objetivo:** Hacer el sistema production-ready

**Backend:**
- [ ] Autenticaci√≥n de usuarios (JWT)
- [ ] Rate limiting por usuario
- [ ] Cach√© de respuestas (Redis)
- [ ] Logging estructurado (JSON)
- [ ] M√©tricas (Prometheus)
- [ ] Health checks avanzados

**Frontend:**
- [ ] Autenticaci√≥n UI
- [ ] Historial de conversaciones
- [ ] Exportar conversaciones (PDF/MD)
- [ ] Modo oscuro
- [ ] Responsive design mejorado
- [ ] PWA (Progressive Web App)

**DevOps:**
- [ ] CI/CD pipeline (GitHub Actions)
- [ ] Docker Compose completo
- [ ] Kubernetes manifests
- [ ] Terraform scripts (AWS/GCP)

**Testing:**
- [ ] Cobertura de tests > 80%
- [ ] Tests E2E (Playwright)
- [ ] Performance testing (Locust)

---

### üîÆ v0.3.0 - Features Avanzadas (Q2 2026)

**Objetivo:** Expandir capacidades del asistente

**Multi-Source RAG:**
- [ ] Soporte para m√∫ltiples leyes en una query
- [ ] Comparaci√≥n entre leyes
- [ ] Timeline de cambios legislativos
- [ ] Referencias cruzadas autom√°ticas

**Multimodal:**
- [ ] Upload de documentos (PDF, DOCX)
- [ ] An√°lisis de im√°genes (formularios, DNI)
- [ ] Generaci√≥n de formularios pre-llenados

**Mejoras de LLM:**
- [ ] Fine-tuning de modelo espec√≠fico
- [ ] Soporte para m√∫ltiples providers (OpenAI, Anthropic)
- [ ] Fallback autom√°tico entre providers
- [ ] Streaming de respuestas

**UX:**
- [ ] Sugerencias de preguntas
- [ ] Autocompletado inteligente
- [ ] Feedback de usuarios (thumbs up/down)
- [ ] Explicaciones paso a paso

---

### üåü v0.4.0 - Expansi√≥n (Q3 2026)

**Objetivo:** Alcanzar m√°s usuarios

**Multi-idioma:**
- [ ] Soporte para ingl√©s
- [ ] Soporte para portugu√©s
- [ ] Detecci√≥n autom√°tica de idioma

**Accesibilidad:**
- [ ] Modo de alto contraste
- [ ] Soporte para screen readers
- [ ] Atajos de teclado
- [ ] Texto a voz (TTS)
- [ ] Voz a texto (STT)

**Integraciones:**
- [ ] WhatsApp bot
- [ ] Telegram bot
- [ ] API p√∫blica con documentaci√≥n
- [ ] Webhooks para notificaciones

**Mobile:**
- [ ] App React Native (iOS/Android)
- [ ] Notificaciones push
- [ ] Modo offline

---

### üöÄ v1.0.0 - Release Oficial (Q4 2026)

**Objetivo:** Lanzamiento p√∫blico oficial

**Estabilidad:**
- [ ] 99.9% uptime
- [ ] Performance optimizado
- [ ] Security audit completo
- [ ] Compliance con GDPR/LGPD

**Documentaci√≥n:**
- [ ] Documentaci√≥n en ingl√©s
- [ ] Video tutorials
- [ ] API reference completa
- [ ] Case studies

**Comunidad:**
- [ ] Programa de embajadores
- [ ] Hackathon
- [ ] Blog t√©cnico
- [ ] Newsletter

---

## üé® Features en Consideraci√≥n

Ideas que estamos evaluando (sin timeline definido):

### Inteligencia Artificial
- [ ] Agentes aut√≥nomos (multi-step reasoning)
- [ ] Generaci√≥n de documentos legales
- [ ] Predicci√≥n de elegibilidad autom√°tica
- [ ] Chatbot con personalidad configurable

### Datos y Analytics
- [ ] Dashboard de analytics para admins
- [ ] Insights sobre preguntas frecuentes
- [ ] Detecci√≥n de gaps en documentaci√≥n
- [ ] A/B testing de prompts

### Colaboraci√≥n
- [ ] Modo multi-usuario (equipos)
- [ ] Compartir conversaciones
- [ ] Anotaciones colaborativas
- [ ] Wiki comunitaria

### Gamificaci√≥n
- [ ] Sistema de badges
- [ ] Leaderboard de contribuidores
- [ ] Challenges semanales

---

## üî¨ Investigaci√≥n y Desarrollo

√Åreas de investigaci√≥n activa:

### RAG Avanzado
- [ ] Hybrid search (keyword + semantic)
- [ ] Re-ranking con cross-encoders
- [ ] Query expansion autom√°tica
- [ ] Contextual compression

### Optimizaci√≥n
- [ ] Quantizaci√≥n de embeddings
- [ ] Caching multinivel
- [ ] Batch processing de queries
- [ ] Edge deployment

### Evaluaci√≥n
- [ ] Framework de evaluaci√≥n autom√°tica
- [ ] Benchmarks contra otros sistemas
- [ ] Human evaluation pipeline

---

## ü§ù C√≥mo Contribuir al Roadmap

¬øTen√©s ideas para el roadmap?

1. **Abrir un Issue** con label `roadmap`
2. **Votar** en issues existentes con üëç
3. **Discutir** en GitHub Discussions
4. **Implementar** features y abrir PR

### Priorizaci√≥n

Priorizamos features bas√°ndonos en:

1. **Impacto en usuarios** (alto > bajo)
2. **Complejidad de implementaci√≥n** (bajo > alto)
3. **Alineaci√≥n con visi√≥n** (alta > baja)
4. **Votos de la comunidad** (muchos > pocos)

---

## üìä M√©tricas de √âxito

### v0.2.0
- ‚ö° Response time < 3s (p95)
- üìà Uptime > 99%
- üß™ Test coverage > 80%
- üë• 10+ contributors

### v0.3.0
- üéØ Accuracy > 90% (human eval)
- üí¨ 1000+ queries/d√≠a
- üåç Soporte para 3 idiomas
- üì± Mobile app lanzada

### v1.0.0
- üöÄ 10,000+ usuarios activos
- ‚≠ê 500+ GitHub stars
- üìö 100+ documentos indexados
- üèÜ Reconocimiento en conferencias

---

## üìÖ Timeline Visual

```
2025 Q4  ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà v0.1.0 MVP ‚úÖ
2026 Q1  ‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë v0.2.0 Producci√≥n
2026 Q2  ‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë v0.3.0 Features Avanzadas
2026 Q3  ‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë v0.4.0 Expansi√≥n
2026 Q4  ‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë v1.0.0 Release Oficial
```

---

## üí° Sugerencias?

Abr√≠ un issue con tus ideas: [New Feature Request](https://github.com/tu-usuario/Bot_seguridad_social/issues/new?template=feature_request.md)

---

**√öltima actualizaci√≥n:** Diciembre 2025  
**Pr√≥xima revisi√≥n:** Marzo 2026

```

### [FILE] SECURITY.md
```md
# Security Policy

## Supported Versions

Las siguientes versiones del Bot de Seguridad Social est√°n actualmente soportadas con actualizaciones de seguridad:

| Version | Supported          |
| ------- | ------------------ |
| 0.1.x   | :white_check_mark: |

## Reporting a Vulnerability

La seguridad de nuestros usuarios es nuestra m√°xima prioridad. Si descubr√≠s una vulnerabilidad de seguridad, por favor segu√≠ estos pasos:

### üîí Reporte Privado (Recomendado)

**NO** abras un issue p√∫blico para vulnerabilidades de seguridad.

En su lugar:

1. **Email**: Envi√° un email a los mantenedores con:
   - Descripci√≥n detallada de la vulnerabilidad
   - Pasos para reproducir el problema
   - Impacto potencial
   - Sugerencias de mitigaci√≥n (si las ten√©s)

2. **GitHub Security Advisory**: Us√° la funci√≥n de [Security Advisories](https://github.com/tu-usuario/Bot_seguridad_social/security/advisories) de GitHub

### ‚è±Ô∏è Tiempo de Respuesta

- **Confirmaci√≥n inicial**: Dentro de 48 horas
- **Evaluaci√≥n**: Dentro de 7 d√≠as
- **Fix y disclosure**: Depende de la severidad (ver abajo)

### üìä Niveles de Severidad

#### üî¥ Cr√≠tico
- Ejecuci√≥n remota de c√≥digo
- Acceso no autorizado a datos sensibles
- **Tiempo de fix**: 24-48 horas

#### üü† Alto
- Bypass de autenticaci√≥n
- Inyecci√≥n SQL/NoSQL
- **Tiempo de fix**: 7 d√≠as

#### üü° Medio
- Cross-Site Scripting (XSS)
- Exposici√≥n de informaci√≥n sensible
- **Tiempo de fix**: 30 d√≠as

#### üü¢ Bajo
- Problemas de configuraci√≥n
- Mejoras de seguridad
- **Tiempo de fix**: 90 d√≠as

### üéñÔ∏è Reconocimiento

Si report√°s una vulnerabilidad v√°lida:

- Tu nombre ser√° incluido en el CHANGELOG (si lo dese√°s)
- Ser√°s mencionado en el Security Advisory
- Agradecimiento p√∫blico en la release notes

## üõ°Ô∏è Mejores Pr√°cticas de Seguridad

### Para Usuarios

1. **API Keys**:
   - NUNCA commitees tu `GEMINI_API_KEY` al repositorio
   - Us√° variables de entorno (`.env`)
   - Rot√° las keys regularmente

2. **Deployment**:
   - Siempre us√° HTTPS en producci√≥n
   - Configur√° rate limiting
   - Implement√° autenticaci√≥n si es necesario

3. **Actualizaciones**:
   - Manten√© las dependencias actualizadas
   - Revis√° el CHANGELOG para security fixes

### Para Desarrolladores

1. **C√≥digo**:
   - Nunca loguees informaci√≥n sensible
   - Valid√° todos los inputs del usuario
   - Us√° prepared statements para queries

2. **Dependencias**:
   - Ejecut√° `npm audit` y `pip-audit` regularmente
   - Actualiz√° dependencias con vulnerabilidades conocidas

3. **Secrets**:
   - Us√° `.env.example` para templates
   - Agreg√° `.env` al `.gitignore`
   - Consider√° usar secret managers (AWS Secrets Manager, etc.)

## üîç Vulnerabilidades Conocidas

Actualmente no hay vulnerabilidades conocidas en la versi√≥n 0.1.0.

Revis√° el [CHANGELOG](CHANGELOG.md) para historial de security fixes.

## üìö Recursos

- [OWASP Top 10](https://owasp.org/www-project-top-ten/)
- [FastAPI Security](https://fastapi.tiangolo.com/tutorial/security/)
- [React Security Best Practices](https://react.dev/learn/security)

## ü§ù Pol√≠tica de Divulgaci√≥n

Seguimos una pol√≠tica de **Responsible Disclosure**:

1. El reporter nos notifica en privado
2. Trabajamos en un fix
3. Publicamos el fix
4. Divulgamos la vulnerabilidad p√∫blicamente (con cr√©dito al reporter)

**Tiempo t√≠pico**: 90 d√≠as desde el reporte inicial hasta la divulgaci√≥n p√∫blica.

---

Gracias por ayudar a mantener seguro el Bot de Seguridad Social üõ°Ô∏è

```

### [FILE] .github\PULL_REQUEST_TEMPLATE.md
```md
## üìù Descripci√≥n

Descripci√≥n clara y concisa de los cambios realizados.

Fixes #(issue)

## üéØ Tipo de Cambio

- [ ] üêõ Bug fix (cambio que corrige un issue)
- [ ] ‚ú® Nueva feature (cambio que agrega funcionalidad)
- [ ] üí• Breaking change (fix o feature que causa que funcionalidad existente no funcione como antes)
- [ ] üìö Documentaci√≥n (cambios solo en documentaci√≥n)
- [ ] üé® Estilo (formateo, punto y coma faltantes, etc; sin cambio de c√≥digo)
- [ ] ‚ôªÔ∏è Refactor (cambio de c√≥digo que no corrige bug ni agrega feature)
- [ ] ‚ö° Performance (cambio que mejora performance)
- [ ] ‚úÖ Test (agregar tests faltantes o corregir tests existentes)
- [ ] üîß Chore (cambios en build process, dependencias, etc)

## üß™ Testing

Describ√≠ los tests que ejecutaste para verificar tus cambios.

- [ ] Tests unitarios pasan (`pytest`)
- [ ] Tests de integraci√≥n pasan
- [ ] Linting pasa (`black`, `flake8`)
- [ ] Frontend builds sin errores (`npm run build`)
- [ ] Probado manualmente

**Casos de test:**
1. Test case 1
2. Test case 2

## üì∏ Screenshots (si aplica)

Agreg√° screenshots para mostrar cambios visuales.

## ‚úîÔ∏è Checklist

- [ ] Mi c√≥digo sigue los est√°ndares del proyecto
- [ ] Realic√© self-review de mi c√≥digo
- [ ] Coment√© mi c√≥digo, particularmente en √°reas dif√≠ciles de entender
- [ ] Actualic√© la documentaci√≥n correspondiente
- [ ] Mis cambios no generan nuevos warnings
- [ ] Agregu√© tests que prueban que mi fix es efectivo o que mi feature funciona
- [ ] Tests unitarios nuevos y existentes pasan localmente
- [ ] Cualquier cambio dependiente fue mergeado y publicado

## üìö Documentaci√≥n

- [ ] README.md actualizado (si aplica)
- [ ] CHANGELOG.md actualizado
- [ ] Docstrings/comentarios agregados
- [ ] Documentaci√≥n t√©cnica actualizada (si aplica)

## üîó Issues Relacionados

Lista de issues relacionados:
- Closes #
- Related to #

## üí¨ Notas Adicionales

Cualquier informaci√≥n adicional que los reviewers deber√≠an saber.

```

### [FILE] .github\ISSUE_TEMPLATE\bug_report.md
```md
---
name: Bug Report
about: Reportar un bug o problema
title: '[BUG] '
labels: bug
assignees: ''
---

## üêõ Descripci√≥n del Bug

Una descripci√≥n clara y concisa del bug.

## üìù Pasos para Reproducir

1. Ir a '...'
2. Hacer click en '...'
3. Ejecutar comando '...'
4. Ver error

## ‚úÖ Comportamiento Esperado

Descripci√≥n clara de lo que esperabas que sucediera.

## ‚ùå Comportamiento Actual

Descripci√≥n clara de lo que est√° sucediendo actualmente.

## üì∏ Screenshots

Si aplica, agreg√° screenshots para ayudar a explicar el problema.

## üñ•Ô∏è Entorno

**Backend:**
- OS: [e.g. Ubuntu 22.04, Windows 11, macOS 14]
- Python Version: [e.g. 3.13.0]
- uv Version: [e.g. 0.1.0]
- Dependencias relevantes: [e.g. FastAPI 0.109.0]

**Frontend:**
- Node.js Version: [e.g. 18.17.0]
- Browser: [e.g. Chrome 120, Firefox 121]
- React Version: [e.g. 19.2.3]

## üìã Logs

```
Peg√° aqu√≠ los logs relevantes
```

## üîç Contexto Adicional

Agreg√° cualquier otro contexto sobre el problema aqu√≠.

## ‚úîÔ∏è Checklist

- [ ] Revis√© que no exista un issue similar
- [ ] Prob√© con la √∫ltima versi√≥n del c√≥digo
- [ ] Inclu√≠ logs y mensajes de error
- [ ] Inclu√≠ pasos para reproducir

```

### [FILE] .github\ISSUE_TEMPLATE\feature_request.md
```md
---
name: Feature Request
about: Sugerir una nueva funcionalidad
title: '[FEATURE] '
labels: enhancement
assignees: ''
---

## üöÄ Descripci√≥n de la Feature

Una descripci√≥n clara y concisa de la funcionalidad que te gustar√≠a ver.

## üí° Motivaci√≥n

**¬øQu√© problema resuelve esta feature?**

Descripci√≥n clara del problema o necesidad que motiva esta feature.

Ejemplo: "Siempre me frustro cuando [...]"

## üéØ Soluci√≥n Propuesta

Descripci√≥n clara y concisa de lo que quer√©s que suceda.

## üîÑ Alternativas Consideradas

Descripci√≥n de soluciones o features alternativas que consideraste.

## üìä Impacto

**¬øA qui√©n beneficia esta feature?**
- [ ] Usuarios finales
- [ ] Desarrolladores
- [ ] Administradores
- [ ] Todos

**¬øQu√© componentes se ver√≠an afectados?**
- [ ] Backend (FastAPI)
- [ ] Frontend (React)
- [ ] Base de datos (ChromaDB)
- [ ] Documentaci√≥n
- [ ] Tests
- [ ] Deployment

## üé® Mockups/Dise√±os

Si aplica, agreg√° mockups, wireframes, o ejemplos visuales.

## üìù Tareas Potenciales

Lista preliminar de tareas para implementar esta feature:

- [ ] Tarea 1
- [ ] Tarea 2
- [ ] Tarea 3

## üîó Referencias

Links a documentaci√≥n, ejemplos, o recursos relevantes.

## ‚úîÔ∏è Checklist

- [ ] Revis√© que no exista una feature request similar
- [ ] Esta feature est√° alineada con los objetivos del proyecto
- [ ] Consider√© el impacto en la arquitectura existente

```

### [FILE] data\processed\ley_anses_001.md
```md
# Presidencia de la Naci√≥n

[Pasar al contenido principal](#main-content)

Argentina.gob.ar

<!-- image -->

[Ir a Mi Argentina](https://mi.argentina.gob.ar/)

Buscar

*Cerrar el buscador*

[*Mi Argentina*](https://mi.argentina.gob.ar/)

Dejar en blanco

Buscar en el sitio Buscar en el sitio

1. [Inicio](/)
2. [Normativa](/normativa)
3. [Ley 24714/1996](/normativa/nacional/ley-24714-39880)
4. Texto actualizado

# 

HONORABLE CONGRESO DE LA NACION ARGENTINA

**1996-10-18**

*( Nota Infoleg : norma abrogada por art. 26 del* [*Decreto N¬∞ 1382/01*](/normativa/nacional/decreto-1382-2001-69649) *- B.O. 2/11/2001 y restablecida su vigencia por* [*Decreto N¬∞ 1604/2001*](/normativa/nacional/decreto-1604-2001-70499) *B.O. 6/12/2001, con excepci√≥n de las normas correspondientes a las prestaciones a las que se refiere el tercer p√°rrafo del art. 26 del* [*Decreto N¬∞ 1382/01*](/normativa/nacional/decreto-1382-2001-69649) *, cuya vigencia se regir√° por las pautas en el establecidas)*

**REGIMEN DE ASIGNACIONES FAMILIARES**

**Ley 24.714**

**Se instituye el mismo con alcance nacional y obligatorio. Der√≥gase la Ley N¬∞ 18.017 y sus modificatorias, y los Decretos Nros. 770/96, 771/96, 991/96 y toda otra norma que se oponga al presente.**

Sancionada: Octubre 2 de 1996.

Promulgada Parcialmente: Octubre 16 de 1996.

[**Ver Antecedentes Normativos**](#1)

El Senado y C√°mara de Diputados de la Naci√≥n Argentina reunidos en Congreso etc., sancionan con fuerza de

Ley:

**ARTICULO 1¬∞-** Se instituye con alcance nacional y obligatorio, y sujeto a las disposiciones de la presente ley, un R√©gimen de Asignaciones Familiares basado en:

a) Un subsistema contributivo fundado en los principios de reparto de aplicaci√≥n a los trabajadores que presten servicios remunerados en relaci√≥n de dependencia en la actividad privada, cualquiera sea la modalidad de contrataci√≥n laboral, beneficiarios de la Ley sobre Riesgos de Trabajo y beneficiarios del Seguro de Desempleo, el que se financiar√° con los recursos previstos en el art√≠culo 5¬∞ de la presente ley. a') Un subsistema contributivo de aplicaci√≥n a las personas inscriptas y aportantes al R√©gimen Simplificado para Peque√±os Contribuyentes (RS) establecido por la Ley N¬∞ 24.977, sus complementarias y modificatorias, el que se financiar√° con los recursos previstos en el art√≠culo 5¬∞ de la presente Ley. (Inciso sustituido por art. 13 del [Decreto N¬∫ 840/2020](/normativa/nacional/decreto-840-2020-343905) B.O. 4/11/2020. Ver aplicaci√≥n art. 17 del Decreto de referencia) b) Un subsistema no contributivo de aplicaci√≥n a los beneficiarios del Sistema Integrado Previsional Argentino (SIPA), beneficiarios del r√©gimen de pensiones no contributivas por invalidez, y para la Pensi√≥n Universal para el Adulto Mayor, el que se financiar√° con los recursos del r√©gimen previsional previstos en el art√≠culo 18 de la ley 24.241. (Inciso sustituido por art. 18 de la [Ley N¬∞ 27.260](/normativa/nacional/ley-27260-2016-263691) B.O. 22/7/2016. Vigencia: a partir del d√≠a siguiente al de su publicaci√≥n en el Bolet√≠n Oficial.)

c) Un subsistema no contributivo compuesto por la Asignaci√≥n por Embarazo para Protecci√≥n Social y la Asignaci√≥n Universal por Hijo para Protecci√≥n Social, destinado, respectivamente, a las mujeres embarazadas y a aquellos ni√±os, ni√±as y adolescentes residentes en la REPUBLICA ARGENTINA; que pertenezcan a grupos familiares que se encuentren desocupados o se desempe√±en en la econom√≠a informal. *(Inciso sustituido por art. 1¬∞ del* [*Decreto N¬∞ 446/2011*](/normativa/nacional/decreto-446-2011-181250) *B.O. 19/4/2011)*

*( Nota Infoleg : Las normas que establecen* el l√≠mite de ingresos m√≠nimo y m√°ximo aplicable a los titulares y a las titulares de los incisos a) y b) del presente art√≠culo y sus modificatorias, correspondiente al grupo familiar referido en el art√≠culo 1¬∞ del Decreto N¬∞ 1667/2012, *que se hayan publicado en Bolet√≠n Oficial pueden consultarse clickeando en el enlace '* [*Esta norma es complementada o modificada por X norma(s)*](http://servicios.infoleg.gob.ar/infolegInternet/verVinculos.do?modo=2&id=39880) *.')*

**ARTICULO 2¬∞-** Las empleadas/os del R√©gimen Especial de Contrato de Trabajo para el Personal de Casas Particulares se encuentran incluidas en el inciso c) del art√≠culo 1¬∞, siendo beneficiarias de la Asignaci√≥n por Embarazo para Protecci√≥n Social y de la Asignaci√≥n Universal por Hijo para Protecci√≥n Social, quedando excluidas de los incisos a) y b) del citado art√≠culo con excepci√≥n del derecho a la percepci√≥n de la Asignaci√≥n por Maternidad establecida por el inciso e) del art√≠culo 6¬∞ de la presente ley. Fac√∫ltase al Poder Ejecutivo nacional para que dicte las normas pertinentes a efectos de adecuar y extender a las empleadas/os de dicho r√©gimen especial estatutario las dem√°s asignaciones familiares previstas en la presente ley. Fac√∫ltase a la Administraci√≥n Federal de Ingresos P√∫blicos (AFIP) para establecer las al√≠cuotas correspondientes para el financiamiento de la asignaci√≥n familiar por maternidad correspondiente a las empleadas del R√©gimen Especial de Contrato de Trabajo para el Personal de Casas Particulares. (Art√≠culo sustituido por art. 72 inc. b) de la [Ley N¬∞ 26.844](/normativa/nacional/ley-26844-2013-210489) . Vigencia: de aplicaci√≥n a todas las relaciones laborales alcanzadas por este r√©gimen al momento de su entrada en vigencia)

**ARTICULO 3¬∞-** Quedan excluidos de las prestaciones de esta ley, con excepci√≥n de las asignaciones familiares por maternidad y por hijos con discapacidad, los trabajadores que perciban una remuneraci√≥n inferior a PESOS CIEN ($ 100) o igual o superior a PESOS CUATRO MIL CON UN CENTAVO ($ 4.000,01). *(Tope m√°ximo de remuneraci√≥n sustituido por art. 1¬∞ del* [*Decreto N¬∞ 1345/2007*](/normativa/nacional/decreto-1345-2007-133007) *B.O. 5/10/2007. Vigencia: a partir del 1¬∫ de julio de 2007).*

Para los que trabajen en las Provincias de LA PAMPA, NEUQUEN, RIO NEGRO, CHUBUT, SANTA CRUZ, TIERRA DEL FUEGO, ANTARTIDA E ISLAS DEL ATLANTICO SUR; o en los Departamentos de Antofagasta de la Sierra (exclusivamente para los que se desempe√±en en la actividad minera) de la Provincia de CATAMARCA; o en los Departamentos de Cochinoca, Humahuaca, Rinconada, Santa Catalina, Susques y Yavi de la Provincia de JUJUY; o en el Distrito Las Cuevas del Departamento de Las Heras, en los Distritos Potrerillos, Carrizal, Agrelo, Ugarteche, Perdriel y Las Compuertas del Departamento de Luj√°n de Cuyo, en los Distritos de Santa Clara, Zapata, San Jos√© y Anchoris del Departamento Tupungato, en los Distritos de Los Arboles, Los Chacayes y Campo de los Andes del Departamento de Tunuy√°n, en el Distrito de Pareditas del Departamento San Carlos, en el Distrito de Cuadro Benegas del Departamento San Rafael, en los Distritos Malarg√ºe, R√≠o Grande, R√≠o Barrancas, Agua Escondida del Departamento Malarg√ºe, en los Distritos Russell, Cruz de Piedra, Las Barrancas y Lumlunta del Departamento Maip√∫, en los Distritos de El Mirador, Los Campamentos, Los Arboles, Reducci√≥n y Medrano del Departamento Rivadavia de la Provincia de MENDOZA; o en los Departamentos de General San Mart√≠n (excepto Ciudad de Tartagal y su ejido urbano), Rivadavia, Los Andes, Santa Victoria y Or√°n (excepto Ciudad de San Ram√≥n de la Nueva Oran y su ejido urbano) de la Provincia de SALTA; o en los Departamentos Bermejo, Ram√≥n Lista y Matacos de la Provincia de FORMOSA, la remuneraci√≥n deber√° ser inferior a PESOS CIEN ($100) o igual o superior a PESOS CUATRO MIL CON UN CENTAVO ($ 4.000,01) para excluir al trabajador del cobro de las prestaciones previstas en la presente ley *(Tope m√°ximo de remuneraci√≥n sustituido por art. 1¬∞ del* [*Decreto N¬∞ 1345/2007*](/normativa/nacional/decreto-1345-2007-133007) *B.O. 5/10/2007. Vigencia: a partir del 1¬∫ de julio de 2007)*

Quedan excluidos del beneficio previsto en el art√≠culo 1¬∞ inciso c) de la presente los trabajadores que se desempe√±en en la econom√≠a informal, que perciban una remuneraci√≥n superior al salario m√≠nimo, vital y m√≥vil. (√öltimo p√°rrafo sustituido por art. 72 inc. e) de la [Ley N¬∞ 26.844](/normativa/nacional/ley-26844-2013-210489) . Vigencia: de aplicaci√≥n a todas las relaciones laborales alcanzadas por este r√©gimen al momento de su entrada en vigencia) ( Nota Infoleg : en la edici√≥n del Bolet√≥n Oficial se public√≥ la modificaci√≥n de referencia como inc. e) cuando deber√≠a ser consignada como inc. c))

*(Art√≠culo sustituido por art. 1¬∞ del* [*Decreto N¬∞ 368/2004*](/normativa/nacional/decreto-368-2004-93930) *B.O. 1/4/2004. Vigencia: a partir del 1¬∫ de marzo de 2004).*

**ARTICULO 4¬∞-** Se considerar√° remuneraci√≥n a los efectos de esta ley, la definida por el Sistema Integrado de Jubilaciones y Pensiones (Ley N¬∫ 24.241, art√≠culos 6¬∫ y 9¬∫) con excepci√≥n de las horas extras y el sueldo anual complementario (SAC).

Los l√≠mites que condicionan el otorgamiento de las asignaciones familiares o la cuant√≠a de las mismas, se calcular√°n, en cada caso, en funci√≥n de la totalidad de las remuneraciones y prestaciones dinerarias y asignaci√≥n por maternidad o prestaci√≥n por desempleo o haberes previsionales correspondientes al per√≠odo que se liquide, excluy√©ndose las horas extras y el sueldo anual complementario (SAC) en los casos de trabajadores en relaci√≥n de dependencia y la prestaci√≥n anual complementaria en los casos de beneficiarios del Sistema Integrado de Jubilaciones y Pensiones.

Para los trabajadores a que hace referencia el segundo p√°rrafo del art√≠culo 3¬∫ y s√≥lo a los efectos del cobro de las asignaciones familiares, se excluir√°n del total de la remuneraci√≥n las sumas que percibiera el trabajador en concepto de horas extras, sueldo anual complementario (SAC) y zona desfavorable, inh√≥spita o importes zonales.

*(Art√≠culo sustituido por art. 2¬∞ del* [*Decreto N¬∞ 368/2004*](/normativa/nacional/decreto-368-2004-93930) *B.O. 1/4/2004. Vigencia: a partir del 1¬∫ de marzo de 2004).*

**ARTICULO 5¬∞-** Las asignaciones familiares previstas en esta ley se financiar√°n:

a) Las, que correspondan al inciso a) del art√≠culo 1¬∫ de esta ley, con los siguientes recursos:

1. Una contribuci√≥n a cargo del empleador del nueve por ciento (9 %) que se abonara sobre el total de las remuneraciones de los trabajadores comprendidos en el √°mbito de aplicaci√≥n de esta ley. De ese nueve por ciento (9 %), siete y medio puntos porcentuales (7,5 %), se destinar√°n exclusivamente a asignaciones familiares y el uno y medio (1,5 %) restante al Fondo Nacional del Empleo, con la escala de reducciones prevista en el Decreto N¬∞ 2609/93, y sus modificatorios Decretos N¬∞ 372/95, 292/95 y 492/95, los que mantienen su vigencia en los porcentajes y al√≠cuotas especificados para cada caso.

2. Una contribuci√≥n de igual cuant√≠a a la establecida en el punto anterior, a cargo del responsable del pago de prestaciones dinerarias derivadas de la Ley N¬∞ 24.557, sobre Riesgos de Trabajo.

3. Intereses, multas y recargos.

4. Rentas provenientes de inversiones.

5. Donaciones, legados y otro tipo de contribuciones.

a') Las que correspondan al inciso a') del art√≠culo 1¬∞ de esta Ley, con los siguientes recursos: 1. El porcentaje de impuesto integrado que corresponda, con destino al SISTEMA INTEGRADO PREVISIONAL ARGENTINO (SIPA) a cargo de las personas adheridas al R√©gimen Simplificado para Peque√±os Contribuyentes (RS). (Inciso incorporado por art. 2¬∞ del [Decreto N¬∞ 593/2016](/normativa/nacional/decreto-593-2016-260573) B.O. 19/4/2016. Vigencia: regir√° para las asignaciones familiares que se perciban en el mes de Mayo de 2016.)

b) Las que correspondan al inciso b) del art√≠culo 1¬∫ de esta ley con los siguientes recursos:

1. Los establecidos en el art√≠culo 18 de la Ley

c) Las que correspondan al inciso c) del art√≠culo 1¬∫ de esta ley con los siguientes recursos:

1. Los establecidos en el art√≠culo 18 de la Ley N¬∫ 24.241 y sus modificatorias;

2. (Apartado derogado por art. 35 de la [Ley N¬∞ 27.260](/normativa/nacional/ley-27260-2016-263691) B.O. 22/7/2016. Vigencia: a partir del d√≠a siguiente al de su publicaci√≥n en el Bolet√≠n Oficial.)

*(Inciso c) incorporado por art. 3¬∞ del* [*Decreto N¬∞ 1602/2009*](/normativa/nacional/decreto-1602-2009-159466) *B.O. 30/10/2009. Vigencia: a partir del 1¬∫ de noviembre de 2009)*

**ARTICULO 6¬∞-** Se establecen las siguientes prestaciones:

a) Asignaci√≥n por hijo.

b) Asignaci√≥n por hijo con discapacidad.

c) Asignaci√≥n prenatal.

d) Asignaci√≥n por ayuda escolar anual para la educaci√≥n inicial, general b√°sica y polimodal. *(Inciso sustituido por art. 2¬∞ de la* [*Ley N¬∞ 25.231*](/normativa/nacional/ley-25231-1999-61779) *B.O. 31/12/1999)*

e) Asignaci√≥n por maternidad.

f) Asignaci√≥n por nacimiento.

g) Asignaci√≥n por adopci√≥n.

h) Asignaci√≥n por matrimonio.

i) Asignaci√≥n Universal por Hijo para Protecci√≥n Social. *(Inciso incorporado por art. 4¬∞ del* [*Decreto N¬∞ 1602/2009*](/normativa/nacional/decreto-1602-2009-159466) *B.O. 30/10/2009. Vigencia: a partir del 1¬∫ de noviembre de 2009)*

j) Asignaci√≥n por Embarazo para Protecci√≥n Social. *(Inciso incorporado por art. 2¬∞ del* [*Decreto N¬∞ 446/2011*](/normativa/nacional/decreto-446-2011-181250) *B.O. 19/4/2011)*

k) Asignaci√≥n por Cuidado de Salud Integral. (Inciso k) incorporado por art. 4¬∞  de la [Ley N¬∞ 27.611](/normativa/nacional/ley-27611-2020-346233) B.O. 15/01/2021)

**ARTICULO 7¬∫ -** La asignaci√≥n por hijo consistir√° en el pago de una suma mensual por cada hijo menor de 18 anos de edad que se encuentre a cargo del trabajador.

**ARTICULO 8¬∞-** La asignaci√≥n por hijo con discapacidad consistir√° en el pago de una suma mensual que se abonara al trabajador por cada hijo que se encuentre a su cargo en esa condici√≥n, sin limite de edad, a partir del mes en que se acredite tal condici√≥n ante el empleador. A los efectos de esta ley se entiende por discapacidad la definida en la Ley N¬∞ 22.431, art√≠culo 2¬∞.

**ARTICULO 9¬∞-** La asignaci√≥n prenatal consistir√° en el pago de una suma equivalente a la asignaci√≥n por hijo, que se abonara desde el momento de la concepci√≥n hasta el nacimiento del hijo. Este estado debe ser acreditado entre el tercer y cuarto mes de embarazo, mediante certificado m√©dico. Para el goce de esta asignaci√≥n se requerir√° una antig√ºedad m√≠nima y continuada en el empleo de tres meses.

**ARTICULO 10.-** La asignaci√≥n por ayuda escolar anual consistir√° en el pago de una suma de dinero que se har√° efectiva en el mes de marzo de cada a√±o. Esta asignaci√≥n se abonar√° por cada hijo que concurra regularmente a establecimientos de ense√±anza b√°sica y polimodal o bien, cualquiera sea su edad, si concurre a establecimientos oficiales o privados donde se imparta educaci√≥n diferencial. *(p√°rrafo modificado por art. 3¬∞ de la* [*Ley N¬∞ 25.231*](/normativa/nacional/ley-25231-1999-61779) *B.O. 31/12/1999)*

**ARTICULO 11.-** La asignaci√≥n por maternidad consistir√° en el pago de una suma igual a la remuneraci√≥n que la trabajadora hubiera debido percibir en su empleo, que se abonara durante el periodo de licencia legal correspondiente. Para el goce de esta asignaci√≥n se requerir√° una antig√ºedad m√≠nima y continuada en el empleo de tres meses.

**ARTICULO 12.-** La asignaci√≥n por nacimiento de hijo consistir√° en el pago de una suma de dinero que se abonar√° una vez acreditado tal hecho ante la Administraci√≥n Nacional de la Seguridad Social (ANSES). (Art√≠culo sustituido por art. 8¬∞  de la [Ley N¬∞ 27.611](/normativa/nacional/ley-27611-2020-346233) B.O. 15/01/2021). ( Nota Infoleg : por art. 1¬∞ de la [Resoluci√≥n N¬∞ 265/2021](/normativa/nacional/resoluci√≥n-265-2021-358662) de la Administraci√≥n Nacional de la Seguridad Social B.O. 24/12/2021, se establece que lo dispuesto por art. 8¬∞ de la [Ley N¬∞ 27.611](/normativa/nacional/ley-27611-2020-346233) resulta de aplicaci√≥n para aquellos hechos y/o actos generadores que se hayan producido a partir del 24 de enero de 2021.)

**ARTICULO 13.-** La asignaci√≥n por adopci√≥n consistir√° en el pago de una suma de dinero que se abonar√° una vez acreditado dicho acto ante la Administraci√≥n Nacional de la Seguridad Social (ANSES). (Art√≠culo sustituido por art. 9¬∞  de la [Ley N¬∞ 27.611](/normativa/nacional/ley-27611-2020-346233) B.O. 15/01/2021). ( Nota Infoleg : por art. 1¬∞ de la [Resoluci√≥n N¬∞ 265/2021](/normativa/nacional/resoluci√≥n-265-2021-358662) de la Administraci√≥n Nacional de la Seguridad Social B.O. 24/12/2021, se establece que lo dispuesto por art. 9¬∞ de la [Ley N¬∞ 27.611](/normativa/nacional/ley-27611-2020-346233) resulta de aplicaci√≥n para aquellos hechos y/o actos generadores que se hayan producido a partir del 24 de enero de 2021.)

**ARTICULO 14.-** La asignaci√≥n por matrimonio consistir√° en el pago de una suma de dinero, que se abonara en el mes en que se acredite dicho acto ante el empleador. Para el goce de este beneficio se requerir√° una antig√ºedad m√≠nima y continuada en el empleo de seis meses. Esta asignaci√≥n se abonar√° a los dos c√≥nyuges cuando ambos se encuentren en las disposiciones de la presente ley.

**ARTICULO 14 bis.-** La Asignaci√≥n Universal por Hijo para Protecci√≥n Social consistir√° en una prestaci√≥n monetaria no retributiva de car√°cter mensual, que se abonar√° a uno solo o una sola de los padres o de las madres, tutor o tutora, curador o curadora o pariente por consanguinidad hasta el tercer grado, por cada ni√±a, ni√±o y/o adolescente menor de DIECIOCHO (18) a√±os que se encuentre a su cargo, o sin l√≠mite de edad cuando se trate de una persona con discapacidad; en ambos casos, siempre que no estuviere empleado o empleada, emancipado o emancipada o percibiendo alguna de las prestaciones previstas en la presente Ley. (Art√≠culo sustituido por art. 1¬∫ del [Decreto N¬∫ 840/2020](/normativa/nacional/decreto-840-2020-343905) B.O. 4/11/2020. Ver aplicaci√≥n art. 17 del Decreto de referencia)

**ARTICULO 14 ter** .- Para acceder a la Asignaci√≥n Universal por Hijo para Protecci√≥n Social, se requerir√°: a. Que la ni√±a, el ni√±o, adolescente y/o la persona con discapacidad sea argentino o argentina nativo o nativa, naturalizado o naturalizada o por opci√≥n. Cuando la ni√±a, el ni√±o, adolescente y/o la persona con discapacidad y sus progenitores o sus progenitoras o las personas que los o las tengan a cargo sean extranjeros o extranjeras, deber√°n acreditar tanto la ni√±a, el ni√±o, adolescente y/o la persona con discapacidad como el o la titular que percibir√° la Asignaci√≥n, DOS (2) a√±os de residencia legal en el pa√≠s. b. Acreditar la identidad del o de la titular del beneficio y de la ni√±a, del ni√±o, adolescente y/o persona con discapacidad, mediante Documento Nacional de Identidad. c. Acreditar que la persona que percibir√° el beneficio tiene a su cargo a la ni√±a, al ni√±o, adolescente y/o persona con discapacidad, en funci√≥n de las disposiciones del C√≥digo Civil y Comercial de la Naci√≥n y de conformidad con la documentaci√≥n que la ADMINISTRACI√ìN NACIONAL DE LA SEGURIDAD SOCIAL (ANSES) disponga a estos fines. d. La acreditaci√≥n de la condici√≥n de discapacidad ser√° determinada en los t√©rminos del art√≠culo 2¬∫ de la Ley N¬∫ 22.431, certificada por autoridad competente. e. Hasta los CUATRO (4) a√±os de edad -inclusive-, deber√° acreditarse el cumplimiento de los controles sanitarios y del plan de vacunaci√≥n obligatorio. Desde los CINCO (5) a√±os de edad y hasta los DIECIOCHO (18) a√±os, deber√° acreditarse adem√°s la concurrencia de las ni√±as, los ni√±os y adolescentes obligatoriamente a establecimientos educativos p√∫blicos. f. Acreditar que el o la titular del beneficio y la ni√±a, el ni√±o, adolescente y/o persona con discapacidad residen en el pa√≠s. (Art√≠culo sustituido por art. 2¬∫ del [Decreto N¬∫ 840/2020](/normativa/nacional/decreto-840-2020-343905) B.O. 4/11/2020. Ver aplicaci√≥n art. 17 del Decreto de referencia)

**ARTICULO 14 quater.-** La Asignaci√≥n por Embarazo para Protecci√≥n Social consistir√° en una prestaci√≥n monetaria no retributiva mensual que se abonar√° a la persona gestante, desde el inicio de su embarazo hasta su interrupci√≥n o el nacimiento del hijo, siempre que no exceda de nueve (9) mensualidades, debiendo solicitarse a partir de la decimosegunda (12) semana de gestaci√≥n. (P√°rrafo sustituido por art. 7¬∞  de la [Ley N¬∞ 27.611](/normativa/nacional/ley-27611-2020-346233) B.O. 15/01/2021)

S√≥lo corresponder√° la percepci√≥n del importe equivalente a UNA (1) Asignaci√≥n por Embarazo para Protecci√≥n Social, a√∫n cuando se trate de embarazo m√∫ltiple. La percepci√≥n de esta asignaci√≥n no ser√° incompatible con la Asignaci√≥n Universal por Hijo para Protecci√≥n Social por cada menor de DIECIOCHO (18) a√±os, o sin l√≠mite de edad cuando se trate de un discapacitado, a cargo de la mujer embarazada.

*(Art√≠culo incorporado por art. 3¬∞ del* [*Decreto N¬∞ 446/2011*](/normativa/nacional/decreto-446-2011-181250) *B.O. 19/4/2011)*

**ARTICULO 14 quinquies** .- Para acceder a la Asignaci√≥n por Embarazo para Protecci√≥n Social, se requerir√°:

a) Que la embarazada sea argentina nativa o por opci√≥n, naturalizada o residente, con residencia legal en el pa√≠s no inferior a TRES (3) a√±os previos a la solicitud de la asignaci√≥n.

b) Acreditar identidad, mediante Documento Nacional de Identidad.

c) La acreditaci√≥n del estado de embarazo mediante la inscripci√≥n en el 'Plan Nacer' del MINISTERIO DE SALUD. En aquellos casos que prevea la reglamentaci√≥n, en que la embarazada cuente con cobertura de obra social, la acreditaci√≥n del estado de embarazo ser√° mediante certificado m√©dico expedido de conformidad con lo previsto en dicho plan para su acreditaci√≥n.

Si el requisito se acredita con posterioridad al nacimiento o interrupci√≥n del embarazo, no corresponde el pago de la asignaci√≥n por el per√≠odo correspondiente al de gestaci√≥n.

d) La presentaci√≥n por parte del titular del beneficio de una declaraci√≥n jurada relativa al cumplimiento de los requisitos exigidos por la presente y a las calidades invocadas. De comprobarse la falsedad de alguno de estos datos, se producir√° la p√©rdida del beneficio, sin perjuicio de las sanciones que correspondan.

*(Art√≠culo incorporado por art. 4¬∞ del* [*Decreto N¬∞ 446/2011*](/normativa/nacional/decreto-446-2011-181250) *B.O. 19/4/2011)*

*( Nota Infoleg : Ver Resoluciones del Ministerio de Salud, N¬∞* [*1195/2012*](/normativa/nacional/resoluci√≥n-1195-2012-200893) *B.O. 16/8/2012 y N¬∞* [*1460/2012*](/normativa/nacional/resoluci√≥n-1460-2012-202026) *B.O. 13/9/2012 , cambios de denominaci√≥n del* 'Plan Nacer')

ARTICULO 14 sexies .- Los titulares de la Asignaci√≥n Universal por Hijo para Protecci√≥n Social establecida en el art√≠culo 1¬∞, inciso c) de la presente Ley tendr√°n derecho a la Asignaci√≥n por Ayuda Escolar Anual prevista en el art√≠culo 6¬∞, inciso d) y definida por el art√≠culo 10 de esta ley.

*(Art√≠culo incorporado por art. 1¬∞ del* [*Decreto N¬∞ 504/2015*](/normativa/nacional/decreto-504-2015-245619) *B.O. 8/4/2015)*

ARTICULO 14 septies. - Las personas titulares comprendidas en el inciso c) del art√≠culo 1¬∫ de la presente ley tendr√°n derecho a la percepci√≥n de las asignaciones por nacimiento y adopci√≥n establecidas en los incisos f) y g) del art√≠culo 6¬∫ tambi√©n de la presente. Para acceder a dichas prestaciones, las personas titulares deber√°n acreditar el hecho y/o el acto generador pertinente ante la Administraci√≥n Nacional de la Seguridad Social (ANSES). (Art√≠culo incorporado por art. 10  de la [Ley N¬∞ 27.611](/normativa/nacional/ley-27611-2020-346233) B.O. 15/01/2021)

Art√≠culo 14 octies : La Asignaci√≥n por Cuidado de Salud Integral consistir√° en el pago de una suma de dinero que se abonar√° una (1) vez al a√±o a las personas titulares comprendidas en el art√≠culo 1¬∞ de la presente ley, por cada ni√±o o ni√±a menor de tres (3) a√±os de edad que se encuentre a su cargo, siempre que hayan tenido derecho al cobro de la prestaci√≥n establecida en el inciso i) del art√≠culo 6¬∫ de la presente dentro del a√±o calendario, y siempre que acrediten el cumplimiento del plan de vacunaci√≥n y control sanitario, de conformidad con los requisitos que la Administraci√≥n Nacional de la Seguridad Social (ANSES) establecer√° a tales efectos.

(Art√≠culo incorporado por art. 5¬∞  de la [Ley N¬∞ 27.611](/normativa/nacional/ley-27611-2020-346233) B.O. 15/01/2021)

**ARTICULO 15.-** Los beneficiarios del Sistema Integrado de Jubilaciones y Pensiones gozar√°n de las siguientes prestaciones:

a) Asignaci√≥n por c√≥nyuge.

b) Asignaci√≥n por hijo.

c) Asignaci√≥n por hijo con discapacidad.

d) Asignaci√≥n por ayuda escolar anual para la educaci√≥n b√°sica y polimodal *. (Inciso agregado por art. 1¬∞ del* [*Decreto Nacional N¬∞ 256/1998*](/normativa/nacional/decreto-256-1998-49614) *B.O. 11/3/1998) (* ***Nota Infoleg*** *: por art. 2¬∞ del* [*Decreto N¬∞ 337/2008*](/normativa/nacional/decreto-337-2008-138164) *B.O. 3/3/2008, se establece en la suma de PESOS CIENTO SETENTA ($ 170) el monto de la asignaci√≥n por ayuda escolar anual para la educaci√≥n inicial, b√°sica y polimodal o sus niveles equivalentes dispuestos por la* [*Ley N¬∫ 26.206*](/normativa/nacional/ley-26206-2006-123542) *, prevista en el presente inciso d). Vigencia: de aplicaci√≥n a partir del ciclo lectivo 2008 correspondiendo el pago de la prestaci√≥n durante el curso del mes de marzo)*

**ARTICULO 16.-** La asignaci√≥n por c√≥nyuge del beneficiario del Sistema Integrado de Jubilaciones y Pensiones consistir√° en el pago de una suma de dinero que se abonara al beneficiario por su c√≥nyuge.

**ARTICULO 17.-** Las asignaciones por hijo y por hijo con discapacidad son las previstas en los art√≠culos 7¬∞ y 8¬∞ de esta ley.

**ARTICULO 18.-** F√≠janse los montos de las prestaciones que otorga la presente ley en los siguientes valores:

*( Nota Infoleg : Las normas que* establecen los rangos y montos de las asignaciones familiares contempladas en la presente Ley N¬∞ 24.714, sus complementarias y modificatorias , *que se hayan publicado en Bolet√≠n Oficial pueden consultarse clickeando en el enlace '* [*Esta norma es complementada o modificada por X norma(s)*](http://servicios.infoleg.gob.ar/infolegInternet/verVinculos.do?modo=2&id=39880) *.')*

a) Asignaci√≥n por Hijo: la suma de PESOS CIEN ($ 100) para los trabajadores que perciban remuneraciones desde PESOS CIEN ($ 100) e inferiores a PESOS DOS MIL CON UN CENTAVO ($ 2.000,01); la suma de PESOS SETENTA Y CINCO ($ 75) para los trabajadores que perciban remuneraciones desde PESOS DOS MIL CON UN CENTAVO ($ 2.000,01) e inferiores a PESOS TRES MIL CON UN CENTAVO ($ 3.000,01) y la suma de PESOS CINCUENTA ($ 50) para los que perciban remuneraciones desde PESOS TRES MIL CON UN CENTAVO ($ 3.000,01) e inferiores a PESOS CUATRO MIL CON UN CENTAVO ($ 4.000,01). *(Inciso sustituido por art. 3¬∞ del* [*Decreto N¬∞ 1345/2007*](/normativa/nacional/decreto-1345-2007-133007) *B.O. 5/10/2007. Vigencia: a partir del 1¬∫ de julio de 2007).*

b) Asignaci√≥n por Hijo con Discapacidad: la suma de PESOS CUATROCIENTOS ($ 400) para los trabajadores que perciban remuneraciones inferiores a PESOS DOS MIL CON UN CENTAVO ($ 2.000,01); la suma de PESOS TRESCIENTOS ($ 300) para los trabajadores que perciban remuneraciones desde PESOS DOS MIL CON UN CENTAVO ($ 2.000,01) e inferiores a PESOS TRES MIL CON UN CENTAVO ($ 3.000,01) y la suma de PESOS DOSCIENTOS ($ 200) para los que perciban remuneraciones desde PESOS TRES MIL CON UN CENTAVO ($ 3.000,01). *(Inciso sustituido por art. 3¬∞ del* [*Decreto N¬∞ 1345/2007*](/normativa/nacional/decreto-1345-2007-133007) *B.O. 5/10/2007. Vigencia: a partir del 1¬∫ de julio de 2007).*

c) Asignaci√≥n prenatal: una suma igual a la de asignaci√≥n por hijo.

d) Asignaci√≥n por ayuda escolar anual para la educaci√≥n inicial, general b√°sica y polimodal: la suma de $ 130. *(Inciso sustituido por art. 4¬∞ de la* [*Ley N¬∞ 25.231*](/normativa/nacional/ley-25231-1999-61779) *B.O. 31/12/1999) (* ***Nota Infoleg*** *: por art. 1¬∞ del* [*Decreto N¬∞ 337/2008*](/normativa/nacional/decreto-337-2008-138164) *B.O. 3/3/2008, se establece en la suma de PESOS CIENTO SETENTA ($ 170) la asignaci√≥n por ayuda escolar anual para la educaci√≥n inicial, general b√°sica y polimodal o sus niveles equivalentes dispuestos por la* [*Ley N¬∫ 26.206*](/normativa/nacional/ley-26206-2006-123542) *, prevista en el presente inciso d). Vigencia: de aplicaci√≥n a partir del ciclo lectivo 2008 correspondiendo el pago de la prestaci√≥n durante el curso del mes de marzo)*

e) Asignaci√≥n por maternidad: la suma que corresponda de acuerdo a lo establecido en el art√≠culo 11 de la presente ley.

f) Asignaci√≥n por nacimiento: la suma de $ 400.

g) Asignaci√≥n por adopci√≥n: la suma de $ 2.400.

h) Asignaci√≥n por matrimonio: la suma de $ 600.

i) Asignaci√≥n por C√≥nyuge del beneficiario del SISTEMA INTEGRADO DE JUBILACIONES Y PENSIONES: la suma de PESOS TREINTA ($ 30) para los que perciban haberes inferiores a PESOS CUATRO MIL CON UN CENTAVO ($ 4.000,01).

Para los beneficiarios que residan en las Provincias de CHUBUT, NEUQUEN, RIO NEGRO, SANTA CRUZ, TIERRA DEL FUEGO, ANTARTIDA E ISLAS DEL ATLANTICO SUR, LA PAMPA y el Partido de Carmen de Patagones de la Provincia de BUENOS AIRES, la suma de PESOS SESENTA ($ 60) para los que perciban haberes inferiores a PESOS CUATRO MIL CON UN CENTAVO ($ 4.000,01).

*(Inciso i) sustituido por art. 3¬∞ del* [*Decreto N¬∞ 1345/2007*](/normativa/nacional/decreto-1345-2007-133007) *B.O. 5/10/2007. Vigencia: a partir del 1¬∫ de julio de 2007).*

*(Tope m√°ximo de remuneraci√≥n sustituido por art. 2¬∞ del* [*Decreto N¬∞ 1345/2007*](/normativa/nacional/decreto-1345-2007-133007) *B.O. 5/10/2007. Vigencia: a partir del 1¬∫ de julio de 2007).*

j) Asignaciones por hijo y por hijo con discapacidad de beneficiarios del Sistema Integrado de Jubilaciones y Pensiones:

j.1) Asignaci√≥n por Hijo: la suma de PESOS CIEN ($ 100) para los beneficiarios que perciban haberes inferiores a PESOS DOS MIL CON UN CENTAVO ($ 2.000,01); la suma de PESOS SETENTA Y CINCO ($ 75) para los beneficiarios que perciban haberes desde PESOS DOS MIL CON UN CENTAVO ($ 2.000,01) e inferiores a PESOS TRES MIL CON UN CENTAVO ($ 3.000,01) y la suma de PESOS CINCUENTA ($ 50) para los que perciban haberes desde PESOS TRES MIL CON UN CENTAVO ($ 3.000,01) e inferiores a PESOS CUATRO MIL CON UN CENTAVO ($ 4.000,01).

Para los beneficiarios que residan en las Provincias de CHUBUT, NEUQUEN, RIO NEGRO, SANTA CRUZ, TIERRA DEL FUEGO, ANTARTIDA E ISLAS DEL ATLANTICO SUR, LA PAMPA y el Partido de Carmen de Patagones de la Provincia de BUENOS AIRES, la suma de PESOS CIEN ($ 100) para los que perciban haberes inferiores a PESOS CUATRO MIL CON UN CENTAVO ($ 4.000,01).

*(Tope m√°ximo de remuneraci√≥n sustituido por art. 2¬∞ del* [*Decreto N¬∞ 1345/2007*](/normativa/nacional/decreto-1345-2007-133007) *B.O. 5/10/2007. Vigencia: a partir del 1¬∫ de julio de 2007)*

j.2) Asignaci√≥n por Hijo con Discapacidad: la suma de PESOS CUATROCIENTOS ($ 400) para los beneficiarios que perciban haberes inferiores a PESOS DOS MIL CON UN CENTAVO ($ 2.000,01); la suma de PESOS TRESCIENTOS ($ 300) para los beneficiarios que perciban haberes desde PESOS DOS MIL CON UN CENTAVO ($ 2.000,01) e inferiores a PESOS TRES MIL CON UN CENTAVO ($ 3.000,01) y la suma de PESOS DOSCIENTOS ($ 200) para los que perciban haberes desde PESOS TRES MIL CON UN CENTAVO ($ 3.000,01).

Para los beneficiarios que residan en las provincias de CHUBUT, NEUQUEN, RIO NEGRO, SANTA CRUZ, TIERRA DEL FUEGO, ANTARTIDA E ISLAS DEL ATLANTICO SUR, LA PAMPA y el Partido de Carmen de Patagones de la Provincia de BUENOS AIRES, la suma de PESOS CUATROCIENTOS ($ 400) cualquiera fuere su haber.

*(Inciso j) sustituido por art. 3¬∞ del* [*Decreto N¬∞ 1345/2007*](/normativa/nacional/decreto-1345-2007-133007) *B.O. 5/10/2007. Vigencia: a partir del 1¬∫ de julio de 2007).*

Para los trabajadores a que hace menci√≥n el p√°rrafo segundo del art√≠culo 3¬∫ el tope de PESOS UN MIL SETECIENTOS VEINTICINCO ($ 1.725) se eleva a PESOS CUATRO MIL CON UN CENTAVO ($ 4.000,01). *(√öltimo P√°rrafo sustituido por art. 4¬∞ del* [*Decreto N¬∞ 368/2004*](/normativa/nacional/decreto-368-2004-93930) *B.O. 1/4/2004. Vigencia: a partir del 1¬∫ de marzo de 2004).*

*(Tope m√°ximo de remuneraci√≥n sustituido por art. 1¬∞ del* [*Decreto N¬∞ 1345/2007*](/normativa/nacional/decreto-1345-2007-133007) *B.O. 5/10/2007. Vigencia: a partir del 1¬∫ de julio de 2007)*

k) Asignaci√≥n Universal por Hijo para Protecci√≥n Social: la mayor suma fijada en los incisos a) o b), seg√∫n corresponda. El OCHENTA POR CIENTO (80 %) del monto previsto en el primer p√°rrafo se abonar√° mensualmente a los o a las titulares de las mismas a trav√©s del sistema de pagos de la ADMINISTRACI√ìN NACIONAL DE LA SEGURIDAD SOCIAL (ANSES). El VEINTE POR CIENTO (20 %) reservado podr√° cobrarse cuando el o la titular acredite, para los o las menores de hasta los CUATRO (4) a√±os de edad -inclusive-, el cumplimiento de los controles sanitarios y el plan de vacunaci√≥n obligatorio; y para los y las de edad escolar, la certificaci√≥n que acredite, adem√°s, el cumplimiento del ciclo escolar lectivo correspondiente. La falta de acreditaci√≥n producir√° la p√©rdida del derecho al cobro del VEINTE POR CIENTO (20 %) reservado. (Inciso k) sustituido por art. 3¬∫ del [Decreto N¬∫ 840/2020](/normativa/nacional/decreto-840-2020-343905) B.O. 4/11/2020. Ver aplicaci√≥n art. 17 del Decreto de referencia)

l) Asignaci√≥n por Embarazo para Protecci√≥n Social: la mayor suma fijada en el inciso a).

Durante el per√≠odo correspondiente entre la DECIMO SEGUNDA y la √∫ltima semana de gestaci√≥n, se liquidar√° una suma igual al OCHENTA POR CIENTO (80%) del monto previsto en el primer p√°rrafo, la que se abonar√° mensualmente a las titulares a trav√©s del sistema de pago de la ADMINISTRACION NACIONAL DE LA SEGURIDAD SOCIAL (ANSES). El VEINTE POR CIENTO (20%) restante ser√° abonado una vez finalizado el embarazo y en un solo pago, a trav√©s del mismo sistema que se utilice para la liquidaci√≥n mensual de esta asignaci√≥n, en la medida que se hubieran cumplido los controles m√©dicos de seguimiento previstos en el 'Plan Nacer' del MINISTERIO DE SALUD.

La falta de acreditaci√≥n producir√° la p√©rdida del derecho al cobro del VEINTE POR CIENTO (20%) reservado.

*(Inciso l) incorporado por art. 5¬∞ del* [*Decreto N¬∞ 446/2011*](/normativa/nacional/decreto-446-2011-181250) *B.O. 19/4/2011)*

m) Asignaci√≥n por Cuidado de Salud Integral: la mayor suma fijada en los incisos a) o b), seg√∫n corresponda. (Inciso m) incorporado por art. 6¬∞  de la [Ley N¬∞ 27.611](/normativa/nacional/ley-27611-2020-346233) B.O. 15/01/2021)

**ARTICULO 19.-** Fac√∫ltase al PODER EJECUTIVO NACIONAL a establecer la cuant√≠a de las asignaciones familiares establecidas en la presente ley, los topes y rangos remuneratorios que habilitan al cobro de las mismas y los coeficientes zonales o montos diferenciales de acuerdo al desarrollo de la actividad econ√≥mica, √≠ndices de costo de vida o de variaci√≥n salarial y situaci√≥n econ√≥mica social de las distintas zonas. *(P√°rrafo sustituido por art. 5¬∞ del* [*Decreto N¬∞ 368/2004*](/normativa/nacional/decreto-368-2004-93930) *B.O. 1/4/2004. Vigencia: a partir del 1¬∫ de marzo de 2004).*

Cr√©ase un Consejo de Administraci√≥n para el subsistema contributivo integrado por representantes del Estado, de los trabajadores y de los empresarios, con car√°cter 'ad honorem' cuyo n√∫mero de integrantes y funcionamiento determinar√° la reglamentaci√≥n. Dicho Consejo tendr√° a su cargo fijar las pol√≠ticas de asignaciones de los recursos, teniendo en cuenta, para ello la variaci√≥n de los ingresos de dicho r√©gimen.

El Poder Ejecutivo garantizar√° un ingreso m√≠nimo de PESOS UN MIL QUINIENTOS MlLLONES ($ 1.500.000.000) anuales, destinados al pago de las asignaciones familiares del sub-sistema contributivo a que hace referencia el art√≠culo 1¬∞ de la presente ley. Los ingresos que excedan dicho monto no podr√°n destinarse a otra finalidad que no sea el pago de las prestaciones previstas en la presente ley su incremento. En ning√∫n caso las prestaciones a abonarse podr√°n ser inferiores a las establecidas en el art√≠culo 18 de la presente ley. *(Expresi√≥n 'y deber√°n abonarse por los montos establecidos en dicho art√≠culo desde el 1¬∞ de agosto de 1996' vetada por el art. 1¬∞ del* [*Decreto Nacional N¬∞ 1165/1996*](/normativa/nacional/decreto-1165-1996-39881) *B.O. 18/10/1996)*

Anualmente la ley de presupuesto establecer√° las partidas necesarias para garantizar el sistema.

**ARTICULO 20.-** Cuando ambos progenitores est√©n comprendidos en el presente r√©gimen, las prestaciones enumeradas en los art√≠culos 6¬∫ y 15 ser√°n percibidas por uno solo de ellos.

**ARTICULO 21.-** Cuando el trabajador se desempe√±are en m√°s de un empleo tendr√° derecho a la percepci√≥n de las prestaciones de la presente ley en el que acredite mayor antig√ºedad, a excepci√≥n de la asignaci√≥n por maternidad, que ser√° percibida en cada uno de ellos.

**ARTICULO 22.-** A los fines de otorgar las asignaciones por hijo, hijo con discapacidad y ayuda escolar anual, ser√°n considerados como hijos los menores o personas con discapacidad cuya guarda, tenencia o tutela haya sido acordada al trabajador por autoridad judicial o administrativa competente. En tales supuestos, los respectivos padres no tendr√°n, por ese hijo, derecho al cobro de las mencionadas asignaciones.

**ARTICULO 23.-** Las Asignaciones Familiares dispuestas en la presente ley son inembargables, no constituyen remuneraci√≥n ni est√°n sujetas a grav√°menes, atento su naturaleza jur√≠dica, tampoco ser√°n tenidas en cuenta para la determinaci√≥n del sueldo anual complementario, ni para el pago de las indemnizaciones por despido, enfermedad, accidente o para cualquier otro efecto. No pueden ser enajenadas ni afectadas a terceros por derecho alguno. (Tercer p√°rrafo derogado por art. 2¬∞ del [Decreto N¬∞ 1039/2024](/normativa/nacional/decreto-1039-2024-406487) B.O. 25/11/2024. Vigencia: a partir de la fecha de su publicaci√≥n en el BOLET√çN OFICIAL.)

(Art√≠culo sustituido por art. 3¬∞ del [Decreto N¬∞ 516/2017](/normativa/nacional/decreto-516-2017-276960) B.O. 18/07/2017. Vigencia: a partir del d√≠a siguiente al de su publicaci√≥n en el Bolet√≠n Oficial.)

**ARTICULO 24.-** Las asignaciones familiares correspondientes a los trabajadores del sector p√∫blico y a los beneficiarios de pensiones no contributivas se regir√°n, en cuanto a las prestaciones monto y topes, por lo establecido en el presente r√©gimen.

**ARTICULO 25.-** Der√≥gase la Ley N¬∞ 18.017 y sus modificatorias, y los Decretos 770/96, 771/96, 991/96 y toda otra norma que se oponga a la presente.

**ARTICULO 26. -** Comun√≠quese al Poder Ejecutivo. -ALBERTO-R. PIERRI - CARLOS F. RUCKAUF. - Juan Estrada. - Edgardo Piuzzi.

DADA EN LA SALA DE SESIONES DEL CONGRESO ARGENTINO, EN BUENOS AIRES, A LOS DOS DEL MES DE OCTUBRE DEL A√ëO MIL NOVECIENTOS NOVENTA Y SEIS.

**Antecedentes Normativos**

- Art√≠culo 1¬∞, ( Nota Infoleg : por art. 4¬∫ de la [Resoluci√≥n N¬∫ 312/2020](/normativa/nacional/resoluci√≥n-312-2020-341718) de la Administraci√≥n Nacional de la Seguridad Social B.O. 2/9/2020 se establece que el l√≠mite de ingresos m√≠nimo y m√°ximo aplicable a los titulares y a las titulares de los incisos a) y b) del presente art√≠culo y sus modificatorias, correspondiente al grupo familiar referido en el art√≠culo 1¬∞ del Decreto N¬∞ 1667/2012, ser√° de PESOS SEIS MIL CIENTO CINCO CON SETENTA Y NUEVE CENTAVOS ($6.105,79) y de PESOS CIENTO CINCUENTA Y CINCO MIL TRESCIENTOS VEINTIOCHO ($155.328), respectivamente.);

- Art√≠culo 18, ( Nota Infoleg : por art. 1¬∫ de la [Resoluci√≥n N¬∫ 312/2020](/normativa/nacional/resoluci√≥n-312-2020-341718) de la Administraci√≥n Nacional de la Seguridad Social B.O. 2/9/2020 se dispone un incremento de los rangos de ingresos del grupo familiar y de los montos de las asignaciones familiares previstas en la presente Ley, sus normas modificatorias y complementarias, con excepci√≥n de la establecida en el inciso e) del art√≠culo 6¬∞ de la misma, ser√° equivalente al SIETE COMA CINCUENTA POR CIENTO (7,50%) de los rangos y montos establecidos en los Anexos mencionados en el art√≠culo 2¬∞ de la Resoluci√≥n N¬∫ RESOL-2020-166-ANSES-ANSES, conforme lo previsto en el art√≠culo 2¬∞ del Decreto N¬∞ 692/2020.) - Art√≠culo 18, ( Nota Infoleg : por art. 2¬∫ de la [Resoluci√≥n N¬∫ 312/2020](/normativa/nacional/resoluci√≥n-312-2020-341718) de la Administraci√≥n Nacional de la Seguridad Social B.O. 2/9/2020 se establecen los rangos y montos de las asignaciones familiares contempladas en la Ley N¬∞ 24.714, sus complementarias y modificatorias, a partir del mes de septiembre de 2020, ser√°n los que surgen de los [Anexos I, II, III, IV, V y V I](/normativa/nacional/resoluci√≥n-312-2020-341718) de la Resoluci√≥n de referencia, abon√°ndose de acuerdo a los par√°metros establecidos en el art√≠culo 1¬∞ de la Resoluci√≥n D.E.-N N¬∞ 616/2015.)

- Art√≠culo 18, ( Nota Infoleg : por art. 2¬∞ de la [Resoluci√≥n N¬∞ 284/2019](/normativa/nacional/resoluci√≥n-284-2019-332510) de la Administraci√≥n Nacional de la Seguridad Social B.O. 2/12/2019 se establece el tope m√≠nimo, los rangos y montos de las Asignaciones Familiares y Universales contempladas en la Ley N¬∞ 24.714, sus modificatorias y complementarias a partir de diciembre de 2019, ser√°n los que surgen de los [Anexos I, II, III , IV , V y VI](/normativa/nacional/resoluci√≥n-284-2019-332510) de la Resoluci√≥n de referencia, abon√°ndose de acuerdo a los par√°metros establecidos en el art√≠culo 1¬∞ de la [Resoluci√≥n D.E.-N N¬∞ 616/2015](/normativa/nacional/resoluci√≥n-616-2015-255488) . Topes, rangos y montos anteriores : [Resoluci√≥n N¬∞ 201/2019](/normativa/nacional/resoluci√≥n-201-2019-326318) de la Administraci√≥n Nacional de la Seguridad Social B.O. 7/8/2019; [Resoluci√≥n N¬∞ 140/2019](/normativa/nacional/resoluci√≥n-140-2019-323758) de la Administraci√≥n Nacional de la Seguridad Social B.O. 31/5/2019; [Resoluci√≥n N¬∞ 75/2019](/normativa/nacional/resoluci√≥n-75-2019-320563) de la Administraci√≥n Nacional de la Seguridad Social B.O. 6/3/2019; [Decreto N¬∞ 702/2018](/normativa/nacional/decreto-702-2018-312783) B.O. 27/7/2018 [Resoluci√≥n N¬∞ 89/2018](http://servicios.infoleg.gob.ar/infolegInternet/anexos/310000-314999/311100/norma.htm) de la Administraci√≥n Nacional de la Seguridad Social B.O. 4/6/2018; [Resoluci√≥n N¬∞ 33/2017](/normativa/nacional/resoluci√≥n-33-2017-272537) de la Administraci√≥n Nacional de la Seguridad Social B.O. 10/3/2017; [Decreto N¬∞ 593/2016](/normativa/nacional/decreto-593-2016-260573) B.O. 19/4/2016, [Decreto N¬∞ 492/2016](/normativa/nacional/decreto-492-2016-259486) B.O. 17/3/2016)

- Art√≠culo 1¬∞, ( Nota Infoleg : por art. 4¬∫ de la [Resoluci√≥n N¬∫ 166/2020](/normativa/nacional/resoluci√≥n-166-2020-338281) de la Administraci√≥n Nacional de la Seguridad Social B.O. 3/6/2020 se establece que el l√≠mite de ingresos m√≠nimo y m√°ximo aplicable a los titulares y a las titulares de los incisos a) y b) del presente art√≠culo y sus modificatorias, correspondiente al grupo familiar referido en el art√≠culo 1¬∞ del Decreto N¬∞ 1667/2012, ser√° de PESOS CINCO MIL SEISCIENTOS SETENTA Y NUEVE CON OCHENTA CENTAVOS ($5.679,80) y de PESOS CIENTO CINCUENTA Y CINCO MIL TRESCIENTOS VEINTIOCHO ($155.328), respectivamente.);

- Art√≠culo 1¬∞, ( Nota Infoleg : por art. 4¬∞ de la [Resoluci√≥n N¬∞ 75/2020](/normativa/nacional/resoluci√≥n-75-2020-335627) de la Administraci√≥n Nacional de la Seguridad Social B.O. 18/3/2020 se establece el l√≠mite de ingresos m√≠nimo y m√°ximo aplicable a los titulares y a las titulares de los incisos a) y b) del presente art√≠culo y sus modificatorias, correspondiente al grupo familiar referido en el art√≠culo 1¬∞ del Decreto N¬∞ 1667/2012, ser√° de PESOS CINCO MIL TRESCIENTOS CINCUENTA Y DOS CON VEINTICUATRO CENTAVOS ($5.352,24) y de PESOS CIENTO CINCUENTA Y CINCO MIL TRESCIENTOS VEINTIOCHO ($155.328), respectivamente.);

- Art√≠culo 1¬∞, ( Nota Infoleg : por art. 1¬∞ de la [Resoluci√≥n N¬∞ 222/2019](/normativa/nacional/resoluci√≥n-222-2019-327499) de la Administraci√≥n Nacional de la Seguridad Social B.O. 30/08/2019 se establece el l√≠mite m√°ximo aplicable a los titulares de los incisos a) y b) del presente art√≠culo y sus mmodificatorias, correspondiente al grupo familiar referido en el art√≠culo 1¬∞ del Decreto N¬∞ 1.667/12, ser√° de PESOS CIENTO VEINTINUEVE MIL CIENTO NOVENTA ($129.190));

- Art√≠culo 1¬∞, ( Nota Infoleg : por art. 4¬∞ de la [Resoluci√≥n N¬∞ 75/2019](/normativa/nacional/resoluci√≥n-75-2019-320563) de la Administraci√≥n Nacional de la Seguridad Social B.O. 6/3/2019 se establece que el l√≠mite de ingresos m√≠nimo y m√°ximo aplicable a los titulares de los incisos a) y b) del presente art√≠culo y sus modificatorias, correspondiente al grupo familiar referido en el art√≠culo 1¬∞ del Decreto N¬∞ 1.667/12, ser√° de PESOS TRES MIL SEISCIENTOS VEINTIUNO CON CUATRO CENTAVOS ($3.621,04) y PESOS CIENTO SIETE MIL SEISCIENTOS CINCUENTA Y OCHO ($107.658) respectivamente. Texto rectificado por art. 1¬∞ de la [Resoluci√≥n N¬∞ 81/2019](/normativa/nacional/resoluci√≥n-81-2019-320770) de la Administraci√≥n Nacional de la Seguridad Social B.O. 12/03/2019 );

- Art√≠culo 1¬∞, ( Nota Infoleg : por art. 1¬∞ del [Decreto N¬∞ 702/2018](/normativa/nacional/decreto-702-2018-312783) B.O. 27/7/2018 se establece que los l√≠mites m√≠nimo y m√°ximo de ingresos aplicables a los beneficiarios de los incisos a) y b) del presente art√≠culo y sus modificatorias, correspondientes al grupo familiar definido en el [Decreto N¬∞ 1667/12](/normativa/nacional/decreto-1667-2012-202004) , ser√°n de UNA (1) vez la base imponible m√≠nima previsional prevista en el art√≠culo 9¬∫ de la Ley N¬∫ 24.241 sus modificatorias y complementarias de PESOS OCHENTA Y TRES MIL NOVECIENTOS DIECISIETE ($ 83.917.-) respectivamente. Vigencia: comenzar√° a regir para las asignaciones familiares que se perciban durante el mes de septiembre de 2018);

- Art√≠culo 1¬∞, ( Nota Infoleg : por art. 4¬∞ de la [Resoluci√≥n N¬∞ 33/2017](/normativa/nacional/resoluci√≥n-33-2017-272537) de la Administraci√≥n Nacional de la Seguridad Social B.O. 10/3/2017 se establece que el l√≠mite de ingresos m√≠nimo y m√°ximo aplicable a los titulares de los incisos a) y b) del art√≠culo 1¬∞ de la Ley N¬∞ 24.714 y sus modificatorias, correspondiente al grupo familiar referido en el art√≠culo 1¬∞ del [Decreto N¬∞ 1667/12](/normativa/nacional/decreto-1667-2012-202004) , ser√° de PESOS DOSCIENTOS ($200) y PESOS SETENTA Y TRES MIL SEISCIENTOS OCHO ($73.608) respectivamente.);

- Art√≠culo 18, ( Nota Infoleg : por art. 1¬∫ [Resoluci√≥n N¬∫ 166/2020](/normativa/nacional/resoluci√≥n-166-2020-338281) de la Administraci√≥n Nacional de la Seguridad Social B.O. 3/6/2020 se dispone un incremento de los rangos de ingresos del grupo familiar y de los montos de las asignaciones familiares previstas en la presente Ley, sus normas modificatorias y complementarias, con excepci√≥n de la establecida en el inciso e) del art√≠culo 6¬∞ de la misma, ser√° equivalente al SEIS COMA DOCE POR CIENTO (6,12%) de los rangos y montos establecidos en los Anexos mencionados en el art√≠culo 2¬∞ de la Resoluci√≥n N¬∫ RESOL-2020-75-ANSES-ANSES, conforme lo previsto en el art√≠culo 2¬∞ del Decreto N¬∞ 495/2020.); - Art√≠culo 18, ( Nota Infoleg : por art. 2¬∫ [Resoluci√≥n N¬∫ 166/2020](/normativa/nacional/resoluci√≥n-166-2020-338281) de la Administraci√≥n Nacional de la Seguridad Social B.O. 3/6/2020 se establecen los rangos y montos de las asignaciones familiares contempladas en la Ley N¬∞ 24.714, sus complementarias y modificatorias, a partir del mes de junio de 2020, ser√°n los que surgen de los [Anexos I, II, III, IV, V y VI](/normativa/nacional/resoluci√≥n-166-2020-338281) de la Resoluci√≥n de referencia, abon√°ndose de acuerdo a los par√°metros establecidos en el art√≠culo 1¬∞ de la Resoluci√≥n D.E.-N N¬∞ 616/2015.);

- Art√≠culo 18, ( Nota Infoleg : por art. 2¬∫ del [Decreto N¬∫ 495/2020](/normativa/nacional/decreto-495-2020-337985) B.O. 27/5/2020 se dispone un incremento de los rangos de ingresos del grupo familiar y de los montos de las Asignaciones Familiares previstas en la presente Ley, sus normas modificatorias y complementarias, con excepci√≥n de la establecida en el inciso e) del art√≠culo 6¬∞ de la misma, el cual ser√° equivalente al SEIS COMA DOCE POR CIENTO (6,12 %) de los rangos y montos establecidos en los Anexos mencionados en el art√≠culo 2¬∞ de la [Resoluci√≥n ANSES N¬∫ 75/20](/normativa/nacional/resoluci√≥n-75-2020-335627) . Por art. 3¬∫ se dispone que los incrementos otorgados en el presente decreto regir√°n a partir del 1¬∞ de junio de 2020 y quedar√°n incorporados como parte integrante del haber de las prestaciones alcanzadas y de las Asignaciones Familiares, respectivamente. Vigencia: el d√≠a de su publicaci√≥n en el BOLET√çN OFICIAL.);

- Art√≠culo 18, ( Nota Infoleg : por art. 1¬∞ de la [Resoluci√≥n N¬∞ 75/2020](/normativa/nacional/resoluci√≥n-75-2020-335627) de la Administraci√≥n Nacional de la Seguridad Social B.O. 18/3/2020 se establece el incremento de los rangos de ingresos del grupo familiar y de los montos de las asignaciones familiares previstas en la Ley N¬∞ 24.714, sus normas modificatorias y complementarias, con excepci√≥n de la establecida en el inciso e) del art√≠culo 6¬∞ de la misma, ser√° equivalente al TRECE POR CIENTO (13%) de los rangos y montos establecidos en los Anexos mencionados en el art√≠culo 2¬∞ de la Resoluci√≥n N¬∫ RESOL-2019-284-ANSES-ANSES, conforme lo previsto en el art√≠culo 2¬∞ del Decreto N¬∞ 163/20.); - Art√≠culo 18, ( Nota Infoleg : por art. 2¬∞ de la [Resoluci√≥n N¬∞ 75/2020](/normativa/nacional/resoluci√≥n-75-2020-335627) de la Administraci√≥n Nacional de la Seguridad Social B.O. 18/3/2020 se establecen los rangos y montos de las asignaciones familiares contempladas en la Ley N¬∞ 24.714, sus complementarias y modificatorias, a partir del mes de marzo de 2020, ser√°n los que surgen de los [Anexos I, II, III, IV, V y VI](/normativa/nacional/resoluci√≥n-75-2020-335627) de la Resoluci√≥n de referencia);

- Art√≠culo 18, Nota Infoleg : por art. 2¬∞ de la [Resoluci√≥n N¬∞ 243/2018](/normativa/nacional/resoluci√≥n-243-2018-316945) de la Administraci√≥n Nacional de la Seguridad Social B.O. 03/12/2018 se establece que el tope m√≠nimo, los rangos y montos de las Asignaciones Familiares y Universales contempladas en la Ley N¬∞ 24.714, sus modificatorias y complementarias a partir de diciembre de 2018, ser√°n los que surgen de los [Anexos I, II, III, IV, V y VI](/normativa/nacional/resoluci√≥n-243-2018-316945) que forman parte de la norma de referencia, abon√°ndose de acuerdo a los par√°metros establecidos en el art√≠culo 1¬∞ de la Resoluci√≥n D.E.-N N¬∞ 616/2015;

- Art√≠culo 18, Nota Infoleg : por art. 2¬∞ de la [Resoluci√≥n N¬∞ 125/2018](/normativa/nacional/resoluci√≥n-125-2018-313732) de la Administraci√≥n Nacional de la Seguridad Social B.O. 23/8/2018 se establece que el tope m√≠nimo, los rangos y montos de las Asignaciones Familiares y Universales contempladas en la Ley N¬∞ 24.714, sus modificatorias y complementarias a partir de septiembre de 2018, ser√°n los que surgen de los [Anexos I, II, III, IV, V y VI](/normativa/nacional/resoluci√≥n-125-2018-313732) que forman parte de la norma de referencia, abon√°ndose de acuerdo a los par√°metros establecidos en el art√≠culo 1¬∞ de la Resoluci√≥n D.E.-N N¬∞ 616/2015;

- Art√≠culo 18, Nota Infoleg : por art. 2¬∞ de la [Resoluci√≥n N¬∞ 175/2017](/normativa/nacional/resoluci√≥n-175-2017-279691) de la Administraci√≥n Nacional de la Seguridad Social B.O. 19/9/2017 se establece que los rangos y montos de las Asignaciones Familiares y Universales contempladas en la Ley N¬∞ 24.714, sus modificatorias y complementarias a partir de septiembre de 2017, ser√°n los que surgen de los [Anexos I, Anexo II, Anexo III, Anexo IV, Anexo V, Anexo VI](/normativa/nacional/resoluci√≥n-175-2017-279691) , de la Resoluci√≥n de referencia, abon√°ndose de acuerdo a los par√°metros establecidos en el art√≠culo 1¬∞ de la Resoluci√≥n D.E.-N N¬∞ 616/2015;

- Art√≠culo 18, Nota Infoleg : por art. 2¬∞ de la [Resoluci√≥n N¬∞ 299/2016](/normativa/nacional/resoluci√≥n-299-2016-265103) de la Administraci√≥n Nacional de la Seguridad Social B.O. 5/9/2016 se establece que los rangos y montos de las Asignaciones Familiares y Universales contempladas en la Ley N¬∞ 24.714, sus modificatorias y complementarias a partir de septiembre de 2016, ser√°n los que surgen de los [Anexos I, II, III, IV, V y VI](/normativa/nacional/resoluci√≥n-299-2016-265103) de la Resoluci√≥n de referencia, abon√°ndose de acuerdo a los par√°metros establecidos en el art√≠culo 1¬∞ de la Resoluci√≥n D.E.-N N¬∞ 616/2015;

- Art√≠culo 1¬∫, inciso a') incorporado por art. 1¬∞ del [Decreto N¬∞ 593/2016](/normativa/nacional/decreto-593-2016-260573) B.O. 19/4/2016. Vigencia: regir√° para las asignaciones familiares que se perciban en el mes de Mayo de 2016;

- Art√≠culo 1¬∞, Nota Infoleg : por art. 1¬∞ del [Decreto N¬∞ 492/2016](/normativa/nacional/decreto-492-2016-259486) B.O. 17/3/2016 se establece que el l√≠mite de ingresos m√≠nimo y m√°ximo aplicable a los titulares de los incisos a) y b) del art√≠culo 1¬∞ de la Ley N¬∞ 24.714 y sus modificatorias, correspondiente al grupo familiar referido en el art√≠culo 1¬∞ del [Decreto N¬∞ 1667/12](/normativa/nacional/decreto-1667-2012-202004) , ser√° de PESOS DOSCIENTOS ($200) y PESOS SESENTA MIL ($60.000) respectivamente. Ver aplicaci√≥n art. 5¬∞ de la misma norma;

- Art√≠culo 18, Nota Infoleg : por art. 2¬∞ de la [Resoluci√≥n N¬∞ 32/2016](/normativa/nacional/resoluci√≥n-32-2016-258981) de la Administraci√≥n Nacional de la Seguridad Social B.O. 26/2/2016 se establece que los rangos y montos de las Asignaciones Familiares y Universales contempladas en la Ley N¬∞ 24.714 y sus modificatorias a partir de marzo de 2016, ser√°n los que surgen de los Anexos I, II, III y IV de la Resoluci√≥n de referencia, abon√°ndose de acuerdo a los par√°metros establecidos en el art√≠culo 1¬∞ de la Resoluci√≥n D.E.-N N¬∞ 616/2015;

- Art√≠culo 18, Nota Infoleg: por art. 1¬∞ del [Decreto N¬∞ 1141/2015](/normativa/nacional/decreto-1141-2015-248196) B.O. 18/06/2015 se establece que los rangos y montos de las Asignaciones Familiares contempladas en la presente Ley, ser√°n los que surgen de los Anexos I, II y III del decreto de referencia;

- Art√≠culo 18, Nota Infoleg: por art. 2¬∞ del [Decreto N¬∞ 1141/2015](/normativa/nacional/decreto-1141-2015-248196) B.O. 18/06/2015 se establece que los montos de la Asignaci√≥n Universal por Hijo y Embarazo para Protecci√≥n Social contempladas en la presente Ley, ser√°n los que surgen del Anexo IV del decreto de referencia;

- Art√≠culo 18, Nota Infoleg : por art . 1¬∞ del [Decreto N¬∞ 779/2014](/normativa/nacional/decreto-779-2014-230541) B.O. 30/5/2014 se establece que los rangos y montos de las Asignaciones Familiares contempladas en la presente Ley que se perciban a partir del mes de junio de 2014 y hasta el mes de septiembre de 2014 ser√°n los que surgen de los Anexos I, II y III; y los rangos que se apliquen a partir del mes de octubre de 2014 ser√°n los que surgen de los Anexos IV, V y VI del  decreto de referencia; - Art√≠culo 18, Nota Infoleg : por art . 1¬∞ del [Decreto N¬∞ 779/2014](/normativa/nacional/decreto-779-2014-230541) B.O. 30/5/2014 se establece que los montos de la Asignaci√≥n Universal por Hijo, Hijo con Discapacidad y Embarazo para Protecci√≥n Social contempladas en la presente Ley, que se perciban a partir del mes de junio de 2014 ser√°n los que surgen del Anexo VII del decreto de referencia;

- Art√≠culo 1¬∞, Nota Infoleg : por art. 1¬∞ del [Decreto N¬∞ 614/2013](/normativa/nacional/decreto-614-2013-215701) B.O. 31/5/2013, se establece que el l√≠mite de ingresos m√≠nimo y m√°ximo aplicable a los titulares de los incisos a) y b) del art√≠culo 1¬∞ de la Ley N¬∞ 24.714 y sus modificatorias, correspondientes al grupo familiar referido en el art√≠culo 1¬∞ del [Decreto N¬∞ 1.667/12](/normativa/nacional/decreto-1667-2012-202004) , ser√° de PESOS DOSCIENTOS ($ 200.-) y PESOS TREINTA MIL ($ 30.000.-) respectivamente . Ver aplicaci√≥n art. 10 de la misma norma , texto seg√∫n art. 1¬∞ del [Decreto N¬∞ 1282/2013](/normativa/nacional/decreto-1282-2013-219229) B.O. 4/9/2013, Vigencia: de aplicaci√≥n para las asignaciones familiares de los titulares de los incisos a) y b) del art√≠culo 1¬∞ de la Ley N¬∫ 24.714 y sus modificatorias, que se perciban a partir de septiembre de 2013;

- Art√≠culo 18, Nota Infoleg : por art. 4¬∞ del [Decreto N¬∞ 614/2013](/normativa/nacional/decreto-614-2013-215701) B.O. 31/5/2013 se establece que los rangos, topes y montos de las asignaciones familiares contempladas en la presente Ley ser√°n los que surgen de los Anexos I, II y III del decreto de referencia. Ver aplicaci√≥n art. 10 de la misma norma ; - Art√≠culo 18, Nota Infoleg : por art. 5¬∞ del [Decreto N¬∞ 614/2013](/normativa/nacional/decreto-614-2013-215701) B.O. 31/5/2013 se establece que los montos de la Asignaci√≥n Universal por Hijo, Hijo con Discapacidad y Embarazo para Protecci√≥n Social contemplados en la presente Ley ser√°n los que surgen del Anexo IV del decreto de referencia. Ver aplicaci√≥n art. 10 de la misma norma ;

- Art√≠culo 18, Nota Infoleg : por art. 4¬∞ del [Decreto N¬∞ 1668/2012](/normativa/nacional/decreto-1668-2012-202005) B.O. 13/9/2012 se establece que los rangos, topes y montos de las asignaciones familiares contempladas en la presente Ley ser√°n los que surgen de los Anexos I, II y III del decreto de referencia. Vigencia: comenzar√° a regir para las asignaciones familiares devengadas en el mes de septiembre de 2012 ; - Art√≠culo 18, Nota Infoleg : por art. 5¬∞ del [Decreto N¬∞ 1668/2012](/normativa/nacional/decreto-1668-2012-202005) B.O. 13/9/2012 se establece que los montos de la Asignaci√≥n Universal por Hijo, Hijo con Discapacidad y Embarazo para Protecci√≥n Social contemplados en la presente Ley ser√°n los que surgen del Anexo IV del decreto de referencia. Vigencia: comenzar√° a regir para las asignaciones familiares devengadas en el mes de septiembre de 2012;

- Art√≠culo 1¬∞, Nota Infoleg : por art. 1¬∞ del [Decreto N¬∞ 1668/2012](/normativa/nacional/decreto-1668-2012-202005) B.O. 13/9/2012 se establece que el l√≠mite de ingresos m√≠nimo y m√°ximo aplicable a los beneficiarios de los incisos a) y b) del art√≠culo 1¬∞ de la presente Ley, correspondientes al grupo familiar referido en el art√≠culo 1¬∞ del Decreto N¬∫ 1.667 de fecha 12 de setiembre de 2012, ser√° de PESOS DOSCIENTOS ($ 200) y PESOS CATORCE MIL ($ 14.000) respectivamente. Vigencia: comenzar√° a regir para las asignaciones familiares devengadas en el mes de septiembre de 2012;

*- Art√≠culo 18,* ***Nota Infoleg*** *: por art. 1¬∞ del* [*Decreto N¬∞ 1482/2011*](/normativa/nacional/decreto-1482-2011-187426) *B.O. 27/9/2011 se establece que los rangos, topes y montos de las Asignaciones Familiares y de la Asignaci√≥n Universal por Hijo para Protecci√≥n Social contempladas en la presente Ley ser√°n los que surgen de los Anexos I, II, III, IV del mencionado Decreto;*

*- Por art. 1¬∞ del* [*Decreto N¬∞ 1388/2010*](/normativa/nacional/decreto-1388-2010-172842) *B.O. 1/10/2010 se establece que los montos de las asignaciones familiares y de la Asignaci√≥n Universal por Hijo para Protecci√≥n Social contempladas en la presente Ley ser√°n los que surgen de los Anexos I, II, III, IV del mencionado Decreto)*

- *Art√≠culo 1¬∞, Inciso c) incorporado por art. 1¬∞ del* [*Decreto N¬∞ 1602/2009*](/normativa/nacional/decreto-1602-2009-159466) *B.O. 30/10/2009. Vigencia: a partir del 1¬∫ de noviembre de 2009;*

*- Art√≠culo 3¬∞, √∫ltimo p√°rrafo incorporado por art. 2¬∞ del* [*Decreto N¬∞ 1602/2009*](/normativa/nacional/decreto-1602-2009-159466) *B.O. 30/10/2009. Vigencia: a partir del 1¬∫ de noviembre de 2009;*

*- Art√≠culo 14 bis incorporado por art. 5¬∞ del* [*Decreto N¬∞ 1602/2009*](/normativa/nacional/decreto-1602-2009-159466) *B.O. 30/10/2009. Vigencia: a partir del 1¬∫ de noviembre de 2009;*

*- Art√≠culo 14 ter incorporado por art. 6¬∞ del* [*Decreto N¬∞ 1602/2009*](/normativa/nacional/decreto-1602-2009-159466) *B.O. 30/10/2009. Vigencia: a partir del 1¬∫ de noviembre de 2009;*

*- Art√≠culo 18, inciso k) incorporado por art. 7¬∞ del* [*Decreto N¬∞ 1602/2009*](/normativa/nacional/decreto-1602-2009-159466) *B.O. 30/10/2009. Vigencia: a partir del 1¬∫ de noviembre de 2009;*

- *por art. 1¬∞ del* [*Decreto N¬∞ 1591/2008*](/normativa/nacional/decreto-1591-2008-145273) *, B.O. 3/10/2008, se establece que los rangos, topes y montos de las asignaciones familiares contempladas en la presente Ley ser√°n los que surgen de los Anexos I, II y III del mencionado Decreto;*

*- Art√≠culo 18, inciso a) - Tope m√°ximo de remuneraci√≥n sustituido por art. 2¬∞ del* [*Decreto N¬∞ 33/2007*](/normativa/nacional/decreto-33-2007-124530) *B.O. 24/1/2007. Vigencia: a partir del 1¬∫ de enero de 2007;*

*- Art√≠culo 18, inciso b) - Tope m√°ximo de remuneraci√≥n sustituido por art. 2¬∞ del* [*Decreto N¬∞ 33/2007*](/normativa/nacional/decreto-33-2007-124530) *B.O. 24/1/2007. Vigencia: a partir del 1¬∫ de enero de 2007*

*- Art√≠culo 18, inciso j.1) - Topes de remuneraci√≥n sustituidos por arts. 4¬∞ y 5¬∞ del* [*Decreto N¬∞ 33/2007*](/normativa/nacional/decreto-33-2007-124530) *B.O. 24/1/2007. Vigencia: a partir del 1¬∫ de enero de 2007;*

*- Art√≠culo 18, inciso j.2) - Topes de remuneraci√≥n sustituidos por art. 5¬∞ del* [*Decreto N¬∞ 33/2007*](/normativa/nacional/decreto-33-2007-124530) *B.O. 24/1/2007. Vigencia: a partir del 1¬∫ de enero de 2007;*

*- Art√≠culo 18, inciso i) - Tope m√°ximo de remuneraci√≥n sustituido por art. 4¬∞ del* [*Decreto N¬∞ 33/2007*](/normativa/nacional/decreto-33-2007-124530) *B.O. 24/1/2007. Vigencia: a partir del 1¬∫ de enero de 2007;*

*- Art√≠culo 18, √∫ltimo p√°rrafo - Tope m√°ximo de remuneraci√≥n sustituido por art. 3¬∞ del* [*Decreto N¬∞ 33/2007*](/normativa/nacional/decreto-33-2007-124530) *B.O. 24/1/2007. Vigencia: a partir del 1¬∫ de enero de 2007;*

- Art√≠culo 18, incisos a), b) y j) *montos de las asignaciones familiares incrementados en* un VEINTE POR CIENTO (20%)  por art. 6¬∞ del [Decreto N¬∞ 33/2007](/normativa/nacional/decreto-33-2007-124530) *B.O. 24/1/2007. Vigencia: a partir del 1¬∫ de enero de 2007;*

- Art√≠culo 18, incisos f), g) y h) *montos de las asignaciones familiares incrementados en* un CIENTO POR CIENTO (100%) por art. 7¬∞ del [Decreto N¬∞ 33/2007](/normativa/nacional/decreto-33-2007-124530) *B.O. 24/1/2007. Vigencia: a partir del 1¬∫ de enero de 2007;*

- Art√≠culo 18, inciso i) *monto de la asignacion familiar incrementado en* un CIENTO POR CIENTO (100%) por art. 8¬∞ del [Decreto N¬∞ 33/2007](/normativa/nacional/decreto-33-2007-124530) *B.O. 24/1/2007. Vigencia: a partir del 1¬∫ de enero de 2007;*

*- Art√≠culo 3, Topes m√°ximos de remuneraci√≥n, primer y segundo p√°rrafo sustituido por art. 1¬∞ del* [*Decreto N¬∞ 33/2007*](/normativa/nacional/decreto-33-2007-124530) *B.O. 24/1/2007. Vigencia: a partir del 1¬∫ de enero de 2007;*

*- Art√≠culo 3, Topes m√°ximos de remuneraci√≥n, primer y segundo p√°rrafo sustituido por art. 1¬∞ del* [*Decreto N¬∞ 1134/2005*](/normativa/nacional/decreto-1134-2005-109859) *B.O. 21/9/2005, a partir del 1¬∫ de septiembre de 2005;*

*- Art√≠culo 18, incisos a) y b) - Topes de remuneraci√≥n elevados por art. 2¬∞ del* [*Decreto N¬∞ 1134/2005*](/normativa/nacional/decreto-1134-2005-109859) *B.O. 21/9/2005, a partir del 1¬∞ de septiembre de 2005;*

*- Art√≠culo 18, incisos i), j.1) y j.2) - Topes de remuneraci√≥n elevados por arts. 4¬∞ y 5¬∞ del* [*Decreto N¬∞ 1134/2005*](/normativa/nacional/decreto-1134-2005-109859) *B.O. 21/9/2005, a partir del 1¬∞ de septiembre de 2005)*

*- Art√≠culo 18, √∫ltimo p√°rrafo: Tope de remuneraci√≥n elevado por art. 3¬∞ del* [*Decreto N¬∞ 1134/2005*](/normativa/nacional/decreto-1134-2005-109859) *B.O. 21/9/2005, a partir del 1¬∞ de septiembre de 2005)*

*- Art√≠culo 3, Topes m√°ximos de remuneraci√≥n, primer y segundo p√°rrafo, sustituidos por art. 2¬∞ del* [*Decreto N¬∞ 1691/2004*](/normativa/nacional/decreto-1691-2004-101568) *B.O. 2/12/004, a partir del 1¬∫ de octubre de 2004;*

*- Art√≠culo 18, incisos* a), b) y j) *montos de las asignaciones familiares incrementados en un Cincuenta por Ciento (50%) por art. 1¬∞ del* [*Decreto N¬∞ 1691/2004*](/normativa/nacional/decreto-1691-2004-101568) *B.O. 2/12/2004, a partir del 1¬∫ de octubre de 2004.*

*- Art√≠culo 18, inciso j) sustituido por art. 5¬∞ del* [*Decreto N¬∞ 1199/2004*](/normativa/nacional/decreto-1199-2004-98600) *B.O. 14/9/2004;*

*- Art√≠culo 18, inciso j), sustituido por art. 3¬∞ del* [*Decreto N¬∞ 368/2004*](/normativa/nacional/decreto-368-2004-93930) *B.O. 1/4/2004. Vigencia: a partir del 1¬∫ de marzo de 2004;*

*- Art√≠culo 18, inciso a) - Inciso sustituido por art. 3¬∞ del* [*Decreto N¬∞ 368/2004*](/normativa/nacional/decreto-368-2004-93930) *B.O. 1/4/2004. Vigencia: a partir del 1¬∫ de marzo de 2004;*

*- Art√≠culo 18, inciso b) sustituido por art. 3¬∞ del* [*Decreto N¬∞ 368/2004*](/normativa/nacional/decreto-368-2004-93930) *B.O. 1/4/2004. Vigencia: a partir del 1¬∫ de marzo de 2004*

*- Art√≠culo 18, inciso i) sustituido por art. 3¬∞ del* [*Decreto N¬∞ 368/2004*](/normativa/nacional/decreto-368-2004-93930) *B.O. 1/4/2004. Vigencia: a partir del 1¬∫ de marzo de 2004); - Art√≠culo 4¬∞, primer p√°rrafo modificado por art. 1¬∞ de la* [*Ley N¬∞ 25.231*](/normativa/nacional/ley-25231-1999-61779) *B.O. 31/12/1999.*

[Volver](/normativa/nacional/ley-24714-39880)

## Tr√°mites

- [Turnos](/turnos)
- [Tr√°mites a distancia](/innovacion/tramites-distancia-tad)
- [Atenci√≥n a la ciudadan√≠a](/miargentina/mesadeayuda)

## Acerca de la Rep√∫blica Argentina

- [Nuestro pa√≠s](/pais)
- [Leyes argentinas](/normativa)
- [Organismos](/organismos)
- [Mapa del Estado](/desregulacion/mapa-del-estado)

## Acerca de Argentina.gob.ar

- [Acerca de este sitio](/acerca)
- [T√©rminos y condiciones](/terminos-y-condiciones)
- [Sugerencias](/sugerencias)

Scroll hacia arriba
```

### [FILE] docs\PATTERNS.md
```md
# Librer√≠a de Patrones

Este documento registra los patrones de dise√±o y desarrollo estandarizados en el proyecto. El objetivo es mantener consistencia y facilitar el onboarding.

## 1. Arquitectura Hexagonal (Ports & Adapters)

**Contexto:** El core del negocio (`rag_app`) debe ser independiente de frameworks externos (API, DB, AI providers).

**Patr√≥n:**
- **Domain:** Modelos puros (Pydantic/Dataclasses) sin l√≥gica de infraestructura.
- **Ports:** Interfaces (Protocol) definidas en `ports/` que declaran *qu√©* necesitamos.
- **Adapters:** Implementaciones concretas en `adapters/` que definen *c√≥mo* lo hacemos.
- **Services:** L√≥gica de negocio que orquesta puertos. Inyecci√≥n de dependencias en `__init__`.

**Ejemplo:**
`RetrievalService` depende de `EmbedderPort`, no de `OpenAIEmbedder`.

## 2. Configuraci√≥n Tipada

**Contexto:** Evitar `os.environ.get()` dispersos y strings m√°gicos.

**Patr√≥n:**
Usar Pydantic `BaseSettings` para cargar y validar variables de entorno al inicio.

**Ejemplo:**
```python
class Settings(BaseSettings):
    openai_api_key: SecretStr
    environment: str = "development"
```

## 3. RAG Pipeline: Ingesti√≥n vs Recuperaci√≥n

**Contexto:** Clarificar la separaci√≥n de fases en RAG.

**Patr√≥n:**
- **Ingesti√≥n (Offline/Async):** Carga documentos, chunquea y guarda en VectorDB. Se ejecuta bajo demanda (scripts).
- **Recuperaci√≥n (Online/Sync):** Recibe query, busca en VectorDB y genera respuesta. Se ejecuta en tiempo real (API).

## 4. Gesti√≥n de Errores

**Contexto:** La API no debe crashear ni exponer stack traces al usuario.

**Patr√≥n:**
- Usar bloques `try/except` en la capa de adaptadores para capturar errores de librer√≠as externas y relanzar excepciones de dominio.
- Usar exception handlers globales en FastAPI (`api_main.py`) para mapear excepciones de dominio a c√≥digos HTTP (400, 404, 500).

## 5. Testing Strategy

**Contexto:** Tests confiables y r√°pidos.

**Patr√≥n:**
- **Unitarios:** Mockear puertos. Probar l√≥gica de dominio y servicios. R√°pidos.
- **Integraci√≥n:** Probar adaptadores reales con la API externa (usar `pytest.mark.integration`).

```

### [FILE] docs\adr\0000-use-adr.md
```md
# 0. Registrar decisiones de arquitectura

Fecha: 2026-02-05

## Estado

Aceptado

## Contexto

Necesitamos registrar las decisiones arquitect√≥nicas importantes para este proyecto, de modo que no perdamos el contexto de por qu√© se tomaron ciertas decisiones cuando se unan nuevos miembros (el junior, agencias nuevas) o cuando revisemos el c√≥digo meses despu√©s.

## Decisi√≥n

Usaremos Architecture Decision Records (ADRs) para registrar estas decisiones.

Esta es una t√©cnica simple donde cada decisi√≥n se registra en un archivo de texto separado en una carpeta `docs/adr`.

## Consecuencias

Tendremos un historial claro de decisiones. Requiere disciplina escribir estos registros, pero el costo de escritura es bajo comparado con el costo de perder contexto.

```

### [FILE] docs\adr\TEMPLATE.md
```md
# {NUMBER}. {TITLE}

Fecha: {YYYY-MM-DD}

## Estado

{Propuesto | Aceptado | Deprecado | Reemplazado}

## Contexto

{Describir el problema y el contexto. ¬øQu√© estamos tratando de resolver? ¬øCu√°les son las restricciones?}

## Decisi√≥n

{Describir la decisi√≥n tomada. S√© espec√≠fico.}

## Consecuencias

{Describir las consecuencias positivas y negativas de esta decisi√≥n.}

```

### [FILE] Documentos_Anses\Anses1.md
```md
# Presidencia de la Naci√≥n

[Pasar al contenido principal](#main-content)

Argentina.gob.ar

<!-- image -->

[Ir a Mi Argentina](https://mi.argentina.gob.ar/)

Buscar

*Cerrar el buscador*

[*Mi Argentina*](https://mi.argentina.gob.ar/)

Dejar en blanco

Buscar en el sitio Buscar en el sitio

1. [Inicio](/)
2. [Normativa](/normativa)
3. [Ley 24714/1996](/normativa/nacional/ley-24714-39880)
4. Texto actualizado

# 

HONORABLE CONGRESO DE LA NACION ARGENTINA

**1996-10-18**

*( Nota Infoleg : norma abrogada por art. 26 del* [*Decreto N¬∞ 1382/01*](/normativa/nacional/decreto-1382-2001-69649) *- B.O. 2/11/2001 y restablecida su vigencia por* [*Decreto N¬∞ 1604/2001*](/normativa/nacional/decreto-1604-2001-70499) *B.O. 6/12/2001, con excepci√≥n de las normas correspondientes a las prestaciones a las que se refiere el tercer p√°rrafo del art. 26 del* [*Decreto N¬∞ 1382/01*](/normativa/nacional/decreto-1382-2001-69649) *, cuya vigencia se regir√° por las pautas en el establecidas)*

**REGIMEN DE ASIGNACIONES FAMILIARES**

**Ley 24.714**

**Se instituye el mismo con alcance nacional y obligatorio. Der√≥gase la Ley N¬∞ 18.017 y sus modificatorias, y los Decretos Nros. 770/96, 771/96, 991/96 y toda otra norma que se oponga al presente.**

Sancionada: Octubre 2 de 1996.

Promulgada Parcialmente: Octubre 16 de 1996.

[**Ver Antecedentes Normativos**](#1)

El Senado y C√°mara de Diputados de la Naci√≥n Argentina reunidos en Congreso etc., sancionan con fuerza de

Ley:

**ARTICULO 1¬∞-** Se instituye con alcance nacional y obligatorio, y sujeto a las disposiciones de la presente ley, un R√©gimen de Asignaciones Familiares basado en:

a) Un subsistema contributivo fundado en los principios de reparto de aplicaci√≥n a los trabajadores que presten servicios remunerados en relaci√≥n de dependencia en la actividad privada, cualquiera sea la modalidad de contrataci√≥n laboral, beneficiarios de la Ley sobre Riesgos de Trabajo y beneficiarios del Seguro de Desempleo, el que se financiar√° con los recursos previstos en el art√≠culo 5¬∞ de la presente ley. a') Un subsistema contributivo de aplicaci√≥n a las personas inscriptas y aportantes al R√©gimen Simplificado para Peque√±os Contribuyentes (RS) establecido por la Ley N¬∞ 24.977, sus complementarias y modificatorias, el que se financiar√° con los recursos previstos en el art√≠culo 5¬∞ de la presente Ley. (Inciso sustituido por art. 13 del [Decreto N¬∫ 840/2020](/normativa/nacional/decreto-840-2020-343905) B.O. 4/11/2020. Ver aplicaci√≥n art. 17 del Decreto de referencia) b) Un subsistema no contributivo de aplicaci√≥n a los beneficiarios del Sistema Integrado Previsional Argentino (SIPA), beneficiarios del r√©gimen de pensiones no contributivas por invalidez, y para la Pensi√≥n Universal para el Adulto Mayor, el que se financiar√° con los recursos del r√©gimen previsional previstos en el art√≠culo 18 de la ley 24.241. (Inciso sustituido por art. 18 de la [Ley N¬∞ 27.260](/normativa/nacional/ley-27260-2016-263691) B.O. 22/7/2016. Vigencia: a partir del d√≠a siguiente al de su publicaci√≥n en el Bolet√≠n Oficial.)

c) Un subsistema no contributivo compuesto por la Asignaci√≥n por Embarazo para Protecci√≥n Social y la Asignaci√≥n Universal por Hijo para Protecci√≥n Social, destinado, respectivamente, a las mujeres embarazadas y a aquellos ni√±os, ni√±as y adolescentes residentes en la REPUBLICA ARGENTINA; que pertenezcan a grupos familiares que se encuentren desocupados o se desempe√±en en la econom√≠a informal. *(Inciso sustituido por art. 1¬∞ del* [*Decreto N¬∞ 446/2011*](/normativa/nacional/decreto-446-2011-181250) *B.O. 19/4/2011)*

*( Nota Infoleg : Las normas que establecen* el l√≠mite de ingresos m√≠nimo y m√°ximo aplicable a los titulares y a las titulares de los incisos a) y b) del presente art√≠culo y sus modificatorias, correspondiente al grupo familiar referido en el art√≠culo 1¬∞ del Decreto N¬∞ 1667/2012, *que se hayan publicado en Bolet√≠n Oficial pueden consultarse clickeando en el enlace '* [*Esta norma es complementada o modificada por X norma(s)*](http://servicios.infoleg.gob.ar/infolegInternet/verVinculos.do?modo=2&id=39880) *.')*

**ARTICULO 2¬∞-** Las empleadas/os del R√©gimen Especial de Contrato de Trabajo para el Personal de Casas Particulares se encuentran incluidas en el inciso c) del art√≠culo 1¬∞, siendo beneficiarias de la Asignaci√≥n por Embarazo para Protecci√≥n Social y de la Asignaci√≥n Universal por Hijo para Protecci√≥n Social, quedando excluidas de los incisos a) y b) del citado art√≠culo con excepci√≥n del derecho a la percepci√≥n de la Asignaci√≥n por Maternidad establecida por el inciso e) del art√≠culo 6¬∞ de la presente ley. Fac√∫ltase al Poder Ejecutivo nacional para que dicte las normas pertinentes a efectos de adecuar y extender a las empleadas/os de dicho r√©gimen especial estatutario las dem√°s asignaciones familiares previstas en la presente ley. Fac√∫ltase a la Administraci√≥n Federal de Ingresos P√∫blicos (AFIP) para establecer las al√≠cuotas correspondientes para el financiamiento de la asignaci√≥n familiar por maternidad correspondiente a las empleadas del R√©gimen Especial de Contrato de Trabajo para el Personal de Casas Particulares. (Art√≠culo sustituido por art. 72 inc. b) de la [Ley N¬∞ 26.844](/normativa/nacional/ley-26844-2013-210489) . Vigencia: de aplicaci√≥n a todas las relaciones laborales alcanzadas por este r√©gimen al momento de su entrada en vigencia)

**ARTICULO 3¬∞-** Quedan excluidos de las prestaciones de esta ley, con excepci√≥n de las asignaciones familiares por maternidad y por hijos con discapacidad, los trabajadores que perciban una remuneraci√≥n inferior a PESOS CIEN ($ 100) o igual o superior a PESOS CUATRO MIL CON UN CENTAVO ($ 4.000,01). *(Tope m√°ximo de remuneraci√≥n sustituido por art. 1¬∞ del* [*Decreto N¬∞ 1345/2007*](/normativa/nacional/decreto-1345-2007-133007) *B.O. 5/10/2007. Vigencia: a partir del 1¬∫ de julio de 2007).*

Para los que trabajen en las Provincias de LA PAMPA, NEUQUEN, RIO NEGRO, CHUBUT, SANTA CRUZ, TIERRA DEL FUEGO, ANTARTIDA E ISLAS DEL ATLANTICO SUR; o en los Departamentos de Antofagasta de la Sierra (exclusivamente para los que se desempe√±en en la actividad minera) de la Provincia de CATAMARCA; o en los Departamentos de Cochinoca, Humahuaca, Rinconada, Santa Catalina, Susques y Yavi de la Provincia de JUJUY; o en el Distrito Las Cuevas del Departamento de Las Heras, en los Distritos Potrerillos, Carrizal, Agrelo, Ugarteche, Perdriel y Las Compuertas del Departamento de Luj√°n de Cuyo, en los Distritos de Santa Clara, Zapata, San Jos√© y Anchoris del Departamento Tupungato, en los Distritos de Los Arboles, Los Chacayes y Campo de los Andes del Departamento de Tunuy√°n, en el Distrito de Pareditas del Departamento San Carlos, en el Distrito de Cuadro Benegas del Departamento San Rafael, en los Distritos Malarg√ºe, R√≠o Grande, R√≠o Barrancas, Agua Escondida del Departamento Malarg√ºe, en los Distritos Russell, Cruz de Piedra, Las Barrancas y Lumlunta del Departamento Maip√∫, en los Distritos de El Mirador, Los Campamentos, Los Arboles, Reducci√≥n y Medrano del Departamento Rivadavia de la Provincia de MENDOZA; o en los Departamentos de General San Mart√≠n (excepto Ciudad de Tartagal y su ejido urbano), Rivadavia, Los Andes, Santa Victoria y Or√°n (excepto Ciudad de San Ram√≥n de la Nueva Oran y su ejido urbano) de la Provincia de SALTA; o en los Departamentos Bermejo, Ram√≥n Lista y Matacos de la Provincia de FORMOSA, la remuneraci√≥n deber√° ser inferior a PESOS CIEN ($100) o igual o superior a PESOS CUATRO MIL CON UN CENTAVO ($ 4.000,01) para excluir al trabajador del cobro de las prestaciones previstas en la presente ley *(Tope m√°ximo de remuneraci√≥n sustituido por art. 1¬∞ del* [*Decreto N¬∞ 1345/2007*](/normativa/nacional/decreto-1345-2007-133007) *B.O. 5/10/2007. Vigencia: a partir del 1¬∫ de julio de 2007)*

Quedan excluidos del beneficio previsto en el art√≠culo 1¬∞ inciso c) de la presente los trabajadores que se desempe√±en en la econom√≠a informal, que perciban una remuneraci√≥n superior al salario m√≠nimo, vital y m√≥vil. (√öltimo p√°rrafo sustituido por art. 72 inc. e) de la [Ley N¬∞ 26.844](/normativa/nacional/ley-26844-2013-210489) . Vigencia: de aplicaci√≥n a todas las relaciones laborales alcanzadas por este r√©gimen al momento de su entrada en vigencia) ( Nota Infoleg : en la edici√≥n del Bolet√≥n Oficial se public√≥ la modificaci√≥n de referencia como inc. e) cuando deber√≠a ser consignada como inc. c))

*(Art√≠culo sustituido por art. 1¬∞ del* [*Decreto N¬∞ 368/2004*](/normativa/nacional/decreto-368-2004-93930) *B.O. 1/4/2004. Vigencia: a partir del 1¬∫ de marzo de 2004).*

**ARTICULO 4¬∞-** Se considerar√° remuneraci√≥n a los efectos de esta ley, la definida por el Sistema Integrado de Jubilaciones y Pensiones (Ley N¬∫ 24.241, art√≠culos 6¬∫ y 9¬∫) con excepci√≥n de las horas extras y el sueldo anual complementario (SAC).

Los l√≠mites que condicionan el otorgamiento de las asignaciones familiares o la cuant√≠a de las mismas, se calcular√°n, en cada caso, en funci√≥n de la totalidad de las remuneraciones y prestaciones dinerarias y asignaci√≥n por maternidad o prestaci√≥n por desempleo o haberes previsionales correspondientes al per√≠odo que se liquide, excluy√©ndose las horas extras y el sueldo anual complementario (SAC) en los casos de trabajadores en relaci√≥n de dependencia y la prestaci√≥n anual complementaria en los casos de beneficiarios del Sistema Integrado de Jubilaciones y Pensiones.

Para los trabajadores a que hace referencia el segundo p√°rrafo del art√≠culo 3¬∫ y s√≥lo a los efectos del cobro de las asignaciones familiares, se excluir√°n del total de la remuneraci√≥n las sumas que percibiera el trabajador en concepto de horas extras, sueldo anual complementario (SAC) y zona desfavorable, inh√≥spita o importes zonales.

*(Art√≠culo sustituido por art. 2¬∞ del* [*Decreto N¬∞ 368/2004*](/normativa/nacional/decreto-368-2004-93930) *B.O. 1/4/2004. Vigencia: a partir del 1¬∫ de marzo de 2004).*

**ARTICULO 5¬∞-** Las asignaciones familiares previstas en esta ley se financiar√°n:

a) Las, que correspondan al inciso a) del art√≠culo 1¬∫ de esta ley, con los siguientes recursos:

1. Una contribuci√≥n a cargo del empleador del nueve por ciento (9 %) que se abonara sobre el total de las remuneraciones de los trabajadores comprendidos en el √°mbito de aplicaci√≥n de esta ley. De ese nueve por ciento (9 %), siete y medio puntos porcentuales (7,5 %), se destinar√°n exclusivamente a asignaciones familiares y el uno y medio (1,5 %) restante al Fondo Nacional del Empleo, con la escala de reducciones prevista en el Decreto N¬∞ 2609/93, y sus modificatorios Decretos N¬∞ 372/95, 292/95 y 492/95, los que mantienen su vigencia en los porcentajes y al√≠cuotas especificados para cada caso.

2. Una contribuci√≥n de igual cuant√≠a a la establecida en el punto anterior, a cargo del responsable del pago de prestaciones dinerarias derivadas de la Ley N¬∞ 24.557, sobre Riesgos de Trabajo.

3. Intereses, multas y recargos.

4. Rentas provenientes de inversiones.

5. Donaciones, legados y otro tipo de contribuciones.

a') Las que correspondan al inciso a') del art√≠culo 1¬∞ de esta Ley, con los siguientes recursos: 1. El porcentaje de impuesto integrado que corresponda, con destino al SISTEMA INTEGRADO PREVISIONAL ARGENTINO (SIPA) a cargo de las personas adheridas al R√©gimen Simplificado para Peque√±os Contribuyentes (RS). (Inciso incorporado por art. 2¬∞ del [Decreto N¬∞ 593/2016](/normativa/nacional/decreto-593-2016-260573) B.O. 19/4/2016. Vigencia: regir√° para las asignaciones familiares que se perciban en el mes de Mayo de 2016.)

b) Las que correspondan al inciso b) del art√≠culo 1¬∫ de esta ley con los siguientes recursos:

1. Los establecidos en el art√≠culo 18 de la Ley

c) Las que correspondan al inciso c) del art√≠culo 1¬∫ de esta ley con los siguientes recursos:

1. Los establecidos en el art√≠culo 18 de la Ley N¬∫ 24.241 y sus modificatorias;

2. (Apartado derogado por art. 35 de la [Ley N¬∞ 27.260](/normativa/nacional/ley-27260-2016-263691) B.O. 22/7/2016. Vigencia: a partir del d√≠a siguiente al de su publicaci√≥n en el Bolet√≠n Oficial.)

*(Inciso c) incorporado por art. 3¬∞ del* [*Decreto N¬∞ 1602/2009*](/normativa/nacional/decreto-1602-2009-159466) *B.O. 30/10/2009. Vigencia: a partir del 1¬∫ de noviembre de 2009)*

**ARTICULO 6¬∞-** Se establecen las siguientes prestaciones:

a) Asignaci√≥n por hijo.

b) Asignaci√≥n por hijo con discapacidad.

c) Asignaci√≥n prenatal.

d) Asignaci√≥n por ayuda escolar anual para la educaci√≥n inicial, general b√°sica y polimodal. *(Inciso sustituido por art. 2¬∞ de la* [*Ley N¬∞ 25.231*](/normativa/nacional/ley-25231-1999-61779) *B.O. 31/12/1999)*

e) Asignaci√≥n por maternidad.

f) Asignaci√≥n por nacimiento.

g) Asignaci√≥n por adopci√≥n.

h) Asignaci√≥n por matrimonio.

i) Asignaci√≥n Universal por Hijo para Protecci√≥n Social. *(Inciso incorporado por art. 4¬∞ del* [*Decreto N¬∞ 1602/2009*](/normativa/nacional/decreto-1602-2009-159466) *B.O. 30/10/2009. Vigencia: a partir del 1¬∫ de noviembre de 2009)*

j) Asignaci√≥n por Embarazo para Protecci√≥n Social. *(Inciso incorporado por art. 2¬∞ del* [*Decreto N¬∞ 446/2011*](/normativa/nacional/decreto-446-2011-181250) *B.O. 19/4/2011)*

k) Asignaci√≥n por Cuidado de Salud Integral. (Inciso k) incorporado por art. 4¬∞  de la [Ley N¬∞ 27.611](/normativa/nacional/ley-27611-2020-346233) B.O. 15/01/2021)

**ARTICULO 7¬∫ -** La asignaci√≥n por hijo consistir√° en el pago de una suma mensual por cada hijo menor de 18 anos de edad que se encuentre a cargo del trabajador.

**ARTICULO 8¬∞-** La asignaci√≥n por hijo con discapacidad consistir√° en el pago de una suma mensual que se abonara al trabajador por cada hijo que se encuentre a su cargo en esa condici√≥n, sin limite de edad, a partir del mes en que se acredite tal condici√≥n ante el empleador. A los efectos de esta ley se entiende por discapacidad la definida en la Ley N¬∞ 22.431, art√≠culo 2¬∞.

**ARTICULO 9¬∞-** La asignaci√≥n prenatal consistir√° en el pago de una suma equivalente a la asignaci√≥n por hijo, que se abonara desde el momento de la concepci√≥n hasta el nacimiento del hijo. Este estado debe ser acreditado entre el tercer y cuarto mes de embarazo, mediante certificado m√©dico. Para el goce de esta asignaci√≥n se requerir√° una antig√ºedad m√≠nima y continuada en el empleo de tres meses.

**ARTICULO 10.-** La asignaci√≥n por ayuda escolar anual consistir√° en el pago de una suma de dinero que se har√° efectiva en el mes de marzo de cada a√±o. Esta asignaci√≥n se abonar√° por cada hijo que concurra regularmente a establecimientos de ense√±anza b√°sica y polimodal o bien, cualquiera sea su edad, si concurre a establecimientos oficiales o privados donde se imparta educaci√≥n diferencial. *(p√°rrafo modificado por art. 3¬∞ de la* [*Ley N¬∞ 25.231*](/normativa/nacional/ley-25231-1999-61779) *B.O. 31/12/1999)*

**ARTICULO 11.-** La asignaci√≥n por maternidad consistir√° en el pago de una suma igual a la remuneraci√≥n que la trabajadora hubiera debido percibir en su empleo, que se abonara durante el periodo de licencia legal correspondiente. Para el goce de esta asignaci√≥n se requerir√° una antig√ºedad m√≠nima y continuada en el empleo de tres meses.

**ARTICULO 12.-** La asignaci√≥n por nacimiento de hijo consistir√° en el pago de una suma de dinero que se abonar√° una vez acreditado tal hecho ante la Administraci√≥n Nacional de la Seguridad Social (ANSES). (Art√≠culo sustituido por art. 8¬∞  de la [Ley N¬∞ 27.611](/normativa/nacional/ley-27611-2020-346233) B.O. 15/01/2021). ( Nota Infoleg : por art. 1¬∞ de la [Resoluci√≥n N¬∞ 265/2021](/normativa/nacional/resoluci√≥n-265-2021-358662) de la Administraci√≥n Nacional de la Seguridad Social B.O. 24/12/2021, se establece que lo dispuesto por art. 8¬∞ de la [Ley N¬∞ 27.611](/normativa/nacional/ley-27611-2020-346233) resulta de aplicaci√≥n para aquellos hechos y/o actos generadores que se hayan producido a partir del 24 de enero de 2021.)

**ARTICULO 13.-** La asignaci√≥n por adopci√≥n consistir√° en el pago de una suma de dinero que se abonar√° una vez acreditado dicho acto ante la Administraci√≥n Nacional de la Seguridad Social (ANSES). (Art√≠culo sustituido por art. 9¬∞  de la [Ley N¬∞ 27.611](/normativa/nacional/ley-27611-2020-346233) B.O. 15/01/2021). ( Nota Infoleg : por art. 1¬∞ de la [Resoluci√≥n N¬∞ 265/2021](/normativa/nacional/resoluci√≥n-265-2021-358662) de la Administraci√≥n Nacional de la Seguridad Social B.O. 24/12/2021, se establece que lo dispuesto por art. 9¬∞ de la [Ley N¬∞ 27.611](/normativa/nacional/ley-27611-2020-346233) resulta de aplicaci√≥n para aquellos hechos y/o actos generadores que se hayan producido a partir del 24 de enero de 2021.)

**ARTICULO 14.-** La asignaci√≥n por matrimonio consistir√° en el pago de una suma de dinero, que se abonara en el mes en que se acredite dicho acto ante el empleador. Para el goce de este beneficio se requerir√° una antig√ºedad m√≠nima y continuada en el empleo de seis meses. Esta asignaci√≥n se abonar√° a los dos c√≥nyuges cuando ambos se encuentren en las disposiciones de la presente ley.

**ARTICULO 14 bis.-** La Asignaci√≥n Universal por Hijo para Protecci√≥n Social consistir√° en una prestaci√≥n monetaria no retributiva de car√°cter mensual, que se abonar√° a uno solo o una sola de los padres o de las madres, tutor o tutora, curador o curadora o pariente por consanguinidad hasta el tercer grado, por cada ni√±a, ni√±o y/o adolescente menor de DIECIOCHO (18) a√±os que se encuentre a su cargo, o sin l√≠mite de edad cuando se trate de una persona con discapacidad; en ambos casos, siempre que no estuviere empleado o empleada, emancipado o emancipada o percibiendo alguna de las prestaciones previstas en la presente Ley. (Art√≠culo sustituido por art. 1¬∫ del [Decreto N¬∫ 840/2020](/normativa/nacional/decreto-840-2020-343905) B.O. 4/11/2020. Ver aplicaci√≥n art. 17 del Decreto de referencia)

**ARTICULO 14 ter** .- Para acceder a la Asignaci√≥n Universal por Hijo para Protecci√≥n Social, se requerir√°: a. Que la ni√±a, el ni√±o, adolescente y/o la persona con discapacidad sea argentino o argentina nativo o nativa, naturalizado o naturalizada o por opci√≥n. Cuando la ni√±a, el ni√±o, adolescente y/o la persona con discapacidad y sus progenitores o sus progenitoras o las personas que los o las tengan a cargo sean extranjeros o extranjeras, deber√°n acreditar tanto la ni√±a, el ni√±o, adolescente y/o la persona con discapacidad como el o la titular que percibir√° la Asignaci√≥n, DOS (2) a√±os de residencia legal en el pa√≠s. b. Acreditar la identidad del o de la titular del beneficio y de la ni√±a, del ni√±o, adolescente y/o persona con discapacidad, mediante Documento Nacional de Identidad. c. Acreditar que la persona que percibir√° el beneficio tiene a su cargo a la ni√±a, al ni√±o, adolescente y/o persona con discapacidad, en funci√≥n de las disposiciones del C√≥digo Civil y Comercial de la Naci√≥n y de conformidad con la documentaci√≥n que la ADMINISTRACI√ìN NACIONAL DE LA SEGURIDAD SOCIAL (ANSES) disponga a estos fines. d. La acreditaci√≥n de la condici√≥n de discapacidad ser√° determinada en los t√©rminos del art√≠culo 2¬∫ de la Ley N¬∫ 22.431, certificada por autoridad competente. e. Hasta los CUATRO (4) a√±os de edad -inclusive-, deber√° acreditarse el cumplimiento de los controles sanitarios y del plan de vacunaci√≥n obligatorio. Desde los CINCO (5) a√±os de edad y hasta los DIECIOCHO (18) a√±os, deber√° acreditarse adem√°s la concurrencia de las ni√±as, los ni√±os y adolescentes obligatoriamente a establecimientos educativos p√∫blicos. f. Acreditar que el o la titular del beneficio y la ni√±a, el ni√±o, adolescente y/o persona con discapacidad residen en el pa√≠s. (Art√≠culo sustituido por art. 2¬∫ del [Decreto N¬∫ 840/2020](/normativa/nacional/decreto-840-2020-343905) B.O. 4/11/2020. Ver aplicaci√≥n art. 17 del Decreto de referencia)

**ARTICULO 14 quater.-** La Asignaci√≥n por Embarazo para Protecci√≥n Social consistir√° en una prestaci√≥n monetaria no retributiva mensual que se abonar√° a la persona gestante, desde el inicio de su embarazo hasta su interrupci√≥n o el nacimiento del hijo, siempre que no exceda de nueve (9) mensualidades, debiendo solicitarse a partir de la decimosegunda (12) semana de gestaci√≥n. (P√°rrafo sustituido por art. 7¬∞  de la [Ley N¬∞ 27.611](/normativa/nacional/ley-27611-2020-346233) B.O. 15/01/2021)

S√≥lo corresponder√° la percepci√≥n del importe equivalente a UNA (1) Asignaci√≥n por Embarazo para Protecci√≥n Social, a√∫n cuando se trate de embarazo m√∫ltiple. La percepci√≥n de esta asignaci√≥n no ser√° incompatible con la Asignaci√≥n Universal por Hijo para Protecci√≥n Social por cada menor de DIECIOCHO (18) a√±os, o sin l√≠mite de edad cuando se trate de un discapacitado, a cargo de la mujer embarazada.

*(Art√≠culo incorporado por art. 3¬∞ del* [*Decreto N¬∞ 446/2011*](/normativa/nacional/decreto-446-2011-181250) *B.O. 19/4/2011)*

**ARTICULO 14 quinquies** .- Para acceder a la Asignaci√≥n por Embarazo para Protecci√≥n Social, se requerir√°:

a) Que la embarazada sea argentina nativa o por opci√≥n, naturalizada o residente, con residencia legal en el pa√≠s no inferior a TRES (3) a√±os previos a la solicitud de la asignaci√≥n.

b) Acreditar identidad, mediante Documento Nacional de Identidad.

c) La acreditaci√≥n del estado de embarazo mediante la inscripci√≥n en el 'Plan Nacer' del MINISTERIO DE SALUD. En aquellos casos que prevea la reglamentaci√≥n, en que la embarazada cuente con cobertura de obra social, la acreditaci√≥n del estado de embarazo ser√° mediante certificado m√©dico expedido de conformidad con lo previsto en dicho plan para su acreditaci√≥n.

Si el requisito se acredita con posterioridad al nacimiento o interrupci√≥n del embarazo, no corresponde el pago de la asignaci√≥n por el per√≠odo correspondiente al de gestaci√≥n.

d) La presentaci√≥n por parte del titular del beneficio de una declaraci√≥n jurada relativa al cumplimiento de los requisitos exigidos por la presente y a las calidades invocadas. De comprobarse la falsedad de alguno de estos datos, se producir√° la p√©rdida del beneficio, sin perjuicio de las sanciones que correspondan.

*(Art√≠culo incorporado por art. 4¬∞ del* [*Decreto N¬∞ 446/2011*](/normativa/nacional/decreto-446-2011-181250) *B.O. 19/4/2011)*

*( Nota Infoleg : Ver Resoluciones del Ministerio de Salud, N¬∞* [*1195/2012*](/normativa/nacional/resoluci√≥n-1195-2012-200893) *B.O. 16/8/2012 y N¬∞* [*1460/2012*](/normativa/nacional/resoluci√≥n-1460-2012-202026) *B.O. 13/9/2012 , cambios de denominaci√≥n del* 'Plan Nacer')

ARTICULO 14 sexies .- Los titulares de la Asignaci√≥n Universal por Hijo para Protecci√≥n Social establecida en el art√≠culo 1¬∞, inciso c) de la presente Ley tendr√°n derecho a la Asignaci√≥n por Ayuda Escolar Anual prevista en el art√≠culo 6¬∞, inciso d) y definida por el art√≠culo 10 de esta ley.

*(Art√≠culo incorporado por art. 1¬∞ del* [*Decreto N¬∞ 504/2015*](/normativa/nacional/decreto-504-2015-245619) *B.O. 8/4/2015)*

ARTICULO 14 septies. - Las personas titulares comprendidas en el inciso c) del art√≠culo 1¬∫ de la presente ley tendr√°n derecho a la percepci√≥n de las asignaciones por nacimiento y adopci√≥n establecidas en los incisos f) y g) del art√≠culo 6¬∫ tambi√©n de la presente. Para acceder a dichas prestaciones, las personas titulares deber√°n acreditar el hecho y/o el acto generador pertinente ante la Administraci√≥n Nacional de la Seguridad Social (ANSES). (Art√≠culo incorporado por art. 10  de la [Ley N¬∞ 27.611](/normativa/nacional/ley-27611-2020-346233) B.O. 15/01/2021)

Art√≠culo 14 octies : La Asignaci√≥n por Cuidado de Salud Integral consistir√° en el pago de una suma de dinero que se abonar√° una (1) vez al a√±o a las personas titulares comprendidas en el art√≠culo 1¬∞ de la presente ley, por cada ni√±o o ni√±a menor de tres (3) a√±os de edad que se encuentre a su cargo, siempre que hayan tenido derecho al cobro de la prestaci√≥n establecida en el inciso i) del art√≠culo 6¬∫ de la presente dentro del a√±o calendario, y siempre que acrediten el cumplimiento del plan de vacunaci√≥n y control sanitario, de conformidad con los requisitos que la Administraci√≥n Nacional de la Seguridad Social (ANSES) establecer√° a tales efectos.

(Art√≠culo incorporado por art. 5¬∞  de la [Ley N¬∞ 27.611](/normativa/nacional/ley-27611-2020-346233) B.O. 15/01/2021)

**ARTICULO 15.-** Los beneficiarios del Sistema Integrado de Jubilaciones y Pensiones gozar√°n de las siguientes prestaciones:

a) Asignaci√≥n por c√≥nyuge.

b) Asignaci√≥n por hijo.

c) Asignaci√≥n por hijo con discapacidad.

d) Asignaci√≥n por ayuda escolar anual para la educaci√≥n b√°sica y polimodal *. (Inciso agregado por art. 1¬∞ del* [*Decreto Nacional N¬∞ 256/1998*](/normativa/nacional/decreto-256-1998-49614) *B.O. 11/3/1998) (* ***Nota Infoleg*** *: por art. 2¬∞ del* [*Decreto N¬∞ 337/2008*](/normativa/nacional/decreto-337-2008-138164) *B.O. 3/3/2008, se establece en la suma de PESOS CIENTO SETENTA ($ 170) el monto de la asignaci√≥n por ayuda escolar anual para la educaci√≥n inicial, b√°sica y polimodal o sus niveles equivalentes dispuestos por la* [*Ley N¬∫ 26.206*](/normativa/nacional/ley-26206-2006-123542) *, prevista en el presente inciso d). Vigencia: de aplicaci√≥n a partir del ciclo lectivo 2008 correspondiendo el pago de la prestaci√≥n durante el curso del mes de marzo)*

**ARTICULO 16.-** La asignaci√≥n por c√≥nyuge del beneficiario del Sistema Integrado de Jubilaciones y Pensiones consistir√° en el pago de una suma de dinero que se abonara al beneficiario por su c√≥nyuge.

**ARTICULO 17.-** Las asignaciones por hijo y por hijo con discapacidad son las previstas en los art√≠culos 7¬∞ y 8¬∞ de esta ley.

**ARTICULO 18.-** F√≠janse los montos de las prestaciones que otorga la presente ley en los siguientes valores:

*( Nota Infoleg : Las normas que* establecen los rangos y montos de las asignaciones familiares contempladas en la presente Ley N¬∞ 24.714, sus complementarias y modificatorias , *que se hayan publicado en Bolet√≠n Oficial pueden consultarse clickeando en el enlace '* [*Esta norma es complementada o modificada por X norma(s)*](http://servicios.infoleg.gob.ar/infolegInternet/verVinculos.do?modo=2&id=39880) *.')*

a) Asignaci√≥n por Hijo: la suma de PESOS CIEN ($ 100) para los trabajadores que perciban remuneraciones desde PESOS CIEN ($ 100) e inferiores a PESOS DOS MIL CON UN CENTAVO ($ 2.000,01); la suma de PESOS SETENTA Y CINCO ($ 75) para los trabajadores que perciban remuneraciones desde PESOS DOS MIL CON UN CENTAVO ($ 2.000,01) e inferiores a PESOS TRES MIL CON UN CENTAVO ($ 3.000,01) y la suma de PESOS CINCUENTA ($ 50) para los que perciban remuneraciones desde PESOS TRES MIL CON UN CENTAVO ($ 3.000,01) e inferiores a PESOS CUATRO MIL CON UN CENTAVO ($ 4.000,01). *(Inciso sustituido por art. 3¬∞ del* [*Decreto N¬∞ 1345/2007*](/normativa/nacional/decreto-1345-2007-133007) *B.O. 5/10/2007. Vigencia: a partir del 1¬∫ de julio de 2007).*

b) Asignaci√≥n por Hijo con Discapacidad: la suma de PESOS CUATROCIENTOS ($ 400) para los trabajadores que perciban remuneraciones inferiores a PESOS DOS MIL CON UN CENTAVO ($ 2.000,01); la suma de PESOS TRESCIENTOS ($ 300) para los trabajadores que perciban remuneraciones desde PESOS DOS MIL CON UN CENTAVO ($ 2.000,01) e inferiores a PESOS TRES MIL CON UN CENTAVO ($ 3.000,01) y la suma de PESOS DOSCIENTOS ($ 200) para los que perciban remuneraciones desde PESOS TRES MIL CON UN CENTAVO ($ 3.000,01). *(Inciso sustituido por art. 3¬∞ del* [*Decreto N¬∞ 1345/2007*](/normativa/nacional/decreto-1345-2007-133007) *B.O. 5/10/2007. Vigencia: a partir del 1¬∫ de julio de 2007).*

c) Asignaci√≥n prenatal: una suma igual a la de asignaci√≥n por hijo.

d) Asignaci√≥n por ayuda escolar anual para la educaci√≥n inicial, general b√°sica y polimodal: la suma de $ 130. *(Inciso sustituido por art. 4¬∞ de la* [*Ley N¬∞ 25.231*](/normativa/nacional/ley-25231-1999-61779) *B.O. 31/12/1999) (* ***Nota Infoleg*** *: por art. 1¬∞ del* [*Decreto N¬∞ 337/2008*](/normativa/nacional/decreto-337-2008-138164) *B.O. 3/3/2008, se establece en la suma de PESOS CIENTO SETENTA ($ 170) la asignaci√≥n por ayuda escolar anual para la educaci√≥n inicial, general b√°sica y polimodal o sus niveles equivalentes dispuestos por la* [*Ley N¬∫ 26.206*](/normativa/nacional/ley-26206-2006-123542) *, prevista en el presente inciso d). Vigencia: de aplicaci√≥n a partir del ciclo lectivo 2008 correspondiendo el pago de la prestaci√≥n durante el curso del mes de marzo)*

e) Asignaci√≥n por maternidad: la suma que corresponda de acuerdo a lo establecido en el art√≠culo 11 de la presente ley.

f) Asignaci√≥n por nacimiento: la suma de $ 400.

g) Asignaci√≥n por adopci√≥n: la suma de $ 2.400.

h) Asignaci√≥n por matrimonio: la suma de $ 600.

i) Asignaci√≥n por C√≥nyuge del beneficiario del SISTEMA INTEGRADO DE JUBILACIONES Y PENSIONES: la suma de PESOS TREINTA ($ 30) para los que perciban haberes inferiores a PESOS CUATRO MIL CON UN CENTAVO ($ 4.000,01).

Para los beneficiarios que residan en las Provincias de CHUBUT, NEUQUEN, RIO NEGRO, SANTA CRUZ, TIERRA DEL FUEGO, ANTARTIDA E ISLAS DEL ATLANTICO SUR, LA PAMPA y el Partido de Carmen de Patagones de la Provincia de BUENOS AIRES, la suma de PESOS SESENTA ($ 60) para los que perciban haberes inferiores a PESOS CUATRO MIL CON UN CENTAVO ($ 4.000,01).

*(Inciso i) sustituido por art. 3¬∞ del* [*Decreto N¬∞ 1345/2007*](/normativa/nacional/decreto-1345-2007-133007) *B.O. 5/10/2007. Vigencia: a partir del 1¬∫ de julio de 2007).*

*(Tope m√°ximo de remuneraci√≥n sustituido por art. 2¬∞ del* [*Decreto N¬∞ 1345/2007*](/normativa/nacional/decreto-1345-2007-133007) *B.O. 5/10/2007. Vigencia: a partir del 1¬∫ de julio de 2007).*

j) Asignaciones por hijo y por hijo con discapacidad de beneficiarios del Sistema Integrado de Jubilaciones y Pensiones:

j.1) Asignaci√≥n por Hijo: la suma de PESOS CIEN ($ 100) para los beneficiarios que perciban haberes inferiores a PESOS DOS MIL CON UN CENTAVO ($ 2.000,01); la suma de PESOS SETENTA Y CINCO ($ 75) para los beneficiarios que perciban haberes desde PESOS DOS MIL CON UN CENTAVO ($ 2.000,01) e inferiores a PESOS TRES MIL CON UN CENTAVO ($ 3.000,01) y la suma de PESOS CINCUENTA ($ 50) para los que perciban haberes desde PESOS TRES MIL CON UN CENTAVO ($ 3.000,01) e inferiores a PESOS CUATRO MIL CON UN CENTAVO ($ 4.000,01).

Para los beneficiarios que residan en las Provincias de CHUBUT, NEUQUEN, RIO NEGRO, SANTA CRUZ, TIERRA DEL FUEGO, ANTARTIDA E ISLAS DEL ATLANTICO SUR, LA PAMPA y el Partido de Carmen de Patagones de la Provincia de BUENOS AIRES, la suma de PESOS CIEN ($ 100) para los que perciban haberes inferiores a PESOS CUATRO MIL CON UN CENTAVO ($ 4.000,01).

*(Tope m√°ximo de remuneraci√≥n sustituido por art. 2¬∞ del* [*Decreto N¬∞ 1345/2007*](/normativa/nacional/decreto-1345-2007-133007) *B.O. 5/10/2007. Vigencia: a partir del 1¬∫ de julio de 2007)*

j.2) Asignaci√≥n por Hijo con Discapacidad: la suma de PESOS CUATROCIENTOS ($ 400) para los beneficiarios que perciban haberes inferiores a PESOS DOS MIL CON UN CENTAVO ($ 2.000,01); la suma de PESOS TRESCIENTOS ($ 300) para los beneficiarios que perciban haberes desde PESOS DOS MIL CON UN CENTAVO ($ 2.000,01) e inferiores a PESOS TRES MIL CON UN CENTAVO ($ 3.000,01) y la suma de PESOS DOSCIENTOS ($ 200) para los que perciban haberes desde PESOS TRES MIL CON UN CENTAVO ($ 3.000,01).

Para los beneficiarios que residan en las provincias de CHUBUT, NEUQUEN, RIO NEGRO, SANTA CRUZ, TIERRA DEL FUEGO, ANTARTIDA E ISLAS DEL ATLANTICO SUR, LA PAMPA y el Partido de Carmen de Patagones de la Provincia de BUENOS AIRES, la suma de PESOS CUATROCIENTOS ($ 400) cualquiera fuere su haber.

*(Inciso j) sustituido por art. 3¬∞ del* [*Decreto N¬∞ 1345/2007*](/normativa/nacional/decreto-1345-2007-133007) *B.O. 5/10/2007. Vigencia: a partir del 1¬∫ de julio de 2007).*

Para los trabajadores a que hace menci√≥n el p√°rrafo segundo del art√≠culo 3¬∫ el tope de PESOS UN MIL SETECIENTOS VEINTICINCO ($ 1.725) se eleva a PESOS CUATRO MIL CON UN CENTAVO ($ 4.000,01). *(√öltimo P√°rrafo sustituido por art. 4¬∞ del* [*Decreto N¬∞ 368/2004*](/normativa/nacional/decreto-368-2004-93930) *B.O. 1/4/2004. Vigencia: a partir del 1¬∫ de marzo de 2004).*

*(Tope m√°ximo de remuneraci√≥n sustituido por art. 1¬∞ del* [*Decreto N¬∞ 1345/2007*](/normativa/nacional/decreto-1345-2007-133007) *B.O. 5/10/2007. Vigencia: a partir del 1¬∫ de julio de 2007)*

k) Asignaci√≥n Universal por Hijo para Protecci√≥n Social: la mayor suma fijada en los incisos a) o b), seg√∫n corresponda. El OCHENTA POR CIENTO (80 %) del monto previsto en el primer p√°rrafo se abonar√° mensualmente a los o a las titulares de las mismas a trav√©s del sistema de pagos de la ADMINISTRACI√ìN NACIONAL DE LA SEGURIDAD SOCIAL (ANSES). El VEINTE POR CIENTO (20 %) reservado podr√° cobrarse cuando el o la titular acredite, para los o las menores de hasta los CUATRO (4) a√±os de edad -inclusive-, el cumplimiento de los controles sanitarios y el plan de vacunaci√≥n obligatorio; y para los y las de edad escolar, la certificaci√≥n que acredite, adem√°s, el cumplimiento del ciclo escolar lectivo correspondiente. La falta de acreditaci√≥n producir√° la p√©rdida del derecho al cobro del VEINTE POR CIENTO (20 %) reservado. (Inciso k) sustituido por art. 3¬∫ del [Decreto N¬∫ 840/2020](/normativa/nacional/decreto-840-2020-343905) B.O. 4/11/2020. Ver aplicaci√≥n art. 17 del Decreto de referencia)

l) Asignaci√≥n por Embarazo para Protecci√≥n Social: la mayor suma fijada en el inciso a).

Durante el per√≠odo correspondiente entre la DECIMO SEGUNDA y la √∫ltima semana de gestaci√≥n, se liquidar√° una suma igual al OCHENTA POR CIENTO (80%) del monto previsto en el primer p√°rrafo, la que se abonar√° mensualmente a las titulares a trav√©s del sistema de pago de la ADMINISTRACION NACIONAL DE LA SEGURIDAD SOCIAL (ANSES). El VEINTE POR CIENTO (20%) restante ser√° abonado una vez finalizado el embarazo y en un solo pago, a trav√©s del mismo sistema que se utilice para la liquidaci√≥n mensual de esta asignaci√≥n, en la medida que se hubieran cumplido los controles m√©dicos de seguimiento previstos en el 'Plan Nacer' del MINISTERIO DE SALUD.

La falta de acreditaci√≥n producir√° la p√©rdida del derecho al cobro del VEINTE POR CIENTO (20%) reservado.

*(Inciso l) incorporado por art. 5¬∞ del* [*Decreto N¬∞ 446/2011*](/normativa/nacional/decreto-446-2011-181250) *B.O. 19/4/2011)*

m) Asignaci√≥n por Cuidado de Salud Integral: la mayor suma fijada en los incisos a) o b), seg√∫n corresponda. (Inciso m) incorporado por art. 6¬∞  de la [Ley N¬∞ 27.611](/normativa/nacional/ley-27611-2020-346233) B.O. 15/01/2021)

**ARTICULO 19.-** Fac√∫ltase al PODER EJECUTIVO NACIONAL a establecer la cuant√≠a de las asignaciones familiares establecidas en la presente ley, los topes y rangos remuneratorios que habilitan al cobro de las mismas y los coeficientes zonales o montos diferenciales de acuerdo al desarrollo de la actividad econ√≥mica, √≠ndices de costo de vida o de variaci√≥n salarial y situaci√≥n econ√≥mica social de las distintas zonas. *(P√°rrafo sustituido por art. 5¬∞ del* [*Decreto N¬∞ 368/2004*](/normativa/nacional/decreto-368-2004-93930) *B.O. 1/4/2004. Vigencia: a partir del 1¬∫ de marzo de 2004).*

Cr√©ase un Consejo de Administraci√≥n para el subsistema contributivo integrado por representantes del Estado, de los trabajadores y de los empresarios, con car√°cter 'ad honorem' cuyo n√∫mero de integrantes y funcionamiento determinar√° la reglamentaci√≥n. Dicho Consejo tendr√° a su cargo fijar las pol√≠ticas de asignaciones de los recursos, teniendo en cuenta, para ello la variaci√≥n de los ingresos de dicho r√©gimen.

El Poder Ejecutivo garantizar√° un ingreso m√≠nimo de PESOS UN MIL QUINIENTOS MlLLONES ($ 1.500.000.000) anuales, destinados al pago de las asignaciones familiares del sub-sistema contributivo a que hace referencia el art√≠culo 1¬∞ de la presente ley. Los ingresos que excedan dicho monto no podr√°n destinarse a otra finalidad que no sea el pago de las prestaciones previstas en la presente ley su incremento. En ning√∫n caso las prestaciones a abonarse podr√°n ser inferiores a las establecidas en el art√≠culo 18 de la presente ley. *(Expresi√≥n 'y deber√°n abonarse por los montos establecidos en dicho art√≠culo desde el 1¬∞ de agosto de 1996' vetada por el art. 1¬∞ del* [*Decreto Nacional N¬∞ 1165/1996*](/normativa/nacional/decreto-1165-1996-39881) *B.O. 18/10/1996)*

Anualmente la ley de presupuesto establecer√° las partidas necesarias para garantizar el sistema.

**ARTICULO 20.-** Cuando ambos progenitores est√©n comprendidos en el presente r√©gimen, las prestaciones enumeradas en los art√≠culos 6¬∫ y 15 ser√°n percibidas por uno solo de ellos.

**ARTICULO 21.-** Cuando el trabajador se desempe√±are en m√°s de un empleo tendr√° derecho a la percepci√≥n de las prestaciones de la presente ley en el que acredite mayor antig√ºedad, a excepci√≥n de la asignaci√≥n por maternidad, que ser√° percibida en cada uno de ellos.

**ARTICULO 22.-** A los fines de otorgar las asignaciones por hijo, hijo con discapacidad y ayuda escolar anual, ser√°n considerados como hijos los menores o personas con discapacidad cuya guarda, tenencia o tutela haya sido acordada al trabajador por autoridad judicial o administrativa competente. En tales supuestos, los respectivos padres no tendr√°n, por ese hijo, derecho al cobro de las mencionadas asignaciones.

**ARTICULO 23.-** Las Asignaciones Familiares dispuestas en la presente ley son inembargables, no constituyen remuneraci√≥n ni est√°n sujetas a grav√°menes, atento su naturaleza jur√≠dica, tampoco ser√°n tenidas en cuenta para la determinaci√≥n del sueldo anual complementario, ni para el pago de las indemnizaciones por despido, enfermedad, accidente o para cualquier otro efecto. No pueden ser enajenadas ni afectadas a terceros por derecho alguno. (Tercer p√°rrafo derogado por art. 2¬∞ del [Decreto N¬∞ 1039/2024](/normativa/nacional/decreto-1039-2024-406487) B.O. 25/11/2024. Vigencia: a partir de la fecha de su publicaci√≥n en el BOLET√çN OFICIAL.)

(Art√≠culo sustituido por art. 3¬∞ del [Decreto N¬∞ 516/2017](/normativa/nacional/decreto-516-2017-276960) B.O. 18/07/2017. Vigencia: a partir del d√≠a siguiente al de su publicaci√≥n en el Bolet√≠n Oficial.)

**ARTICULO 24.-** Las asignaciones familiares correspondientes a los trabajadores del sector p√∫blico y a los beneficiarios de pensiones no contributivas se regir√°n, en cuanto a las prestaciones monto y topes, por lo establecido en el presente r√©gimen.

**ARTICULO 25.-** Der√≥gase la Ley N¬∞ 18.017 y sus modificatorias, y los Decretos 770/96, 771/96, 991/96 y toda otra norma que se oponga a la presente.

**ARTICULO 26. -** Comun√≠quese al Poder Ejecutivo. -ALBERTO-R. PIERRI - CARLOS F. RUCKAUF. - Juan Estrada. - Edgardo Piuzzi.

DADA EN LA SALA DE SESIONES DEL CONGRESO ARGENTINO, EN BUENOS AIRES, A LOS DOS DEL MES DE OCTUBRE DEL A√ëO MIL NOVECIENTOS NOVENTA Y SEIS.

**Antecedentes Normativos**

- Art√≠culo 1¬∞, ( Nota Infoleg : por art. 4¬∫ de la [Resoluci√≥n N¬∫ 312/2020](/normativa/nacional/resoluci√≥n-312-2020-341718) de la Administraci√≥n Nacional de la Seguridad Social B.O. 2/9/2020 se establece que el l√≠mite de ingresos m√≠nimo y m√°ximo aplicable a los titulares y a las titulares de los incisos a) y b) del presente art√≠culo y sus modificatorias, correspondiente al grupo familiar referido en el art√≠culo 1¬∞ del Decreto N¬∞ 1667/2012, ser√° de PESOS SEIS MIL CIENTO CINCO CON SETENTA Y NUEVE CENTAVOS ($6.105,79) y de PESOS CIENTO CINCUENTA Y CINCO MIL TRESCIENTOS VEINTIOCHO ($155.328), respectivamente.);

- Art√≠culo 18, ( Nota Infoleg : por art. 1¬∫ de la [Resoluci√≥n N¬∫ 312/2020](/normativa/nacional/resoluci√≥n-312-2020-341718) de la Administraci√≥n Nacional de la Seguridad Social B.O. 2/9/2020 se dispone un incremento de los rangos de ingresos del grupo familiar y de los montos de las asignaciones familiares previstas en la presente Ley, sus normas modificatorias y complementarias, con excepci√≥n de la establecida en el inciso e) del art√≠culo 6¬∞ de la misma, ser√° equivalente al SIETE COMA CINCUENTA POR CIENTO (7,50%) de los rangos y montos establecidos en los Anexos mencionados en el art√≠culo 2¬∞ de la Resoluci√≥n N¬∫ RESOL-2020-166-ANSES-ANSES, conforme lo previsto en el art√≠culo 2¬∞ del Decreto N¬∞ 692/2020.) - Art√≠culo 18, ( Nota Infoleg : por art. 2¬∫ de la [Resoluci√≥n N¬∫ 312/2020](/normativa/nacional/resoluci√≥n-312-2020-341718) de la Administraci√≥n Nacional de la Seguridad Social B.O. 2/9/2020 se establecen los rangos y montos de las asignaciones familiares contempladas en la Ley N¬∞ 24.714, sus complementarias y modificatorias, a partir del mes de septiembre de 2020, ser√°n los que surgen de los [Anexos I, II, III, IV, V y V I](/normativa/nacional/resoluci√≥n-312-2020-341718) de la Resoluci√≥n de referencia, abon√°ndose de acuerdo a los par√°metros establecidos en el art√≠culo 1¬∞ de la Resoluci√≥n D.E.-N N¬∞ 616/2015.)

- Art√≠culo 18, ( Nota Infoleg : por art. 2¬∞ de la [Resoluci√≥n N¬∞ 284/2019](/normativa/nacional/resoluci√≥n-284-2019-332510) de la Administraci√≥n Nacional de la Seguridad Social B.O. 2/12/2019 se establece el tope m√≠nimo, los rangos y montos de las Asignaciones Familiares y Universales contempladas en la Ley N¬∞ 24.714, sus modificatorias y complementarias a partir de diciembre de 2019, ser√°n los que surgen de los [Anexos I, II, III , IV , V y VI](/normativa/nacional/resoluci√≥n-284-2019-332510) de la Resoluci√≥n de referencia, abon√°ndose de acuerdo a los par√°metros establecidos en el art√≠culo 1¬∞ de la [Resoluci√≥n D.E.-N N¬∞ 616/2015](/normativa/nacional/resoluci√≥n-616-2015-255488) . Topes, rangos y montos anteriores : [Resoluci√≥n N¬∞ 201/2019](/normativa/nacional/resoluci√≥n-201-2019-326318) de la Administraci√≥n Nacional de la Seguridad Social B.O. 7/8/2019; [Resoluci√≥n N¬∞ 140/2019](/normativa/nacional/resoluci√≥n-140-2019-323758) de la Administraci√≥n Nacional de la Seguridad Social B.O. 31/5/2019; [Resoluci√≥n N¬∞ 75/2019](/normativa/nacional/resoluci√≥n-75-2019-320563) de la Administraci√≥n Nacional de la Seguridad Social B.O. 6/3/2019; [Decreto N¬∞ 702/2018](/normativa/nacional/decreto-702-2018-312783) B.O. 27/7/2018 [Resoluci√≥n N¬∞ 89/2018](http://servicios.infoleg.gob.ar/infolegInternet/anexos/310000-314999/311100/norma.htm) de la Administraci√≥n Nacional de la Seguridad Social B.O. 4/6/2018; [Resoluci√≥n N¬∞ 33/2017](/normativa/nacional/resoluci√≥n-33-2017-272537) de la Administraci√≥n Nacional de la Seguridad Social B.O. 10/3/2017; [Decreto N¬∞ 593/2016](/normativa/nacional/decreto-593-2016-260573) B.O. 19/4/2016, [Decreto N¬∞ 492/2016](/normativa/nacional/decreto-492-2016-259486) B.O. 17/3/2016)

- Art√≠culo 1¬∞, ( Nota Infoleg : por art. 4¬∫ de la [Resoluci√≥n N¬∫ 166/2020](/normativa/nacional/resoluci√≥n-166-2020-338281) de la Administraci√≥n Nacional de la Seguridad Social B.O. 3/6/2020 se establece que el l√≠mite de ingresos m√≠nimo y m√°ximo aplicable a los titulares y a las titulares de los incisos a) y b) del presente art√≠culo y sus modificatorias, correspondiente al grupo familiar referido en el art√≠culo 1¬∞ del Decreto N¬∞ 1667/2012, ser√° de PESOS CINCO MIL SEISCIENTOS SETENTA Y NUEVE CON OCHENTA CENTAVOS ($5.679,80) y de PESOS CIENTO CINCUENTA Y CINCO MIL TRESCIENTOS VEINTIOCHO ($155.328), respectivamente.);

- Art√≠culo 1¬∞, ( Nota Infoleg : por art. 4¬∞ de la [Resoluci√≥n N¬∞ 75/2020](/normativa/nacional/resoluci√≥n-75-2020-335627) de la Administraci√≥n Nacional de la Seguridad Social B.O. 18/3/2020 se establece el l√≠mite de ingresos m√≠nimo y m√°ximo aplicable a los titulares y a las titulares de los incisos a) y b) del presente art√≠culo y sus modificatorias, correspondiente al grupo familiar referido en el art√≠culo 1¬∞ del Decreto N¬∞ 1667/2012, ser√° de PESOS CINCO MIL TRESCIENTOS CINCUENTA Y DOS CON VEINTICUATRO CENTAVOS ($5.352,24) y de PESOS CIENTO CINCUENTA Y CINCO MIL TRESCIENTOS VEINTIOCHO ($155.328), respectivamente.);

- Art√≠culo 1¬∞, ( Nota Infoleg : por art. 1¬∞ de la [Resoluci√≥n N¬∞ 222/2019](/normativa/nacional/resoluci√≥n-222-2019-327499) de la Administraci√≥n Nacional de la Seguridad Social B.O. 30/08/2019 se establece el l√≠mite m√°ximo aplicable a los titulares de los incisos a) y b) del presente art√≠culo y sus mmodificatorias, correspondiente al grupo familiar referido en el art√≠culo 1¬∞ del Decreto N¬∞ 1.667/12, ser√° de PESOS CIENTO VEINTINUEVE MIL CIENTO NOVENTA ($129.190));

- Art√≠culo 1¬∞, ( Nota Infoleg : por art. 4¬∞ de la [Resoluci√≥n N¬∞ 75/2019](/normativa/nacional/resoluci√≥n-75-2019-320563) de la Administraci√≥n Nacional de la Seguridad Social B.O. 6/3/2019 se establece que el l√≠mite de ingresos m√≠nimo y m√°ximo aplicable a los titulares de los incisos a) y b) del presente art√≠culo y sus modificatorias, correspondiente al grupo familiar referido en el art√≠culo 1¬∞ del Decreto N¬∞ 1.667/12, ser√° de PESOS TRES MIL SEISCIENTOS VEINTIUNO CON CUATRO CENTAVOS ($3.621,04) y PESOS CIENTO SIETE MIL SEISCIENTOS CINCUENTA Y OCHO ($107.658) respectivamente. Texto rectificado por art. 1¬∞ de la [Resoluci√≥n N¬∞ 81/2019](/normativa/nacional/resoluci√≥n-81-2019-320770) de la Administraci√≥n Nacional de la Seguridad Social B.O. 12/03/2019 );

- Art√≠culo 1¬∞, ( Nota Infoleg : por art. 1¬∞ del [Decreto N¬∞ 702/2018](/normativa/nacional/decreto-702-2018-312783) B.O. 27/7/2018 se establece que los l√≠mites m√≠nimo y m√°ximo de ingresos aplicables a los beneficiarios de los incisos a) y b) del presente art√≠culo y sus modificatorias, correspondientes al grupo familiar definido en el [Decreto N¬∞ 1667/12](/normativa/nacional/decreto-1667-2012-202004) , ser√°n de UNA (1) vez la base imponible m√≠nima previsional prevista en el art√≠culo 9¬∫ de la Ley N¬∫ 24.241 sus modificatorias y complementarias de PESOS OCHENTA Y TRES MIL NOVECIENTOS DIECISIETE ($ 83.917.-) respectivamente. Vigencia: comenzar√° a regir para las asignaciones familiares que se perciban durante el mes de septiembre de 2018);

- Art√≠culo 1¬∞, ( Nota Infoleg : por art. 4¬∞ de la [Resoluci√≥n N¬∞ 33/2017](/normativa/nacional/resoluci√≥n-33-2017-272537) de la Administraci√≥n Nacional de la Seguridad Social B.O. 10/3/2017 se establece que el l√≠mite de ingresos m√≠nimo y m√°ximo aplicable a los titulares de los incisos a) y b) del art√≠culo 1¬∞ de la Ley N¬∞ 24.714 y sus modificatorias, correspondiente al grupo familiar referido en el art√≠culo 1¬∞ del [Decreto N¬∞ 1667/12](/normativa/nacional/decreto-1667-2012-202004) , ser√° de PESOS DOSCIENTOS ($200) y PESOS SETENTA Y TRES MIL SEISCIENTOS OCHO ($73.608) respectivamente.);

- Art√≠culo 18, ( Nota Infoleg : por art. 1¬∫ [Resoluci√≥n N¬∫ 166/2020](/normativa/nacional/resoluci√≥n-166-2020-338281) de la Administraci√≥n Nacional de la Seguridad Social B.O. 3/6/2020 se dispone un incremento de los rangos de ingresos del grupo familiar y de los montos de las asignaciones familiares previstas en la presente Ley, sus normas modificatorias y complementarias, con excepci√≥n de la establecida en el inciso e) del art√≠culo 6¬∞ de la misma, ser√° equivalente al SEIS COMA DOCE POR CIENTO (6,12%) de los rangos y montos establecidos en los Anexos mencionados en el art√≠culo 2¬∞ de la Resoluci√≥n N¬∫ RESOL-2020-75-ANSES-ANSES, conforme lo previsto en el art√≠culo 2¬∞ del Decreto N¬∞ 495/2020.); - Art√≠culo 18, ( Nota Infoleg : por art. 2¬∫ [Resoluci√≥n N¬∫ 166/2020](/normativa/nacional/resoluci√≥n-166-2020-338281) de la Administraci√≥n Nacional de la Seguridad Social B.O. 3/6/2020 se establecen los rangos y montos de las asignaciones familiares contempladas en la Ley N¬∞ 24.714, sus complementarias y modificatorias, a partir del mes de junio de 2020, ser√°n los que surgen de los [Anexos I, II, III, IV, V y VI](/normativa/nacional/resoluci√≥n-166-2020-338281) de la Resoluci√≥n de referencia, abon√°ndose de acuerdo a los par√°metros establecidos en el art√≠culo 1¬∞ de la Resoluci√≥n D.E.-N N¬∞ 616/2015.);

- Art√≠culo 18, ( Nota Infoleg : por art. 2¬∫ del [Decreto N¬∫ 495/2020](/normativa/nacional/decreto-495-2020-337985) B.O. 27/5/2020 se dispone un incremento de los rangos de ingresos del grupo familiar y de los montos de las Asignaciones Familiares previstas en la presente Ley, sus normas modificatorias y complementarias, con excepci√≥n de la establecida en el inciso e) del art√≠culo 6¬∞ de la misma, el cual ser√° equivalente al SEIS COMA DOCE POR CIENTO (6,12 %) de los rangos y montos establecidos en los Anexos mencionados en el art√≠culo 2¬∞ de la [Resoluci√≥n ANSES N¬∫ 75/20](/normativa/nacional/resoluci√≥n-75-2020-335627) . Por art. 3¬∫ se dispone que los incrementos otorgados en el presente decreto regir√°n a partir del 1¬∞ de junio de 2020 y quedar√°n incorporados como parte integrante del haber de las prestaciones alcanzadas y de las Asignaciones Familiares, respectivamente. Vigencia: el d√≠a de su publicaci√≥n en el BOLET√çN OFICIAL.);

- Art√≠culo 18, ( Nota Infoleg : por art. 1¬∞ de la [Resoluci√≥n N¬∞ 75/2020](/normativa/nacional/resoluci√≥n-75-2020-335627) de la Administraci√≥n Nacional de la Seguridad Social B.O. 18/3/2020 se establece el incremento de los rangos de ingresos del grupo familiar y de los montos de las asignaciones familiares previstas en la Ley N¬∞ 24.714, sus normas modificatorias y complementarias, con excepci√≥n de la establecida en el inciso e) del art√≠culo 6¬∞ de la misma, ser√° equivalente al TRECE POR CIENTO (13%) de los rangos y montos establecidos en los Anexos mencionados en el art√≠culo 2¬∞ de la Resoluci√≥n N¬∫ RESOL-2019-284-ANSES-ANSES, conforme lo previsto en el art√≠culo 2¬∞ del Decreto N¬∞ 163/20.); - Art√≠culo 18, ( Nota Infoleg : por art. 2¬∞ de la [Resoluci√≥n N¬∞ 75/2020](/normativa/nacional/resoluci√≥n-75-2020-335627) de la Administraci√≥n Nacional de la Seguridad Social B.O. 18/3/2020 se establecen los rangos y montos de las asignaciones familiares contempladas en la Ley N¬∞ 24.714, sus complementarias y modificatorias, a partir del mes de marzo de 2020, ser√°n los que surgen de los [Anexos I, II, III, IV, V y VI](/normativa/nacional/resoluci√≥n-75-2020-335627) de la Resoluci√≥n de referencia);

- Art√≠culo 18, Nota Infoleg : por art. 2¬∞ de la [Resoluci√≥n N¬∞ 243/2018](/normativa/nacional/resoluci√≥n-243-2018-316945) de la Administraci√≥n Nacional de la Seguridad Social B.O. 03/12/2018 se establece que el tope m√≠nimo, los rangos y montos de las Asignaciones Familiares y Universales contempladas en la Ley N¬∞ 24.714, sus modificatorias y complementarias a partir de diciembre de 2018, ser√°n los que surgen de los [Anexos I, II, III, IV, V y VI](/normativa/nacional/resoluci√≥n-243-2018-316945) que forman parte de la norma de referencia, abon√°ndose de acuerdo a los par√°metros establecidos en el art√≠culo 1¬∞ de la Resoluci√≥n D.E.-N N¬∞ 616/2015;

- Art√≠culo 18, Nota Infoleg : por art. 2¬∞ de la [Resoluci√≥n N¬∞ 125/2018](/normativa/nacional/resoluci√≥n-125-2018-313732) de la Administraci√≥n Nacional de la Seguridad Social B.O. 23/8/2018 se establece que el tope m√≠nimo, los rangos y montos de las Asignaciones Familiares y Universales contempladas en la Ley N¬∞ 24.714, sus modificatorias y complementarias a partir de septiembre de 2018, ser√°n los que surgen de los [Anexos I, II, III, IV, V y VI](/normativa/nacional/resoluci√≥n-125-2018-313732) que forman parte de la norma de referencia, abon√°ndose de acuerdo a los par√°metros establecidos en el art√≠culo 1¬∞ de la Resoluci√≥n D.E.-N N¬∞ 616/2015;

- Art√≠culo 18, Nota Infoleg : por art. 2¬∞ de la [Resoluci√≥n N¬∞ 175/2017](/normativa/nacional/resoluci√≥n-175-2017-279691) de la Administraci√≥n Nacional de la Seguridad Social B.O. 19/9/2017 se establece que los rangos y montos de las Asignaciones Familiares y Universales contempladas en la Ley N¬∞ 24.714, sus modificatorias y complementarias a partir de septiembre de 2017, ser√°n los que surgen de los [Anexos I, Anexo II, Anexo III, Anexo IV, Anexo V, Anexo VI](/normativa/nacional/resoluci√≥n-175-2017-279691) , de la Resoluci√≥n de referencia, abon√°ndose de acuerdo a los par√°metros establecidos en el art√≠culo 1¬∞ de la Resoluci√≥n D.E.-N N¬∞ 616/2015;

- Art√≠culo 18, Nota Infoleg : por art. 2¬∞ de la [Resoluci√≥n N¬∞ 299/2016](/normativa/nacional/resoluci√≥n-299-2016-265103) de la Administraci√≥n Nacional de la Seguridad Social B.O. 5/9/2016 se establece que los rangos y montos de las Asignaciones Familiares y Universales contempladas en la Ley N¬∞ 24.714, sus modificatorias y complementarias a partir de septiembre de 2016, ser√°n los que surgen de los [Anexos I, II, III, IV, V y VI](/normativa/nacional/resoluci√≥n-299-2016-265103) de la Resoluci√≥n de referencia, abon√°ndose de acuerdo a los par√°metros establecidos en el art√≠culo 1¬∞ de la Resoluci√≥n D.E.-N N¬∞ 616/2015;

- Art√≠culo 1¬∫, inciso a') incorporado por art. 1¬∞ del [Decreto N¬∞ 593/2016](/normativa/nacional/decreto-593-2016-260573) B.O. 19/4/2016. Vigencia: regir√° para las asignaciones familiares que se perciban en el mes de Mayo de 2016;

- Art√≠culo 1¬∞, Nota Infoleg : por art. 1¬∞ del [Decreto N¬∞ 492/2016](/normativa/nacional/decreto-492-2016-259486) B.O. 17/3/2016 se establece que el l√≠mite de ingresos m√≠nimo y m√°ximo aplicable a los titulares de los incisos a) y b) del art√≠culo 1¬∞ de la Ley N¬∞ 24.714 y sus modificatorias, correspondiente al grupo familiar referido en el art√≠culo 1¬∞ del [Decreto N¬∞ 1667/12](/normativa/nacional/decreto-1667-2012-202004) , ser√° de PESOS DOSCIENTOS ($200) y PESOS SESENTA MIL ($60.000) respectivamente. Ver aplicaci√≥n art. 5¬∞ de la misma norma;

- Art√≠culo 18, Nota Infoleg : por art. 2¬∞ de la [Resoluci√≥n N¬∞ 32/2016](/normativa/nacional/resoluci√≥n-32-2016-258981) de la Administraci√≥n Nacional de la Seguridad Social B.O. 26/2/2016 se establece que los rangos y montos de las Asignaciones Familiares y Universales contempladas en la Ley N¬∞ 24.714 y sus modificatorias a partir de marzo de 2016, ser√°n los que surgen de los Anexos I, II, III y IV de la Resoluci√≥n de referencia, abon√°ndose de acuerdo a los par√°metros establecidos en el art√≠culo 1¬∞ de la Resoluci√≥n D.E.-N N¬∞ 616/2015;

- Art√≠culo 18, Nota Infoleg: por art. 1¬∞ del [Decreto N¬∞ 1141/2015](/normativa/nacional/decreto-1141-2015-248196) B.O. 18/06/2015 se establece que los rangos y montos de las Asignaciones Familiares contempladas en la presente Ley, ser√°n los que surgen de los Anexos I, II y III del decreto de referencia;

- Art√≠culo 18, Nota Infoleg: por art. 2¬∞ del [Decreto N¬∞ 1141/2015](/normativa/nacional/decreto-1141-2015-248196) B.O. 18/06/2015 se establece que los montos de la Asignaci√≥n Universal por Hijo y Embarazo para Protecci√≥n Social contempladas en la presente Ley, ser√°n los que surgen del Anexo IV del decreto de referencia;

- Art√≠culo 18, Nota Infoleg : por art . 1¬∞ del [Decreto N¬∞ 779/2014](/normativa/nacional/decreto-779-2014-230541) B.O. 30/5/2014 se establece que los rangos y montos de las Asignaciones Familiares contempladas en la presente Ley que se perciban a partir del mes de junio de 2014 y hasta el mes de septiembre de 2014 ser√°n los que surgen de los Anexos I, II y III; y los rangos que se apliquen a partir del mes de octubre de 2014 ser√°n los que surgen de los Anexos IV, V y VI del  decreto de referencia; - Art√≠culo 18, Nota Infoleg : por art . 1¬∞ del [Decreto N¬∞ 779/2014](/normativa/nacional/decreto-779-2014-230541) B.O. 30/5/2014 se establece que los montos de la Asignaci√≥n Universal por Hijo, Hijo con Discapacidad y Embarazo para Protecci√≥n Social contempladas en la presente Ley, que se perciban a partir del mes de junio de 2014 ser√°n los que surgen del Anexo VII del decreto de referencia;

- Art√≠culo 1¬∞, Nota Infoleg : por art. 1¬∞ del [Decreto N¬∞ 614/2013](/normativa/nacional/decreto-614-2013-215701) B.O. 31/5/2013, se establece que el l√≠mite de ingresos m√≠nimo y m√°ximo aplicable a los titulares de los incisos a) y b) del art√≠culo 1¬∞ de la Ley N¬∞ 24.714 y sus modificatorias, correspondientes al grupo familiar referido en el art√≠culo 1¬∞ del [Decreto N¬∞ 1.667/12](/normativa/nacional/decreto-1667-2012-202004) , ser√° de PESOS DOSCIENTOS ($ 200.-) y PESOS TREINTA MIL ($ 30.000.-) respectivamente . Ver aplicaci√≥n art. 10 de la misma norma , texto seg√∫n art. 1¬∞ del [Decreto N¬∞ 1282/2013](/normativa/nacional/decreto-1282-2013-219229) B.O. 4/9/2013, Vigencia: de aplicaci√≥n para las asignaciones familiares de los titulares de los incisos a) y b) del art√≠culo 1¬∞ de la Ley N¬∫ 24.714 y sus modificatorias, que se perciban a partir de septiembre de 2013;

- Art√≠culo 18, Nota Infoleg : por art. 4¬∞ del [Decreto N¬∞ 614/2013](/normativa/nacional/decreto-614-2013-215701) B.O. 31/5/2013 se establece que los rangos, topes y montos de las asignaciones familiares contempladas en la presente Ley ser√°n los que surgen de los Anexos I, II y III del decreto de referencia. Ver aplicaci√≥n art. 10 de la misma norma ; - Art√≠culo 18, Nota Infoleg : por art. 5¬∞ del [Decreto N¬∞ 614/2013](/normativa/nacional/decreto-614-2013-215701) B.O. 31/5/2013 se establece que los montos de la Asignaci√≥n Universal por Hijo, Hijo con Discapacidad y Embarazo para Protecci√≥n Social contemplados en la presente Ley ser√°n los que surgen del Anexo IV del decreto de referencia. Ver aplicaci√≥n art. 10 de la misma norma ;

- Art√≠culo 18, Nota Infoleg : por art. 4¬∞ del [Decreto N¬∞ 1668/2012](/normativa/nacional/decreto-1668-2012-202005) B.O. 13/9/2012 se establece que los rangos, topes y montos de las asignaciones familiares contempladas en la presente Ley ser√°n los que surgen de los Anexos I, II y III del decreto de referencia. Vigencia: comenzar√° a regir para las asignaciones familiares devengadas en el mes de septiembre de 2012 ; - Art√≠culo 18, Nota Infoleg : por art. 5¬∞ del [Decreto N¬∞ 1668/2012](/normativa/nacional/decreto-1668-2012-202005) B.O. 13/9/2012 se establece que los montos de la Asignaci√≥n Universal por Hijo, Hijo con Discapacidad y Embarazo para Protecci√≥n Social contemplados en la presente Ley ser√°n los que surgen del Anexo IV del decreto de referencia. Vigencia: comenzar√° a regir para las asignaciones familiares devengadas en el mes de septiembre de 2012;

- Art√≠culo 1¬∞, Nota Infoleg : por art. 1¬∞ del [Decreto N¬∞ 1668/2012](/normativa/nacional/decreto-1668-2012-202005) B.O. 13/9/2012 se establece que el l√≠mite de ingresos m√≠nimo y m√°ximo aplicable a los beneficiarios de los incisos a) y b) del art√≠culo 1¬∞ de la presente Ley, correspondientes al grupo familiar referido en el art√≠culo 1¬∞ del Decreto N¬∫ 1.667 de fecha 12 de setiembre de 2012, ser√° de PESOS DOSCIENTOS ($ 200) y PESOS CATORCE MIL ($ 14.000) respectivamente. Vigencia: comenzar√° a regir para las asignaciones familiares devengadas en el mes de septiembre de 2012;

*- Art√≠culo 18,* ***Nota Infoleg*** *: por art. 1¬∞ del* [*Decreto N¬∞ 1482/2011*](/normativa/nacional/decreto-1482-2011-187426) *B.O. 27/9/2011 se establece que los rangos, topes y montos de las Asignaciones Familiares y de la Asignaci√≥n Universal por Hijo para Protecci√≥n Social contempladas en la presente Ley ser√°n los que surgen de los Anexos I, II, III, IV del mencionado Decreto;*

*- Por art. 1¬∞ del* [*Decreto N¬∞ 1388/2010*](/normativa/nacional/decreto-1388-2010-172842) *B.O. 1/10/2010 se establece que los montos de las asignaciones familiares y de la Asignaci√≥n Universal por Hijo para Protecci√≥n Social contempladas en la presente Ley ser√°n los que surgen de los Anexos I, II, III, IV del mencionado Decreto)*

- *Art√≠culo 1¬∞, Inciso c) incorporado por art. 1¬∞ del* [*Decreto N¬∞ 1602/2009*](/normativa/nacional/decreto-1602-2009-159466) *B.O. 30/10/2009. Vigencia: a partir del 1¬∫ de noviembre de 2009;*

*- Art√≠culo 3¬∞, √∫ltimo p√°rrafo incorporado por art. 2¬∞ del* [*Decreto N¬∞ 1602/2009*](/normativa/nacional/decreto-1602-2009-159466) *B.O. 30/10/2009. Vigencia: a partir del 1¬∫ de noviembre de 2009;*

*- Art√≠culo 14 bis incorporado por art. 5¬∞ del* [*Decreto N¬∞ 1602/2009*](/normativa/nacional/decreto-1602-2009-159466) *B.O. 30/10/2009. Vigencia: a partir del 1¬∫ de noviembre de 2009;*

*- Art√≠culo 14 ter incorporado por art. 6¬∞ del* [*Decreto N¬∞ 1602/2009*](/normativa/nacional/decreto-1602-2009-159466) *B.O. 30/10/2009. Vigencia: a partir del 1¬∫ de noviembre de 2009;*

*- Art√≠culo 18, inciso k) incorporado por art. 7¬∞ del* [*Decreto N¬∞ 1602/2009*](/normativa/nacional/decreto-1602-2009-159466) *B.O. 30/10/2009. Vigencia: a partir del 1¬∫ de noviembre de 2009;*

- *por art. 1¬∞ del* [*Decreto N¬∞ 1591/2008*](/normativa/nacional/decreto-1591-2008-145273) *, B.O. 3/10/2008, se establece que los rangos, topes y montos de las asignaciones familiares contempladas en la presente Ley ser√°n los que surgen de los Anexos I, II y III del mencionado Decreto;*

*- Art√≠culo 18, inciso a) - Tope m√°ximo de remuneraci√≥n sustituido por art. 2¬∞ del* [*Decreto N¬∞ 33/2007*](/normativa/nacional/decreto-33-2007-124530) *B.O. 24/1/2007. Vigencia: a partir del 1¬∫ de enero de 2007;*

*- Art√≠culo 18, inciso b) - Tope m√°ximo de remuneraci√≥n sustituido por art. 2¬∞ del* [*Decreto N¬∞ 33/2007*](/normativa/nacional/decreto-33-2007-124530) *B.O. 24/1/2007. Vigencia: a partir del 1¬∫ de enero de 2007*

*- Art√≠culo 18, inciso j.1) - Topes de remuneraci√≥n sustituidos por arts. 4¬∞ y 5¬∞ del* [*Decreto N¬∞ 33/2007*](/normativa/nacional/decreto-33-2007-124530) *B.O. 24/1/2007. Vigencia: a partir del 1¬∫ de enero de 2007;*

*- Art√≠culo 18, inciso j.2) - Topes de remuneraci√≥n sustituidos por art. 5¬∞ del* [*Decreto N¬∞ 33/2007*](/normativa/nacional/decreto-33-2007-124530) *B.O. 24/1/2007. Vigencia: a partir del 1¬∫ de enero de 2007;*

*- Art√≠culo 18, inciso i) - Tope m√°ximo de remuneraci√≥n sustituido por art. 4¬∞ del* [*Decreto N¬∞ 33/2007*](/normativa/nacional/decreto-33-2007-124530) *B.O. 24/1/2007. Vigencia: a partir del 1¬∫ de enero de 2007;*

*- Art√≠culo 18, √∫ltimo p√°rrafo - Tope m√°ximo de remuneraci√≥n sustituido por art. 3¬∞ del* [*Decreto N¬∞ 33/2007*](/normativa/nacional/decreto-33-2007-124530) *B.O. 24/1/2007. Vigencia: a partir del 1¬∫ de enero de 2007;*

- Art√≠culo 18, incisos a), b) y j) *montos de las asignaciones familiares incrementados en* un VEINTE POR CIENTO (20%)  por art. 6¬∞ del [Decreto N¬∞ 33/2007](/normativa/nacional/decreto-33-2007-124530) *B.O. 24/1/2007. Vigencia: a partir del 1¬∫ de enero de 2007;*

- Art√≠culo 18, incisos f), g) y h) *montos de las asignaciones familiares incrementados en* un CIENTO POR CIENTO (100%) por art. 7¬∞ del [Decreto N¬∞ 33/2007](/normativa/nacional/decreto-33-2007-124530) *B.O. 24/1/2007. Vigencia: a partir del 1¬∫ de enero de 2007;*

- Art√≠culo 18, inciso i) *monto de la asignacion familiar incrementado en* un CIENTO POR CIENTO (100%) por art. 8¬∞ del [Decreto N¬∞ 33/2007](/normativa/nacional/decreto-33-2007-124530) *B.O. 24/1/2007. Vigencia: a partir del 1¬∫ de enero de 2007;*

*- Art√≠culo 3, Topes m√°ximos de remuneraci√≥n, primer y segundo p√°rrafo sustituido por art. 1¬∞ del* [*Decreto N¬∞ 33/2007*](/normativa/nacional/decreto-33-2007-124530) *B.O. 24/1/2007. Vigencia: a partir del 1¬∫ de enero de 2007;*

*- Art√≠culo 3, Topes m√°ximos de remuneraci√≥n, primer y segundo p√°rrafo sustituido por art. 1¬∞ del* [*Decreto N¬∞ 1134/2005*](/normativa/nacional/decreto-1134-2005-109859) *B.O. 21/9/2005, a partir del 1¬∫ de septiembre de 2005;*

*- Art√≠culo 18, incisos a) y b) - Topes de remuneraci√≥n elevados por art. 2¬∞ del* [*Decreto N¬∞ 1134/2005*](/normativa/nacional/decreto-1134-2005-109859) *B.O. 21/9/2005, a partir del 1¬∞ de septiembre de 2005;*

*- Art√≠culo 18, incisos i), j.1) y j.2) - Topes de remuneraci√≥n elevados por arts. 4¬∞ y 5¬∞ del* [*Decreto N¬∞ 1134/2005*](/normativa/nacional/decreto-1134-2005-109859) *B.O. 21/9/2005, a partir del 1¬∞ de septiembre de 2005)*

*- Art√≠culo 18, √∫ltimo p√°rrafo: Tope de remuneraci√≥n elevado por art. 3¬∞ del* [*Decreto N¬∞ 1134/2005*](/normativa/nacional/decreto-1134-2005-109859) *B.O. 21/9/2005, a partir del 1¬∞ de septiembre de 2005)*

*- Art√≠culo 3, Topes m√°ximos de remuneraci√≥n, primer y segundo p√°rrafo, sustituidos por art. 2¬∞ del* [*Decreto N¬∞ 1691/2004*](/normativa/nacional/decreto-1691-2004-101568) *B.O. 2/12/004, a partir del 1¬∫ de octubre de 2004;*

*- Art√≠culo 18, incisos* a), b) y j) *montos de las asignaciones familiares incrementados en un Cincuenta por Ciento (50%) por art. 1¬∞ del* [*Decreto N¬∞ 1691/2004*](/normativa/nacional/decreto-1691-2004-101568) *B.O. 2/12/2004, a partir del 1¬∫ de octubre de 2004.*

*- Art√≠culo 18, inciso j) sustituido por art. 5¬∞ del* [*Decreto N¬∞ 1199/2004*](/normativa/nacional/decreto-1199-2004-98600) *B.O. 14/9/2004;*

*- Art√≠culo 18, inciso j), sustituido por art. 3¬∞ del* [*Decreto N¬∞ 368/2004*](/normativa/nacional/decreto-368-2004-93930) *B.O. 1/4/2004. Vigencia: a partir del 1¬∫ de marzo de 2004;*

*- Art√≠culo 18, inciso a) - Inciso sustituido por art. 3¬∞ del* [*Decreto N¬∞ 368/2004*](/normativa/nacional/decreto-368-2004-93930) *B.O. 1/4/2004. Vigencia: a partir del 1¬∫ de marzo de 2004;*

*- Art√≠culo 18, inciso b) sustituido por art. 3¬∞ del* [*Decreto N¬∞ 368/2004*](/normativa/nacional/decreto-368-2004-93930) *B.O. 1/4/2004. Vigencia: a partir del 1¬∫ de marzo de 2004*

*- Art√≠culo 18, inciso i) sustituido por art. 3¬∞ del* [*Decreto N¬∞ 368/2004*](/normativa/nacional/decreto-368-2004-93930) *B.O. 1/4/2004. Vigencia: a partir del 1¬∫ de marzo de 2004); - Art√≠culo 4¬∞, primer p√°rrafo modificado por art. 1¬∞ de la* [*Ley N¬∞ 25.231*](/normativa/nacional/ley-25231-1999-61779) *B.O. 31/12/1999.*

[Volver](/normativa/nacional/ley-24714-39880)

## Tr√°mites

- [Turnos](/turnos)
- [Tr√°mites a distancia](/innovacion/tramites-distancia-tad)
- [Atenci√≥n a la ciudadan√≠a](/miargentina/mesadeayuda)

## Acerca de la Rep√∫blica Argentina

- [Nuestro pa√≠s](/pais)
- [Leyes argentinas](/normativa)
- [Organismos](/organismos)
- [Mapa del Estado](/desregulacion/mapa-del-estado)

## Acerca de Argentina.gob.ar

- [Acerca de este sitio](/acerca)
- [T√©rminos y condiciones](/terminos-y-condiciones)
- [Sugerencias](/sugerencias)

Scroll hacia arriba
```

### [FILE] front\App.tsx
```tsx

import React, { useState, useCallback, useEffect } from 'react';
import { Sidebar } from './components/Sidebar';
import { ChatArea } from './components/ChatArea';
import { ChatMessage, MessageRole } from './types';
import { sendChatMessage } from './services/geminiService';

const App: React.FC = () => {
  const [messages, setMessages] = useState<ChatMessage[]>([
    {
      id: '1',
      role: MessageRole.BOT,
      text: 'Hola. Soy tu asistente legal especializado en seguridad social de exdata. ¬øEn qu√© puedo ayudarte hoy?',
      timestamp: new Date(),
    }
  ]);
  const [isSidebarOpen, setIsSidebarOpen] = useState(false);
  const [isLoading, setIsLoading] = useState(false);
  const [sessionId, setSessionId] = useState<string | undefined>(undefined);

  // Generate a session ID on first mount
  useEffect(() => {
    // Use a simple timestamp-based session ID
    const newSessionId = `session_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`;
    setSessionId(newSessionId);
  }, []);

  const handleSendMessage = useCallback(async (text: string) => {
    const userMessage: ChatMessage = {
      id: Date.now().toString(),
      role: MessageRole.USER,
      text,
      timestamp: new Date(),
    };

    setMessages(prev => [...prev, userMessage]);
    setIsLoading(true);

    try {
      // Call the real backend API
      const response = await sendChatMessage(text, sessionId);

      // Update session ID from backend response
      if (response.session_id && !sessionId) {
        setSessionId(response.session_id);
      }

      const botMessage: ChatMessage = {
        id: (Date.now() + 1).toString(),
        role: MessageRole.BOT,
        text: response.answer,
        timestamp: new Date(),
        lawDocument: response.law_document,
        confidenceScore: response.confidence_score,
        cacheUsed: response.cache_used,
        cacheId: response.cache_id,
        responseTimeMs: response.response_time_ms,
      };

      setMessages(prev => [...prev, botMessage]);
    } catch (error) {
      console.error("Error generating response:", error);

      // Provide more specific error messages
      let errorText = 'Lo siento, hubo un error al procesar tu solicitud.';

      if (error instanceof Error) {
        if (error.message.includes('fetch')) {
          errorText = '‚ö†Ô∏è No se pudo conectar con el servidor. Aseg√∫rate de que el backend est√© corriendo en http://localhost:8000';
        } else {
          errorText = `‚ö†Ô∏è Error: ${error.message}`;
        }
      }

      const errorMessage: ChatMessage = {
        id: (Date.now() + 1).toString(),
        role: MessageRole.BOT,
        text: errorText,
        timestamp: new Date(),
      };
      setMessages(prev => [...prev, errorMessage]);
    } finally {
      setIsLoading(false);
    }
  }, [sessionId]);

  return (
    <div className="flex h-screen overflow-hidden bg-slate-50 text-slate-900">
      <Sidebar
        isOpen={isSidebarOpen}
        toggle={() => setIsSidebarOpen(!isSidebarOpen)}
      />

      <main className="flex-1 flex flex-col relative">
        <header className="h-16 border-b border-slate-200 bg-white flex items-center justify-between px-6 shrink-0 shadow-sm z-10">
          <div className="flex items-center gap-4">
            <button
              onClick={() => setIsSidebarOpen(!isSidebarOpen)}
              className="p-2 hover:bg-slate-100 rounded-lg transition-colors"
            >
              <svg className="w-6 h-6 text-brand-navy" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M4 6h16M4 12h16m-7 6h7" />
              </svg>
            </button>
            <div className="flex items-center gap-2">
              <span className="text-xl font-bold tracking-tight text-brand-navy">Legal<span className="text-brand-green text-2xl leading-none">AI</span></span>
            </div>
          </div>
          <div className="flex items-center gap-3">
            <div className="flex flex-col items-end">
              <span className="text-[10px] font-bold text-slate-400 uppercase tracking-widest">Powered by</span>
              <span className="text-sm font-black text-brand-green tracking-tighter">exdata</span>
            </div>
          </div>
        </header>

        <ChatArea
          messages={messages}
          onSendMessage={handleSendMessage}
          isLoading={isLoading}
        />
      </main>
    </div>
  );
};

export default App;

```

### [FILE] front\index.html
```html

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Social Security Assistant | exdata</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <script>
      tailwind.config = {
        theme: {
          extend: {
            colors: {
              brand: {
                navy: '#002B5B',
                green: '#10B981',
                light: '#ECFDF5',
                blue: '#2563EB',
              }
            }
          }
        }
      }
    </script>
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f8fafc;
        }
        /* Custom scrollbar */
        ::-webkit-scrollbar {
            width: 6px;
        }
        ::-webkit-scrollbar-track {
            background: transparent;
        }
        ::-webkit-scrollbar-thumb {
            background: #cbd5e1;
            border-radius: 10px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #94a3b8;
        }
        .exdata-gradient {
          background: linear-gradient(135deg, #002B5B 0%, #10B981 100%);
        }
        .exdata-text-gradient {
          background: linear-gradient(135deg, #002B5B 0%, #10B981 100%);
          -webkit-background-clip: text;
          -webkit-text-fill-color: transparent;
        }
    </style>
<script type="importmap">
{
  "imports": {
    "react": "https://esm.sh/react@^19.2.3",
    "react/": "https://esm.sh/react@^19.2.3/",
    "react-dom/": "https://esm.sh/react-dom@^19.2.3/",
    "@google/genai": "https://esm.sh/@google/genai@^1.34.0"
  }
}
</script>
<link rel="stylesheet" href="/index.css">
</head>
<body>
    <div id="root"></div>
<script type="module" src="/index.tsx"></script>
</body>
</html>

```

### [FILE] front\index.tsx
```tsx

import React from 'react';
import ReactDOM from 'react-dom/client';
import App from './App';

const rootElement = document.getElementById('root');
if (!rootElement) {
  throw new Error("Could not find root element to mount to");
}

const root = ReactDOM.createRoot(rootElement);
root.render(
  <React.StrictMode>
    <App />
  </React.StrictMode>
);

```

### [FILE] front\metadata.json
```json
{
  "name": "Social Security Legal Assistant",
  "description": "A professional RAG-powered interface for navigating social security laws, featuring document management and intelligent chat based on legal sources.",
  "requestFramePermissions": []
}
```

### [FILE] front\package.json
```json
{
  "name": "social-security-legal-assistant",
  "private": true,
  "version": "0.0.0",
  "type": "module",
  "scripts": {
    "dev": "vite",
    "build": "vite build",
    "preview": "vite preview"
  },
  "dependencies": {
    "react": "^19.2.3",
    "react-dom": "^19.2.3",
    "@google/genai": "^1.34.0"
  },
  "devDependencies": {
    "@types/node": "^22.14.0",
    "@vitejs/plugin-react": "^5.0.0",
    "typescript": "~5.8.2",
    "vite": "^6.2.0"
  }
}

```

### [FILE] front\README.md
```md
<div align="center">
<img width="1200" height="475" alt="GHBanner" src="https://github.com/user-attachments/assets/0aa67016-6eaf-458a-adb2-6e31a0763ed6" />
</div>

# Run and deploy your AI Studio app


## Run Locally

**Prerequisites:**  Node.js


1. Install dependencies:
   `npm install`
2. Set the `GEMINI_API_KEY` in [.env.local](.env.local) to your Gemini API key
3. Run the app:
   `npm run dev`

```

### [FILE] front\tsconfig.json
```json
{
  "compilerOptions": {
    "target": "ES2022",
    "experimentalDecorators": true,
    "useDefineForClassFields": false,
    "module": "ESNext",
    "lib": [
      "ES2022",
      "DOM",
      "DOM.Iterable"
    ],
    "skipLibCheck": true,
    "types": [
      "node"
    ],
    "moduleResolution": "bundler",
    "isolatedModules": true,
    "moduleDetection": "force",
    "allowJs": true,
    "jsx": "react-jsx",
    "paths": {
      "@/*": [
        "./*"
      ]
    },
    "allowImportingTsExtensions": true,
    "noEmit": true
  }
}
```

### [FILE] front\types.ts
```ts

export enum MessageRole {
  USER = 'user',
  BOT = 'bot'
}

export interface Source {
  id: string;
  title: string;
  content: string;
  type: 'pdf' | 'text' | 'law';
  uploadDate: Date;
}

export interface LawDocument {
  id: string;
  titulo: string;
  url: string;
  summary?: string;
  metadata: Record<string, any>;
}

export interface ChatMessage {
  id: string;
  role: MessageRole;
  text: string;
  timestamp: Date;
  sources?: string[]; // IDs of sources cited
  // Backend response metadata
  lawDocument?: LawDocument;
  confidenceScore?: number;
  cacheUsed?: boolean;
  cacheId?: string;
  responseTimeMs?: number;
}

export interface ChatSession {
  id: string;
  title: string;
  messages: ChatMessage[];
  createdAt: Date;
}

```

### [FILE] front\vite.config.ts
```ts
import path from 'path';
import { defineConfig, loadEnv } from 'vite';
import react from '@vitejs/plugin-react';

export default defineConfig(({ mode }) => {
    const env = loadEnv(mode, '.', '');
    return {
      server: {
        port: 3000,
        host: '0.0.0.0',
      },
      plugins: [react()],
      define: {
        'process.env.API_KEY': JSON.stringify(env.GEMINI_API_KEY),
        'process.env.GEMINI_API_KEY': JSON.stringify(env.GEMINI_API_KEY)
      },
      resolve: {
        alias: {
          '@': path.resolve(__dirname, '.'),
        }
      }
    };
});

```

### [FILE] front\components\ChatArea.tsx
```tsx

import React, { useState, useRef, useEffect } from 'react';
import { ChatMessage, MessageRole } from '../types';

interface ChatAreaProps {
  messages: ChatMessage[];
  onSendMessage: (text: string) => void;
  isLoading: boolean;
}

export const ChatArea: React.FC<ChatAreaProps> = ({ messages, onSendMessage, isLoading }) => {
  const [inputText, setInputText] = useState('');
  const scrollRef = useRef<HTMLDivElement>(null);

  useEffect(() => {
    if (scrollRef.current) {
      scrollRef.current.scrollTop = scrollRef.current.scrollHeight;
    }
  }, [messages, isLoading]);

  const handleSubmit = (e: React.FormEvent) => {
    e.preventDefault();
    if (inputText.trim() && !isLoading) {
      onSendMessage(inputText.trim());
      setInputText('');
    }
  };

  return (
    <div className="flex-1 flex flex-col h-full min-h-0 bg-slate-50">
      <div
        ref={scrollRef}
        className="flex-1 overflow-y-auto px-4 py-8 md:px-12 space-y-8"
      >
        <div className="max-w-3xl mx-auto space-y-10">
          {messages.map((message) => (
            <div
              key={message.id}
              className={`flex ${message.role === MessageRole.USER ? 'justify-end' : 'justify-start'}`}
            >
              <div className={`max-w-[85%]`}>

                <div className={`space-y-2 ${message.role === MessageRole.USER ? 'text-right' : 'text-left'}`}>
                  <div className={`px-6 py-4 rounded-2xl shadow-sm border ${message.role === MessageRole.USER
                    ? 'bg-brand-navy text-white border-brand-navy rounded-tr-none'
                    : 'bg-white border-slate-200 text-slate-800 rounded-tl-none'
                    }`}>
                    <p className="text-[15px] leading-relaxed whitespace-pre-wrap">{message.text}</p>
                  </div>



                  <p className="text-[9px] text-slate-400 uppercase font-black tracking-widest">
                    {message.role === MessageRole.USER ? 'T√∫' : 'Asistente exdata'} ‚Ä¢ {message.timestamp.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })}
                  </p>
                </div>
              </div>
            </div>
          ))}

          {isLoading && (
            <div className="flex justify-start">
              <div className="bg-white border border-slate-200 px-6 py-4 rounded-2xl rounded-tl-none shadow-sm flex items-center gap-2">
                <div className="w-1.5 h-1.5 bg-brand-green rounded-full animate-bounce"></div>
                <div className="w-1.5 h-1.5 bg-brand-green rounded-full animate-bounce [animation-delay:0.2s]"></div>
                <div className="w-1.5 h-1.5 bg-brand-green rounded-full animate-bounce [animation-delay:0.4s]"></div>
              </div>
            </div>
          )}
        </div>
      </div>

      <div className="p-4 md:p-8 bg-white border-t border-slate-200 sticky bottom-0">
        <form onSubmit={handleSubmit} className="max-w-4xl mx-auto flex items-end gap-3 mb-4">
          <div className="flex-1 relative group">
            <textarea
              value={inputText}
              onChange={(e) => setInputText(e.target.value)}
              onKeyDown={(e) => {
                if (e.key === 'Enter' && !e.shiftKey) {
                  e.preventDefault();
                  handleSubmit(e);
                }
              }}
              placeholder="Escribe tu consulta legal aqu√≠..."
              className="w-full bg-slate-50 border border-slate-200 rounded-2xl px-6 py-4 pr-12 focus:outline-none focus:ring-2 focus:ring-brand-green/20 focus:border-brand-green transition-all resize-none max-h-40 min-h-[58px]"
              rows={1}
            />
            <div className="absolute right-4 bottom-4 text-slate-400 group-focus-within:text-brand-green transition-colors">
              <svg className="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M12 19l9 2-9-18-9 18 9-2zm0 0v-8" />
              </svg>
            </div>
          </div>
          <button
            type="submit"
            disabled={!inputText.trim() || isLoading}
            className={`p-4 rounded-2xl transition-all shadow-lg active:scale-95 ${inputText.trim() && !isLoading
              ? 'exdata-gradient text-white hover:brightness-110 shadow-brand-green/20'
              : 'bg-slate-100 text-slate-300 cursor-not-allowed'
              }`}
          >
            <svg className="w-6 h-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z" />
            </svg>
          </button>
        </form>
        <div className="flex flex-col items-center justify-center gap-1 opacity-60">
          <p className="text-[10px] text-slate-400 uppercase tracking-widest font-black">
            Powered by <span className="text-brand-green">exdata</span>
          </p>
          <p className="text-[8px] text-slate-400 font-medium">
            ¬© {new Date().getFullYear()} EXDATA S.A. Todos los derechos reservados.
          </p>
        </div>
      </div>
    </div>
  );
};

```

### [FILE] front\components\Sidebar.tsx
```tsx

import React, { useEffect, useState } from 'react';
import { getDocuments, checkHealth } from '../services/geminiService';

interface SidebarProps {
  isOpen: boolean;
  toggle: () => void;
}

interface Document {
  id: string;
  titulo: string;
  url: string;
  summary?: string;
  categoria?: string;
}

export const Sidebar: React.FC<SidebarProps> = ({ isOpen, toggle }) => {
  const [documents, setDocuments] = useState<Document[]>([]);
  const [isLoadingDocs, setIsLoadingDocs] = useState(false);
  const [isBackendHealthy, setIsBackendHealthy] = useState<boolean | null>(null);

  useEffect(() => {
    if (isOpen) {
      loadDocuments();
      checkBackendHealth();
    }
  }, [isOpen]);

  const loadDocuments = async () => {
    setIsLoadingDocs(true);
    try {
      const response = await getDocuments();
      setDocuments(response.documents);
    } catch (error) {
      console.error('Error loading documents:', error);
      setDocuments([]);
    } finally {
      setIsLoadingDocs(false);
    }
  };

  const checkBackendHealth = async () => {
    try {
      await checkHealth();
      setIsBackendHealthy(true);
    } catch (error) {
      setIsBackendHealthy(false);
    }
  };

  return (
    <aside className={`${isOpen ? 'w-80' : 'w-0'} bg-brand-navy border-r border-slate-800 flex flex-col h-full transition-all duration-300 overflow-hidden z-20 shadow-2xl`}>
      <div className="p-6 flex items-center justify-between border-b border-white/10 shrink-0">
        <div className="flex items-center gap-2">
          <div className="w-8 h-8 bg-brand-green rounded flex items-center justify-center">
            <svg className="w-5 h-5 text-brand-navy" fill="currentColor" viewBox="0 0 24 24">
              <path d="M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm2 16H8v-2h8v2zm0-4H8v-2h8v2zm-3-5V3.5L18.5 9H13z" />
            </svg>
          </div>
          <span className="font-bold text-lg tracking-tight text-white">exdata</span>
        </div>
        <button onClick={toggle} className="p-2 text-white/40 hover:text-white rounded-md hover:bg-white/5">
          <svg className="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M11 19l-7-7 7-7m8 14l-7-7 7-7" />
          </svg>
        </button>
      </div>

      <div className="flex-1 overflow-y-auto p-6 space-y-8">
        <div>
          <h3 className="text-xs font-semibold text-brand-green uppercase tracking-widest mb-4">Misi√≥n</h3>
          <p className="text-sm text-slate-300 leading-relaxed italic">
            "Transformamos la complejidad legal en respuestas claras para una seguridad social justa."
          </p>
        </div>

        {/* Backend Status */}
        <div className="flex items-center gap-2 text-xs">
          <div className={`w-2 h-2 rounded-full ${isBackendHealthy ? 'bg-green-400' : isBackendHealthy === false ? 'bg-red-400' : 'bg-yellow-400'}`} />
          <span className="text-slate-400">
            {isBackendHealthy ? 'Conectado' : isBackendHealthy === false ? 'Desconectado' : 'Verificando...'}
          </span>
        </div>

        {/* Documents Section */}
        <div>
          <h3 className="text-xs font-semibold text-slate-500 uppercase tracking-widest mb-4">
            Documentos Indexados ({documents.length})
          </h3>
          {isLoadingDocs ? (
            <div className="text-slate-400 text-sm">Cargando...</div>
          ) : documents.length > 0 ? (
            <ul className="space-y-3 max-h-64 overflow-y-auto">
              {documents.map((doc) => (
                <li
                  key={doc.id}
                  className="text-slate-300 text-xs hover:text-brand-green cursor-pointer transition-colors group p-2 rounded hover:bg-white/5"
                  title={doc.summary || doc.titulo}
                >
                  <div className="font-medium truncate">{doc.titulo}</div>
                  {doc.categoria && (
                    <div className="text-[10px] text-slate-500 mt-1">{doc.categoria}</div>
                  )}
                </li>
              ))}
            </ul>
          ) : (
            <div className="text-slate-400 text-xs">No hay documentos indexados</div>
          )}
        </div>

        <div>
          <h3 className="text-xs font-semibold text-slate-500 uppercase tracking-widest mb-4">Configuraci√≥n</h3>
          <ul className="space-y-4">
            <li className="flex items-center gap-3 text-slate-300 text-sm hover:text-brand-green cursor-pointer transition-colors group">
              <svg className="w-4 h-4 group-hover:text-brand-green" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z" />
              </svg>
              Nueva Conversaci√≥n
            </li>
            <li className="flex items-center gap-3 text-slate-300 text-sm hover:text-brand-green cursor-pointer transition-colors group">
              <svg className="w-4 h-4 group-hover:text-brand-green" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 00-2 2zm10-10V7a4 4 0 00-8 0v4h8z" />
              </svg>
              Historial Privado
            </li>
          </ul>
        </div>
      </div>

      <div className="p-6 border-t border-white/10">
        <div className="flex items-center gap-3">
          <div className="w-10 h-10 rounded-full bg-slate-800 border border-slate-700 flex items-center justify-center text-white font-bold">
            EX
          </div>
          <div>
            <p className="text-xs font-bold text-white uppercase tracking-tight">Usuario Pro</p>
            <p className="text-[10px] text-slate-500">plan@exdata.com.ar</p>
          </div>
        </div>
      </div>
    </aside>
  );
};

```

### [FILE] front\services\geminiService.ts
```ts
/**
 * Backend API Service
 * 
 * This service communicates with the FastAPI backend instead of using Gemini directly.
 * All AI processing, RAG, and context caching happens on the Python backend.
 */

const API_BASE_URL = import.meta.env.VITE_API_URL || 'http://localhost:8000/api/v1';

export interface ChatRequest {
  query: string;
  session_id?: string;
}

export interface LawDocument {
  id: string;
  titulo: string;
  url: string;
  summary?: string;
  metadata: Record<string, any>;
}

export interface ChatResponse {
  answer: string;
  law_document: LawDocument;
  confidence_score: number;
  cache_used: boolean;
  cache_id?: string;
  response_time_ms: number;
  session_id: string;
}

export interface DocumentListResponse {
  documents: Array<{
    id: string;
    titulo: string;
    url: string;
    summary?: string;
    categoria?: string;
  }>;
  total: number;
}

/**
 * Send a chat message to the backend RAG system
 */
export const sendChatMessage = async (
  query: string,
  sessionId?: string
): Promise<ChatResponse> => {
  const response = await fetch(`${API_BASE_URL}/chat`, {
    method: 'POST',
    headers: {
      'Content-Type': 'application/json',
    },
    body: JSON.stringify({
      query,
      session_id: sessionId,
    }),
  });

  if (!response.ok) {
    const error = await response.json().catch(() => ({ message: 'Unknown error' }));
    throw new Error(error.message || `HTTP ${response.status}: ${response.statusText}`);
  }

  return response.json();
};

/**
 * Get list of all indexed documents
 */
export const getDocuments = async (): Promise<DocumentListResponse> => {
  const response = await fetch(`${API_BASE_URL}/documents`);

  if (!response.ok) {
    throw new Error(`HTTP ${response.status}: ${response.statusText}`);
  }

  return response.json();
};

/**
 * Get details of a specific document
 */
export const getDocumentById = async (lawId: string): Promise<LawDocument> => {
  const response = await fetch(`${API_BASE_URL}/documents/${lawId}`);

  if (!response.ok) {
    throw new Error(`HTTP ${response.status}: ${response.statusText}`);
  }

  return response.json();
};

/**
 * Check backend health status
 */
export const checkHealth = async (): Promise<{
  status: string;
  version: string;
  services: Record<string, string>;
}> => {
  const response = await fetch('http://localhost:8000/health');

  if (!response.ok) {
    throw new Error('Backend is not healthy');
  }

  return response.json();
};
```

### [FILE] front\services\pythonApi.ts
```ts

/**
 * Este archivo sirve como gu√≠a para integrar tu aplicaci√≥n React con tu backend en Python.
 * Dado que usas Arquitectura Hexagonal, probablemente tengas endpoints REST (FastAPI/Flask).
 */

const API_BASE_URL = 'http://localhost:8000/api/v1'; // Ajusta a tu puerto de Python

export const pythonApi = {
  // Enviar mensaje al modelo RAG en Python
  chat: async (query: string, session_id?: string) => {
    const response = await fetch(`${API_BASE_URL}/chat`, {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({ query, session_id }),
    });
    return response.json();
  },

  // Subir documento al sistema de vectores
  uploadDocument: async (file: File) => {
    const formData = new FormData();
    formData.append('file', file);
    
    const response = await fetch(`${API_BASE_URL}/documents/upload`, {
      method: 'POST',
      body: formData,
    });
    return response.json();
  },

  // Obtener documentos indexados
  getDocuments: async () => {
    const response = await fetch(`${API_BASE_URL}/documents`);
    return response.json();
  }
};

```

### [FILE] rag_app\.env.example
```example
# ==========================================
# üîê CREDENCIALES (OBLIGATORIO)
# ==========================================
# Tu API Key personal de Google Gemini.
# El script bootstrap_env.py llenar√° esto autom√°ticamente.
GEMINI_API_KEY=

# ==========================================
# ‚öôÔ∏è CONFIGURACI√ìN DEL SERVIDOR (Uvicorn)
# ==========================================
# IP: 0.0.0.0 para exponer a red local / Docker, 127.0.0.1 para solo local.
HOST=0.0.0.0
PORT=8000
LOG_LEVEL=INFO

# ==========================================
# üß† RAG & MODELOS (Opcional - Defaults)
# ==========================================
# Rutas de almacenamiento
# BASE_DIR=/path/to/project
# PROCESSED_DOCS_PATH=/path/to/processed/docs
CHROMA_DB_PATH=chroma_db

# Configuraci√≥n de Modelos (Descomentar para forzar versiones espec√≠ficas)
# EMBEDDING_MODEL=models/text-embedding-004
# LLM_MODEL=models/gemini-1.5-pro

# Ajustes de Cach√© y Recuperaci√≥n
# CACHE_TTL_MINUTES=60
# TOP_K_RESULTS=3

```

### [FILE] rag_app\api_main.py
```py
"""FastAPI application entry point for Legal RAG API.

This module creates and configures the FastAPI application with:
- CORS middleware for frontend communication
- API routers for all endpoints
- Dependency injection for services
- Error handling and logging
"""
import logging
import sys
from pathlib import Path
from fastapi import FastAPI
from fastapi.middleware.cors import CORSMiddleware
from fastapi.responses import JSONResponse
from fastapi import Request
from contextlib import asynccontextmanager

# Add parent directory to path (same as main.py)
sys.path.insert(0, str(Path(__file__).parent.parent))

from rag_app.config.settings import settings
from rag_app.utils.logger import configure_logging
from rag_app.adapters.embedders.gemini_embedder import GeminiEmbedder
from rag_app.adapters.stores.chroma_adapter import ChromaAdapter
from rag_app.adapters.contextualizers.gemini_manager import GeminiCacheManager
from rag_app.services.retrieval_service import RetrievalService
from rag_app.services.ingestion_service import IngestionService
from rag_app.adapters.http.api_adapter import APIAdapter
from rag_app.adapters.http.session_manager import SessionManager

# Configure logging
configure_logging(level=logging.INFO)
logger = logging.getLogger(__name__)


# Global service instances (initialized during startup)
api_adapter: APIAdapter = None


@asynccontextmanager
async def lifespan(app: FastAPI):
    """
    Lifespan context manager for startup and shutdown events.
    
    Initializes services on startup and cleans up on shutdown.
    """
    global api_adapter
    
    # Startup
    logger.info("Starting Legal RAG API...")
    logger.info(f"Environment: {settings.api_title} v{settings.api_version}")
    
    try:
        # Initialize services with dependency injection
        logger.info("Initializing services...")
        embedder = GeminiEmbedder()
        vector_store = ChromaAdapter()
        contextualizer = GeminiCacheManager()
        
        # Create application services
        retrieval_service = RetrievalService(
            embedder=embedder,
            vector_store=vector_store,
            contextualizer=contextualizer
        )
        
        # IngestionService is optional - document upload is a placeholder for now
        # In production, you'd initialize with a document_processor adapter
        ingestion_service = None  # Will be implemented when upload is fully functional
        
        session_manager = SessionManager(session_timeout_minutes=30)
        
        # Create API adapter
        api_adapter = APIAdapter(
            retrieval_service=retrieval_service,
            ingestion_service=ingestion_service,
            session_manager=session_manager
        )
        
        # Register routes immediately after adapter creation
        # Health check at root level (no prefix)
        app.include_router(
            api_adapter.router,
            prefix="", 
            tags=["Health"]
        )
        
        # API v1 routes with prefix
        app.include_router(
            api_adapter.router,
            prefix=settings.api_prefix,
            tags=["API v1"]
        )
        
        logger.info("‚úÖ All services initialized successfully")
        logger.info(f"üìä Indexed documents: {vector_store.count_documents()}")
        logger.info(f"üåê Server ready at http://{settings.api_host}:{settings.api_port}")
        logger.info(f"üìñ API docs at http://{settings.api_host}:{settings.api_port}/docs")
    
    except Exception as e:
        logger.error(f"‚ùå Failed to initialize services: {e}", exc_info=True)
        raise
    
    yield
    
    # Shutdown
    logger.info("Shutting down Legal RAG API...")


# Create FastAPI application
app = FastAPI(
    title=settings.api_title,
    version=settings.api_version,
    description="""
    **Legal RAG API** for querying Argentine Social Security Laws.
    
    ## Features
    - ü§ñ AI-powered legal question answering
    - üíæ Context caching for fast responses
    - üìö Document-level retrieval (full law context)
    - üí¨ Conversational sessions with history
    
    ## Architecture
    Built with Hexagonal Architecture (Ports & Adapters) using:
    - Google Gemini API (Context Caching)
    - ChromaDB (Vector Store)
    - IBM Docling (Document Processing)
    """,
    lifespan=lifespan,
    docs_url="/docs",
    redoc_url="/redoc"
)


# Configure CORS
app.add_middleware(
    CORSMiddleware,
    allow_origins=settings.api_cors_origins,
    allow_credentials=True,
    allow_methods=["*"],
    allow_headers=["*"],
)


# Exception handlers
@app.exception_handler(Exception)
async def global_exception_handler(request: Request, exc: Exception):
    """Global exception handler for unhandled errors."""
    logger.error(f"Unhandled exception: {exc}", exc_info=True)
    return JSONResponse(
        status_code=500,
        content={
            "error": "InternalServerError",
            "message": "An unexpected error occurred",
            "details": {"type": type(exc).__name__}
        }
    )


# Root endpoint
@app.get("/", tags=["Root"])
async def root():
    """Root endpoint with API information."""
    return {
        "name": settings.api_title,
        "version": settings.api_version,
        "status": "running",
        "docs": "/docs",
        "health": "/health"
    }


if __name__ == "__main__":
    import uvicorn
    
    logger.info(f"Starting server on {settings.api_host}:{settings.api_port}")
    uvicorn.run(
        "api_main:app",
        host=settings.api_host,
        port=settings.api_port,
        reload=True,
        log_level="info"
    )

```

### [FILE] rag_app\pyproject.toml
```toml
[project]
name = "rag-app"
version = "0.1.0"
description = "Add your description here"
readme = "README.md"
requires-python = ">=3.13"
dependencies = [
    "black>=25.11.0",
    "chromadb>=1.3.2",
    "docling>=2.58.0",
    "fastapi>=0.109.0",
    "flake8>=7.3.0",
    "google-generativeai>=0.8.5",
    "numpy>=2.3.4",
    "pandas>=2.3.3",
    "pathlib2>=2.3.7.post1",
    "pydantic>=2.12.3",
    "pydantic-settings>=2.11.0",
    "pytest>=9.0.2",
    "pytest-asyncio>=1.3.0",
    "python-dotenv>=1.2.1",
    "python-multipart>=0.0.6",
    "requests>=2.32.5",
    "uvicorn[standard]>=0.27.0",
]

```

### [FILE] rag_app\QUICKSTART.md
```md
# Quick Start - Bot Seguridad Social

Gu√≠a r√°pida para poner en marcha el sistema RAG con FastAPI + React.

## üöÄ Paso a Paso R√°pido

### 1. Configurar API Key

```bash
# Crear archivo .env en rag_app/
cd rag_app
echo "GEMINI_API_KEY=tu_api_key_aqui" > .env
```

### 2. Instalar Dependencias con uv

```bash
# uv instalar√° autom√°ticamente desde pyproject.toml
uv sync
```

O si prefer√≠s pip tradicional:
```bash
pip install -r requirements.txt
```

### 3. Ejecutar Setup con Anses1.md

```bash
# Desde el root del proyecto
cd ..
python -m rag_app.scripts.setup_from_md
```

Este script:
- ‚úÖ Lee `rag_app/Anses1.md` (o `Documentos_Anses/Anses1.md`)
- ‚úÖ Lo copia a `data/processed/`
- ‚úÖ Genera embedding con Gemini
- ‚úÖ Lo indexa en ChromaDB

### 4. Correr el Backend (FastAPI)

```bash
cd rag_app
python api_main.py
```

El backend estar√° disponible en:
- API: http://localhost:8000
- Documentaci√≥n: http://localhost:8000/docs

### 5. Correr el Frontend (React)

En otra terminal:

```bash
cd front
npm install
npm run dev
```

El frontend estar√° disponible en http://localhost:5173

## üìù Consultas de Ejemplo

Una vez en la aplicaci√≥n web, pod√©s hacer preguntas como:
- "¬øCu√°les son los requisitos para la jubilaci√≥n?"
- "Explicame el sistema de seguridad social"
- "¬øQu√© documentaci√≥n necesito para tramitar la jubilaci√≥n?"

## üîß Troubleshooting

### Error: "Could not find Anses1.md"
El script busca en dos ubicaciones:
- `rag_app/Anses1.md`
- `Documentos_Anses/Anses1.md`

Asegurate que el archivo est√© en alguna de estas ubicaciones.

### Error: "GEMINI_API_KEY not found"
Verific√° que el archivo `.env` existe en `rag_app/` con tu API key.

### Error: "Port 8000 already in use"
Mat√° el proceso que est√° usando el puerto:
```bash
lsof -ti:8000 | xargs kill -9
```

## üí° Cuando las URLs vuelvan

Cuando las p√°ginas del gobierno est√©n disponibles nuevamente, pod√©s usar el script original:

```bash
python -m rag_app.scripts.setup_db
```

Este procesar√° las URLs configuradas en `config/leyes_config.json`.

```

### [FILE] rag_app\README.md
```md

```

### [FILE] rag_app\requirements.txt
```txt
# Core AI/ML Libraries
google-generativeai>=0.3.0
docling>=1.0.0
chromadb>=0.4.0

# API Framework
fastapi>=0.109.0
uvicorn[standard]>=0.27.0
python-multipart>=0.0.6

# Data Processing
numpy>=1.24.0
pandas>=2.0.0

# Configuration & Environment
python-dotenv>=1.0.0
pydantic>=2.0.0
pydantic-settings>=2.0.0

# Utilities
pathlib2>=2.3.7
requests>=2.31.0

# Testing
pytest>=7.4.0
pytest-asyncio>=0.21.0

# Development Tools
black>=23.0.0
flake8>=6.0.0

```

### [FILE] rag_app\__init__.py
```py

```

### [FILE] rag_app\adapters\__init__.py
```py

```

### [FILE] rag_app\adapters\chunkers\docling_adapter.py
```py
from docling.document_converter import DocumentConverter
from pathlib import Path
from typing import Tuple
import logging

from rag_app.config.settings import settings

logger = logging.getLogger(__name__)


class DoclingAdapter:
    """Adapter for processing legal documents using Docling."""
    
    def __init__(self):
        """Initialize the Docling document converter."""
        self.converter = DocumentConverter()
        self.output_dir = Path(settings.processed_docs_path)
        self.output_dir.mkdir(parents=True, exist_ok=True)
    
    def process_url(self, url: str, law_id: str) -> Tuple[str, str]:
        """
        Process a law URL and convert to markdown.
        
        Args:
            url: URL of the legal document
            law_id: Unique identifier for the law
            
        Returns:
            Tuple of (file_path, markdown_content)
        """
        try:
            logger.info(f"Processing URL for law {law_id}: {url}")
            
            # Convert document using Docling
            result = self.converter.convert(url).document
            
            # Export to markdown
            markdown_content = result.export_to_markdown()
            
            # Save to file
            file_path = self.output_dir / f"{law_id}.md"
            file_path.write_text(markdown_content, encoding='utf-8')
            
            logger.info(f"Successfully processed {law_id} -> {file_path}")
            return str(file_path), markdown_content
            
        except Exception as e:
            logger.error(f"Error processing {law_id} from {url}: {e}")
            raise

```

### [FILE] rag_app\adapters\chunkers\hybrid_chunker.py
```py
from docling.document_converter import DocumentConverter, InputFormat
from docling.chunking import HybridChunker
from pathlib import Path
from rag_app.ports.chunker import ChunkerPort
from rag_app.domain.models import Chunk, Law
from typing import Protocol, List, Dict, Optional
import json

class Hybrid_chunker(ChunkerPort):

    Converter = DocumentConverter()
 
    def __init__(self):
        pass    

    """ESTE M√âTODO NO ES PARTE DEL PROTOCOLO, ES SOLO DE UTILIDAD PARA TESTEO
    LO PODEMOS SACAR DESPU√âS"""
    def converter_document_md(self, url: str):
        result = self.Converter.convert(url).document
        result_md = result.export_to_markdown()
        return result_md
    
    def chunk_law(self, law: Law, tokenizer="sentence-transformers/all-MiniLM-L6-v2", max_tokens = 500) -> List[Chunk]:
        result = self.Converter.convert(law.url).document
        chunker = HybridChunker(
            heading_as_metadata=False,  # Los headings se incluyen en el chunk
            tokenizer= tokenizer, # que tokenizer usar
            max_tokens= max_tokens # M√°ximo tokens por chunk
        )

        chunks = list(chunker.chunk(dl_doc=result))

        chunk_con_metadata = [] 
        for i,chunk in enumerate(chunks):
            chunk_completos = Chunk(
                id=f"ley_{law.numero}_chunk_{i}",
                text=chunk.text,
                contextualized_text=None,
                metadata={
                    'ley_numero': law.numero,
                    'ley_nombre': law.nombre,
                    'ley_url': law.url,
                    'ley_a√±o': law.a√±o
                },
                law=law
            )
            chunk_con_metadata.append(chunk_completos)
        return chunk_con_metadata





```

### [FILE] rag_app\adapters\chunkers\__init__.py
```py

```

### [FILE] rag_app\adapters\contextualizers\gemini_manager.py
```py
import google.generativeai as genai
from google.generativeai import caching
from typing import List, Optional
from datetime import datetime, timedelta
from pathlib import Path
import logging

from rag_app.domain.models import LawDocument, CacheSession
from rag_app.config.settings import settings

logger = logging.getLogger(__name__)


class GeminiCacheManager:
    """Adapter for managing Gemini API context caching with Free Tier fallback."""
    
    def __init__(self, api_key: str = None):
        """
        Initialize the Gemini cache manager.
        
        Args:
            api_key: Gemini API key (defaults to settings)
        """
        api_key = api_key or settings.gemini_api_key
        genai.configure(api_key=api_key)
        self.model_name = settings.llm_model
        self.cache_ttl_minutes = settings.cache_ttl_minutes
        self.caching_available = True  # Flag to track if caching is available
        logger.info(f"Initialized GeminiCacheManager with model: {self.model_name}")
    
    def get_or_create_cache(self, law_doc: LawDocument) -> CacheSession:
        """
        Get existing cache or create new one for a law document.
        
        Args:
            law_doc: LawDocument with file_path to the markdown content
            
        Returns:
            CacheSession with cache metadata
        """
        try:
            # Read markdown content
            if not law_doc.file_path or not Path(law_doc.file_path).exists():
                raise ValueError(f"File path not found: {law_doc.file_path}")
            
            content = Path(law_doc.file_path).read_text(encoding='utf-8')
            content_hash = CacheSession.compute_content_hash(content)
            
            # Check for existing active caches
            existing_cache = self._find_active_cache(law_doc.id, content_hash)
            
            if existing_cache:
                logger.info(f"Reusing existing cache: {existing_cache.cache_id}")
                return existing_cache
            
            # Create new cache
            logger.info(f"Creating new cache for law {law_doc.id}")
            cache_session = self._create_cache(law_doc, content, content_hash)
            return cache_session
            
        except Exception as e:
            logger.error(f"Error in get_or_create_cache for {law_doc.id}: {e}")
            raise
    
    def _find_active_cache(self, law_id: str, content_hash: str) -> Optional[CacheSession]:
        """Find an active cache for the given law and content hash."""
        try:
            # List all caches
            caches = caching.CachedContent.list()
            
            for cache in caches:
                # Check if cache metadata matches
                if hasattr(cache, 'name') and hasattr(cache, 'expire_time'):
                    # Parse cache name to extract law_id and content_hash
                    # Expected format: "law_{law_id}_{content_hash[:8]}"
                    cache_name_parts = cache.name.split('/')[-1].split('_')
                    
                    if len(cache_name_parts) >= 3:
                        cached_law_id = f"{cache_name_parts[0]}_{cache_name_parts[1]}"
                        cached_hash_prefix = cache_name_parts[2] if len(cache_name_parts) > 2 else ""
                        
                        # Check if it matches and is not expired
                        if (cached_law_id == law_id and 
                            content_hash.startswith(cached_hash_prefix)):
                            
                            expiration = cache.expire_time
                            
                            # Convert to datetime if needed
                            if isinstance(expiration, str):
                                expiration = datetime.fromisoformat(expiration.replace('Z', '+00:00'))
                            
                            # Check if not expired
                            if expiration > datetime.now(expiration.tzinfo):
                                return CacheSession(
                                    cache_id=cache.name,
                                    law_id=law_id,
                                    content_hash=content_hash,
                                    expiration_time=expiration.replace(tzinfo=None),
                                    model_name=self.model_name
                                )
            
            return None
            
        except Exception as e:
            logger.warning(f"Error finding active cache: {e}")
            return None
    
    def _create_cache(self, law_doc: LawDocument, content: str, content_hash: str) -> Optional[CacheSession]:
        """Create a new cache in Gemini API (or None if caching unavailable)."""
        
        # Check if caching is available
        if not self.caching_available:
            logger.info("Caching disabled (Free Tier). Skipping cache creation.")
            return None
        
        try:
            # Prepare the system instruction
            system_instruction = f"""Eres un asistente experto en leyes de Seguridad Social de Argentina.

Tienes acceso al texto completo de la siguiente ley:
- T√≠tulo: {law_doc.titulo}
- N√∫mero: {law_doc.metadata.get('numero', 'N/A')}

Tu trabajo es responder preguntas sobre esta ley de manera precisa y profesional.
Siempre cita los art√≠culos espec√≠ficos cuando sea relevante."""

            # Create cached content
            cache = caching.CachedContent.create(
                model=self.model_name,
                display_name=f"{law_doc.id}_{content_hash[:8]}",
                system_instruction=system_instruction,
                contents=[content],
                ttl=timedelta(minutes=self.cache_ttl_minutes)
            )
            
            # Calculate expiration time
            expiration = datetime.now() + timedelta(minutes=self.cache_ttl_minutes)
            
            cache_session = CacheSession(
                cache_id=cache.name,
                law_id=law_doc.id,
                content_hash=content_hash,
                expiration_time=expiration,
                model_name=self.model_name
            )
            
            logger.info(f"Created cache {cache.name} for {law_doc.id}, expires at {expiration}")
            return cache_session
            
        except Exception as e:
            error_msg = str(e)
            
            # Detect Free Tier caching limit
            if "429" in error_msg and "TotalCachedContentStorageTokensPerModelFreeTier" in error_msg:
                logger.warning("‚ö†Ô∏è  Context caching not available (Free Tier limit=0). Disabling caching globally.")
                self.caching_available = False
                return None
            
            logger.error(f"Error creating cache: {e}")
            raise
    
    def generate_answer(self, cache_session: Optional[CacheSession], query: str, law_doc: LawDocument) -> str:
        """
        Generate answer to a query (with or without cached context).
        
        Args:
            cache_session: Active cache session (None if caching unavailable)
            query: User's question
            law_doc: Law document for fallback mode
            
        Returns:
            Generated answer from the LLM
        """
        try:
            # Mode 1: Use cache if available
            if cache_session is not None:
                model = genai.GenerativeModel.from_cached_content(
                    cached_content=cache_session.cache_id
                )
                response = model.generate_content(query)
                logger.info(f"Generated answer using cache {cache_session.cache_id}")
                return response.text
            
            # Mode 2: Fallback to direct model call (Free Tier)
            else:
                logger.info("Generating answer without cache (Free Tier mode)")
                
                # Read content directly
                content = Path(law_doc.file_path).read_text(encoding='utf-8')
                
                # Create model with system instruction
                system_instruction = f"""Eres un asistente experto en leyes de Seguridad Social de Argentina.

Tienes acceso al texto completo de la siguiente ley:
- T√≠tulo: {law_doc.titulo}
- N√∫mero: {law_doc.metadata.get('numero', 'N/A')}

Tu trabajo es responder preguntas sobre esta ley de manera precisa y profesional.
Siempre cita los art√≠culos espec√≠ficos cuando sea relevante."""
                
                model = genai.GenerativeModel(
                    model_name=self.model_name,
                    system_instruction=system_instruction
                )
                
                # Generate response with full context
                response = model.generate_content([content, query])
                return response.text
            
        except Exception as e:
            logger.error(f"Error generating answer: {e}")
            raise
    
    def list_active_caches(self) -> List[CacheSession]:
        """
        List all active (non-expired) cache sessions.
        
        Returns:
            List of active CacheSession instances
        """
        active_caches = []
        
        try:
            caches = caching.CachedContent.list()
            
            for cache in caches:
                if hasattr(cache, 'expire_time'):
                    expiration = cache.expire_time
                    
                    if isinstance(expiration, str):
                        expiration = datetime.fromisoformat(expiration.replace('Z', '+00:00'))
                    
                    if expiration > datetime.now(expiration.tzinfo):
                        # Parse cache name to extract law_id
                        cache_name_parts = cache.name.split('/')[-1].split('_')
                        law_id = f"{cache_name_parts[0]}_{cache_name_parts[1]}" if len(cache_name_parts) >= 2 else "unknown"
                        
                        cache_session = CacheSession(
                            cache_id=cache.name,
                            law_id=law_id,
                            content_hash="",  # We don't store this in the cache metadata
                            expiration_time=expiration.replace(tzinfo=None),
                            model_name=self.model_name
                        )
                        active_caches.append(cache_session)
            
            logger.info(f"Found {len(active_caches)} active caches")
            return active_caches
            
        except Exception as e:
            logger.error(f"Error listing caches: {e}")
            return []
    
    def delete_cache(self, cache_id: str) -> bool:
        """
        Delete a specific cache from Gemini API.
        
        Args:
            cache_id: Google cache identifier
            
        Returns:
            True if deleted successfully, False otherwise
        """
        try:
            cache = caching.CachedContent(name=cache_id)
            cache.delete()
            logger.info(f"Deleted cache {cache_id}")
            return True
        except Exception as e:
            logger.error(f"Error deleting cache {cache_id}: {e}")
            return False

```

### [FILE] rag_app\adapters\contextualizers\__init__.py
```py

```

### [FILE] rag_app\adapters\embedders\gemini_embedder.py
```py
import google.generativeai as genai
from typing import List
import logging
import time

from rag_app.config.settings import settings

logger = logging.getLogger(__name__)


class GeminiEmbedder:
    """Adapter for generating embeddings using Gemini API."""
    
    def __init__(self, api_key: str = None):
        """
        Initialize the Gemini embedder.
        
        Args:
            api_key: Gemini API key (defaults to settings)
        """
        api_key = api_key or settings.gemini_api_key
        genai.configure(api_key=api_key)
        self.model_name = settings.embedding_model
        logger.info(f"Initialized GeminiEmbedder with model: {self.model_name}")
    
    def embed_text(self, text: str) -> List[float]:
        """
        Generate embedding for a single text.
        
        Args:
            text: Input text to embed
            
        Returns:
            List of floats representing the embedding vector
        """
        try:
            result = genai.embed_content(
                model=self.model_name,
                content=text,
                task_type="retrieval_document"
            )
            return result['embedding']
        except Exception as e:
            logger.error(f"Error embedding text: {e}")
            raise
    
    def embed_batch(self, texts: List[str]) -> List[List[float]]:
        """
        Generate embeddings for multiple texts in batch.
        
        Args:
            texts: List of input texts to embed
            
        Returns:
            List of embedding vectors
        """
        embeddings = []
        for i, text in enumerate(texts):
            try:
                # Add small delay to avoid rate limiting
                if i > 0:
                    time.sleep(0.1)
                
                embedding = self.embed_text(text)
                embeddings.append(embedding)
                
                if (i + 1) % 10 == 0:
                    logger.info(f"Embedded {i + 1}/{len(texts)} texts")
                    
            except Exception as e:
                logger.error(f"Error embedding text {i}: {e}")
                # Return zero vector on error to maintain batch consistency
                embeddings.append([0.0] * 768)  # text-embedding-004 dimension
        
        return embeddings

```

### [FILE] rag_app\adapters\embedders\__init__.py
```py

```

### [FILE] rag_app\adapters\http\api_adapter.py
```py
"""FastAPI adapter for HTTP REST API."""
import logging
from fastapi import APIRouter, HTTPException, UploadFile, File, Depends
from fastapi.responses import JSONResponse
from typing import Optional
from datetime import datetime
from pathlib import Path
import tempfile

from rag_app.domain.api_schemas import (
    ChatRequest,
    ChatResponse,
    DocumentUploadResponse,
    DocumentListResponse,
    DocumentListItem,
    DocumentDetailResponse,
    HealthResponse,
    ErrorResponse,
    LawDocumentResponse
)
from rag_app.domain.models import QueryResult, LawDocument
from rag_app.services.retrieval_service import RetrievalService
from rag_app.services.ingestion_service import IngestionService
from rag_app.adapters.http.session_manager import SessionManager
from rag_app.config.settings import settings

logger = logging.getLogger(__name__)


class APIAdapter:
    """FastAPI adapter implementing REST endpoints for RAG system."""
    
    def __init__(
        self,
        retrieval_service: RetrievalService,
        ingestion_service: IngestionService,
        session_manager: Optional[SessionManager] = None
    ):
        """
        Initialize API adapter.
        
        Args:
            retrieval_service: Service for RAG queries
            ingestion_service: Service for document ingestion
            session_manager: Optional session manager for chat context
        """
        self.retrieval_service = retrieval_service
        self.ingestion_service = ingestion_service
        self.session_manager = session_manager or SessionManager()
        
        # Create API router
        self.router = APIRouter()
        
        # Register routes
        self._register_routes()
        
        logger.info("APIAdapter initialized")
    
    def _register_routes(self):
        """Register all API routes."""
        
        # Health check (no prefix)
        @self.router.get(
            "/health",
            response_model=HealthResponse,
            tags=["System"],
            summary="Health check endpoint"
        )
        async def health_check():
            """Check system health and service status."""
            try:
                return HealthResponse(
                    status="healthy",
                    timestamp=datetime.now(),
                    version=settings.api_version,
                    services={
                        "vector_store": "ok",
                        "embedder": "ok",
                        "contextualizer": "ok",
                        "active_sessions": str(self.session_manager.get_session_count())
                    }
                )
            except Exception as e:
                logger.error(f"Health check failed: {e}")
                raise HTTPException(status_code=503, detail="Service unhealthy")
        
        # Chat endpoint
        @self.router.post(
            "/chat",
            response_model=ChatResponse,
            tags=["Chat"],
            summary="Ask questions about legal documents"
        )
        async def chat(request: ChatRequest):
            """
            Process a user query using RAG system.
            
            Supports conversation context via session_id.
            """
            try:
                logger.info(f"Chat request: query='{request.query[:50]}...', session={request.session_id}")
                
                # Get or create session
                session = self.session_manager.get_or_create_session(request.session_id)
                
                # Add user message to history
                session.add_message("user", request.query)
                
                # Process query
                result: QueryResult = self.retrieval_service.query(request.query)
                
                # Add assistant response to history
                session.add_message("assistant", result.answer)
                session.last_law_id = result.law_document.id
                
                # Convert domain model to API response
                return ChatResponse(
                    answer=result.answer,
                    law_document=LawDocumentResponse(
                        id=result.law_document.id,
                        titulo=result.law_document.titulo,
                        url=result.law_document.url,
                        summary=result.law_document.summary,
                        metadata=result.law_document.metadata
                    ),
                    confidence_score=result.confidence_score,
                    cache_used=result.cache_used,
                    cache_id=result.cache_id,
                    response_time_ms=result.response_time_ms,
                    session_id=session.session_id
                )
                
            except Exception as e:
                logger.error(f"Error processing chat request: {e}", exc_info=True)
                raise HTTPException(
                    status_code=500,
                    detail=f"Error processing query: {str(e)}"
                )
        
        # List all documents
        @self.router.get(
            "/documents",
            response_model=DocumentListResponse,
            tags=["Documents"],
            summary="List all indexed documents"
        )
        async def list_documents():
            """Get a list of all indexed legal documents."""
            try:
                # Get all documents from vector store
                vector_store = self.retrieval_service.vector_store
                total_count = vector_store.count_documents()
                
                # For now, return basic info
                # In a production system, you'd implement pagination
                documents = []
                
                # Try to get some sample documents
                # Note: ChromaDB doesn't have a direct "list all" method
                # We'll need to work around this
                try:
                    collection = vector_store.collection
                    results = collection.get(limit=100)  # Get first 100
                    
                    if results['ids']:
                        for i, doc_id in enumerate(results['ids']):
                            metadata = results['metadatas'][i] if results['metadatas'] else {}
                            documents.append(
                                DocumentListItem(
                                    id=doc_id,
                                    titulo=metadata.get('titulo', 'Unknown'),
                                    url=metadata.get('url', ''),
                                    summary=metadata.get('summary'),
                                    categoria=metadata.get('categoria')
                                )
                            )
                except Exception as e:
                    logger.warning(f"Could not fetch document list: {e}")
                
                return DocumentListResponse(
                    documents=documents,
                    total=total_count
                )
                
            except Exception as e:
                logger.error(f"Error listing documents: {e}", exc_info=True)
                raise HTTPException(
                    status_code=500,
                    detail=f"Error retrieving documents: {str(e)}"
                )
        
        # Get specific document
        @self.router.get(
            "/documents/{law_id}",
            response_model=DocumentDetailResponse,
            tags=["Documents"],
            summary="Get details of a specific document"
        )
        async def get_document(law_id: str):
            """Get detailed information about a specific legal document."""
            try:
                vector_store = self.retrieval_service.vector_store
                law_doc = vector_store.get_by_id(law_id)
                
                if not law_doc:
                    raise HTTPException(
                        status_code=404,
                        detail=f"Document '{law_id}' not found"
                    )
                
                return DocumentDetailResponse(
                    id=law_doc.id,
                    titulo=law_doc.titulo,
                    url=law_doc.url,
                    file_path=law_doc.file_path,
                    summary=law_doc.summary,
                    metadata=law_doc.metadata
                )
                
            except HTTPException:
                raise
            except Exception as e:
                logger.error(f"Error getting document {law_id}: {e}", exc_info=True)
                raise HTTPException(
                    status_code=500,
                    detail=f"Error retrieving document: {str(e)}"
                )
        
        # Upload document
        @self.router.post(
            "/documents/upload",
            response_model=DocumentUploadResponse,
            tags=["Documents"],
            summary="Upload and index a new legal document"
        )
        async def upload_document(file: UploadFile = File(...)):
            """
            Upload a legal document for processing and indexing.
            
            Supports: PDF, DOCX, MD files.
            """
            try:
                logger.info(f"Document upload: filename={file.filename}, content_type={file.content_type}")
                
                # Validate file type
                allowed_extensions = {'.pdf', '.docx', '.md', '.txt'}
                file_ext = Path(file.filename).suffix.lower()
                
                if file_ext not in allowed_extensions:
                    raise HTTPException(
                        status_code=400,
                        detail=f"File type '{file_ext}' not supported. Allowed: {allowed_extensions}"
                    )
                
                # Save file temporarily
                with tempfile.NamedTemporaryFile(delete=False, suffix=file_ext) as tmp_file:
                    content = await file.read()
                    tmp_file.write(content)
                    tmp_file_path = tmp_file.name
                
                try:
                    # Process document using ingestion service
                    law_doc = await self._process_uploaded_document(tmp_file_path, file.filename)
                    
                    return DocumentUploadResponse(
                        success=True,
                        message="Documento procesado e indexado exitosamente",
                        document_id=law_doc.id,
                        titulo=law_doc.titulo
                    )
                    
                finally:
                    # Clean up temp file
                    Path(tmp_file_path).unlink(missing_ok=True)
                
            except HTTPException:
                raise
            except Exception as e:
                logger.error(f"Error uploading document: {e}", exc_info=True)
                raise HTTPException(
                    status_code=500,
                    detail=f"Error processing document: {str(e)}"
                )
    
    async def _process_uploaded_document(self, file_path: str, original_filename: str) -> LawDocument:
        """
        Process an uploaded document (placeholder implementation).
        
        In a full implementation, this would:
        1. Convert to markdown using Docling
        2. Extract metadata
        3. Create LawDocument
        4. Ingest into system
        
        Args:
            file_path: Path to temporary file
            original_filename: Original filename
            
        Returns:
            LawDocument instance
        """
        # For now, this is a simplified implementation
        # You'll need to integrate with your ingestion service
        
        raise HTTPException(
            status_code=501,
            detail="Document upload not yet fully implemented. Use ingestion scripts for now."
        )

```

### [FILE] rag_app\adapters\http\session_manager.py
```py
"""Session manager for conversational context in chat API."""
import logging
from typing import Dict, Optional, List
from datetime import datetime, timedelta
from dataclasses import dataclass, field

logger = logging.getLogger(__name__)


@dataclass
class ChatSession:
    """Represents a chat session with conversation history."""
    session_id: str
    created_at: datetime = field(default_factory=datetime.now)
    last_accessed: datetime = field(default_factory=datetime.now)
    conversation_history: List[Dict[str, str]] = field(default_factory=list)
    last_law_id: Optional[str] = None  # Track last queried law for context
    
    def add_message(self, role: str, content: str) -> None:
        """Add a message to conversation history."""
        self.conversation_history.append({
            "role": role,
            "content": content,
            "timestamp": datetime.now().isoformat()
        })
        self.last_accessed = datetime.now()
    
    def is_expired(self, timeout_minutes: int = 30) -> bool:
        """Check if session has expired."""
        return datetime.now() > self.last_accessed + timedelta(minutes=timeout_minutes)


class SessionManager:
    """Manages chat sessions for the API."""
    
    def __init__(self, session_timeout_minutes: int = 30):
        """
        Initialize session manager.
        
        Args:
            session_timeout_minutes: Minutes before a session expires
        """
        self.sessions: Dict[str, ChatSession] = {}
        self.session_timeout_minutes = session_timeout_minutes
        logger.info(f"SessionManager initialized with {session_timeout_minutes}min timeout")
    
    def get_or_create_session(self, session_id: Optional[str] = None) -> ChatSession:
        """
        Get existing session or create a new one.
        
        Args:
            session_id: Optional session ID, generates new one if None
            
        Returns:
            ChatSession instance
        """
        # Clean expired sessions periodically
        self._cleanup_expired_sessions()
        
        if session_id and session_id in self.sessions:
            session = self.sessions[session_id]
            if not session.is_expired(self.session_timeout_minutes):
                session.last_accessed = datetime.now()
                logger.info(f"Retrieved existing session: {session_id}")
                return session
            else:
                logger.info(f"Session {session_id} expired, creating new one")
                del self.sessions[session_id]
        
        # Create new session
        new_session_id = session_id or self._generate_session_id()
        session = ChatSession(session_id=new_session_id)
        self.sessions[new_session_id] = session
        logger.info(f"Created new session: {new_session_id}")
        return session
    
    def _generate_session_id(self) -> str:
        """Generate a unique session ID."""
        import uuid
        return f"session_{uuid.uuid4().hex[:12]}"
    
    def _cleanup_expired_sessions(self) -> None:
        """Remove expired sessions from memory."""
        expired = [
            sid for sid, session in self.sessions.items()
            if session.is_expired(self.session_timeout_minutes)
        ]
        for sid in expired:
            del self.sessions[sid]
            logger.info(f"Cleaned up expired session: {sid}")
    
    def get_session_count(self) -> int:
        """Get count of active sessions."""
        self._cleanup_expired_sessions()
        return len(self.sessions)

```

### [FILE] rag_app\adapters\http\__init__.py
```py
"""HTTP adapters package."""

```

### [FILE] rag_app\adapters\stores\chroma_adapter.py
```py
import chromadb
from chromadb.config import Settings as ChromaSettings
from typing import List, Optional
import logging

from rag_app.domain.models import LawDocument
from rag_app.config.settings import settings

logger = logging.getLogger(__name__)


class ChromaAdapter:
    """Adapter for vector storage using ChromaDB."""
    
    def __init__(self):
        """Initialize ChromaDB client and collection."""
        self.client = chromadb.PersistentClient(
            path=str(settings.chroma_db_path),
            settings=ChromaSettings(anonymized_telemetry=False)
        )
        
        self.collection = self.client.get_or_create_collection(
            name=settings.chroma_collection_name,
            metadata={"description": "Legal documents for RAG system"}
        )
        
        logger.info(f"Initialized ChromaDB at {settings.chroma_db_path}")
        logger.info(f"Collection: {settings.chroma_collection_name}")
    
    def save_document(self, law_doc: LawDocument, embedding: List[float]) -> None:
        """
        Save a law document with its embedding to the vector store.
        
        Args:
            law_doc: LawDocument instance with metadata
            embedding: Embedding vector for the document's searchable text
        """
        try:
            # Prepare metadata (ChromaDB requires dict values to be str, int, float, or bool)
            metadata = {
                "titulo": law_doc.titulo,
                "url": law_doc.url,
                "file_path": law_doc.file_path or "",
                "summary": law_doc.summary or "",
            }
            
            # Add additional metadata from law_doc.metadata
            for key, value in law_doc.metadata.items():
                if isinstance(value, (str, int, float, bool)):
                    metadata[key] = value
                else:
                    metadata[key] = str(value)
            
            # Add to collection
            self.collection.add(
                ids=[law_doc.id],
                embeddings=[embedding],
                metadatas=[metadata],
                documents=[law_doc.searchable_text]
            )
            
            logger.info(f"Saved document {law_doc.id} to vector store")
            
        except Exception as e:
            logger.error(f"Error saving document {law_doc.id}: {e}")
            raise
    
    def search(self, query_embedding: List[float], top_k: int = 3) -> List[LawDocument]:
        """
        Search for similar documents using vector similarity.
        
        Args:
            query_embedding: Query embedding vector
            top_k: Number of top results to return
            
        Returns:
            List of most similar LawDocument instances
        """
        try:
            results = self.collection.query(
                query_embeddings=[query_embedding],
                n_results=top_k
            )
            
            # Convert results to LawDocument instances
            documents = []
            if results['ids'] and len(results['ids'][0]) > 0:
                for i in range(len(results['ids'][0])):
                    doc_id = results['ids'][0][i]
                    metadata = results['metadatas'][0][i]
                    
                    # Extract metadata back
                    law_metadata = {}
                    for key in ['numero', 'a√±o', 'categoria']:
                        if key in metadata:
                            law_metadata[key] = metadata[key]
                    
                    law_doc = LawDocument(
                        id=doc_id,
                        titulo=metadata.get('titulo', ''),
                        url=metadata.get('url', ''),
                        file_path=metadata.get('file_path'),
                        summary=metadata.get('summary'),
                        metadata=law_metadata
                    )
                    documents.append(law_doc)
            
            logger.info(f"Found {len(documents)} similar documents")
            return documents
            
        except Exception as e:
            logger.error(f"Error searching documents: {e}")
            raise
    
    def get_by_id(self, doc_id: str) -> Optional[LawDocument]:
        """
        Retrieve a document by its ID.
        
        Args:
            doc_id: Document identifier
            
        Returns:
            LawDocument if found, None otherwise
        """
        try:
            results = self.collection.get(ids=[doc_id])
            
            if results['ids'] and len(results['ids']) > 0:
                metadata = results['metadatas'][0]
                
                law_metadata = {}
                for key in ['numero', 'a√±o', 'categoria']:
                    if key in metadata:
                        law_metadata[key] = metadata[key]
                
                return LawDocument(
                    id=doc_id,
                    titulo=metadata.get('titulo', ''),
                    url=metadata.get('url', ''),
                    file_path=metadata.get('file_path'),
                    summary=metadata.get('summary'),
                    metadata=law_metadata
                )
            
            return None
            
        except Exception as e:
            logger.error(f"Error retrieving document {doc_id}: {e}")
            return None
    
    def delete_document(self, doc_id: str) -> bool:
        """
        Delete a document from the vector store.
        
        Args:
            doc_id: Document identifier
            
        Returns:
            True if deleted successfully, False otherwise
        """
        try:
            self.collection.delete(ids=[doc_id])
            logger.info(f"Deleted document {doc_id}")
            return True
        except Exception as e:
            logger.error(f"Error deleting document {doc_id}: {e}")
            return False
    
    def count_documents(self) -> int:
        """
        Get total count of documents in the store.
        
        Returns:
            Number of documents
        """
        return self.collection.count()
    
    def get_all_document_ids(self) -> List[str]:
        """
        Get list of all document IDs in the store.
        
        Returns:
            List of document IDs
        """
        try:
            # Get all documents without filtering
            results = self.collection.get()
            return results['ids'] if results['ids'] else []
        except Exception as e:
            logger.error(f"Error retrieving all document IDs: {e}")
            return []
    
    def delete_all_documents(self) -> int:
        """
        Delete all documents from the vector store.
        
        Returns:
            Number of documents deleted
        """
        try:
            # Get count before deletion
            count = self.count_documents()
            
            if count == 0:
                logger.info("No documents to delete")
                return 0
            
            # Get all IDs
            all_ids = self.get_all_document_ids()
            
            if all_ids:
                # Delete all documents
                self.collection.delete(ids=all_ids)
                logger.info(f"Deleted all {count} documents from vector store")
            
            return count
            
        except Exception as e:
            logger.error(f"Error deleting all documents: {e}")
            raise


```

### [FILE] rag_app\adapters\stores\__init__.py
```py

```

### [FILE] rag_app\config\leyes_config.json
```json
{
    "leyes": [
        {
            "numero": "24714",
            "nombre": "Sistema Integrado de Jubilaciones y Pensiones",
            "url": "https://www.argentina.gob.ar/normativa/nacional/ley-24714-39880/actualizacion",
            "a√±o": 1996,
            "categoria": "Jubilaciones y Pensiones",
            "descripcion_breve": "Regula el sistema integrado de jubilaciones y pensiones, estableciendo requisitos y modalidades de acceso a prestaciones previsionales."
        },
        {
            "numero": "593-2016",
            "nombre": "Decreto 593/2016 - Prestaciones",
            "url": "https://www.argentina.gob.ar/normativa/nacional/decreto-593-2016-260573/texto",
            "a√±o": 2016,
            "categoria": "Decretos",
            "descripcion_breve": "Decreto sobre prestaciones de la seguridad social"
        },
        {
            "numero": "1602-2009",
            "nombre": "Decreto 1602/2009 - Asignaci√≥n Universal por Hijo",
            "url": "https://servicios.infoleg.gob.ar/infolegInternet/anexos/155000-159999/159466/norma.htm",
            "a√±o": 2009,
            "categoria": "Decretos",
            "descripcion_breve": "Incorporaci√≥n del Subsistema no Contributivo de Asignaci√≥n Universal por Hijo para Protecci√≥n Social"
        },
        {
            "numero": "1667-2012",
            "nombre": "Decreto 1667/2012 - Asignaciones Familiares",
            "url": "https://servicios.infoleg.gob.ar/infolegInternet/anexos/200000-204999/202004/norma.htm",
            "a√±o": 2012,
            "categoria": "Decretos",
            "descripcion_breve": "Modifica la forma de calcular los l√≠mites de ingresos para el otorgamiento de asignaciones familiares"
        },
        {
            "numero": "446-2011",
            "nombre": "Decreto 446/2011",
            "url": "https://www.argentina.gob.ar/normativa/nacional/decreto-446-2011-181250/texto",
            "a√±o": 2011,
            "categoria": "Decretos",
            "descripcion_breve": "Normativa sobre seguridad social"
        },
        {
            "numero": "24013",
            "nombre": "Ley 24013",
            "url": "https://servicios.infoleg.gob.ar/infolegInternet/anexos/50000-54999/51609/texact.htm",
            "a√±o": 1991,
            "categoria": "Empleo",
            "descripcion_breve": "Ley Nacional de Empleo"
        },
        {
            "numero": "27726",
            "nombre": "Ley 27726",
            "url": "https://www.argentina.gob.ar/normativa/nacional/ley-27726-391364/texto",
            "a√±o": 2023,
            "categoria": "Leyes",
            "descripcion_breve": "Normativa de seguridad social"
        },
        {
            "numero": "27548",
            "nombre": "Ley 27548",
            "url": "https://servicios.infoleg.gob.ar/infolegInternet/anexos/410000-414999/411022/texact.htm",
            "a√±o": 2020,
            "categoria": "Leyes",
            "descripcion_breve": "Normativa de seguridad social"
        },
        {
            "numero": "decreto-2020",
            "nombre": "Decreto 2020",
            "url": "https://servicios.infoleg.gob.ar/infolegInternet/anexos/345000-349999/346233/norma.htm",
            "a√±o": 2020,
            "categoria": "Decretos",
            "descripcion_breve": "Decreto sobre seguridad social"
        },
        {
            "numero": "decreto-2021",
            "nombre": "Decreto 2021",
            "url": "https://servicios.infoleg.gob.ar/infolegInternet/anexos/350000-354999/353030/norma.htm",
            "a√±o": 2021,
            "categoria": "Decretos",
            "descripcion_breve": "Decreto sobre seguridad social"
        },
        {
            "numero": "decreto-2021-355",
            "nombre": "Decreto 2021",
            "url": "https://servicios.infoleg.gob.ar/infolegInternet/anexos/355000-359999/355822/texact.htm",
            "a√±o": 2021,
            "categoria": "Decretos",
            "descripcion_breve": "Decreto sobre seguridad social"
        },
        {
            "numero": "decreto-2023",
            "nombre": "Decreto 2023",
            "url": "https://servicios.infoleg.gob.ar/infolegInternet/anexos/400000-404999/403940/norma.htm",
            "a√±o": 2023,
            "categoria": "Decretos",
            "descripcion_breve": "Decreto sobre seguridad social"
        }
    ]
}
```

### [FILE] rag_app\config\settings.py
```py
from pydantic_settings import BaseSettings, SettingsConfigDict
from pathlib import Path
from typing import Optional
import os


class Settings(BaseSettings):
    """Application settings loaded from environment variables."""
    
    model_config = SettingsConfigDict(
        env_file=str(Path(__file__).parent.parent / ".env"),  # Explicitly rag_app/.env
        env_file_encoding="utf-8",
        case_sensitive=False,
        extra="ignore"  # Ignore extra fields like groq_key
    )
    
    # API Keys
    gemini_api_key: str
    
    # Model Configuration
    embedding_model: str = "models/text-embedding-004"
    llm_model: str = "gemini-2.5-flash"  # Gemini 2.5 con soporte completo de caching
    cache_ttl_minutes: int = 60
    
    # Paths
    base_dir: Path = Path(__file__).parent.parent.parent
    processed_docs_path: Path = base_dir / "data" / "processed"
    chroma_db_path: Path = base_dir / "data" / "chroma_db"
    
    # ChromaDB Configuration
    chroma_collection_name: str = "legal_documents"
    
    # Retrieval Configuration
    top_k_results: int = 3
    
    # Gemini API Configuration
    max_retries: int = 3
    request_timeout: int = 30
    
    # API Server Configuration
    api_host: str = "0.0.0.0"
    api_port: int = 8000
    api_cors_origins: list[str] = ["http://localhost:3000", "http://localhost:3001", "http://localhost:5173"]
    api_prefix: str = "/api/v1"
    api_title: str = "Legal RAG API"
    api_version: str = "1.0.0"
    
    def __init__(self, **kwargs):
        super().__init__(**kwargs)
        # Create directories if they don't exist
        self.processed_docs_path.mkdir(parents=True, exist_ok=True)
        self.chroma_db_path.mkdir(parents=True, exist_ok=True)


# Global settings instance
settings = Settings()

```

### [FILE] rag_app\config\__init__.py
```py

```

### [FILE] rag_app\docs\API.md
```md
# Legal RAG API Documentation

## Overview

RESTful API for querying Argentine Social Security Laws using RAG (Retrieval Augmented Generation) with Google Gemini Context Caching.

**Base URL**: `http://localhost:8000`  
**API Version**: `v1`  
**API Prefix**: `/api/v1`

## Authentication

Currently no authentication required (development mode).

## Endpoints

### System Endpoints

#### Health Check
```http
GET /health
```

**Response**:
```json
{
  "status": "healthy",
  "timestamp": "2024-01-15T10:30:00Z",
  "version": "1.0.0",
  "services": {
    "vector_store": "ok",
    "embedder": "ok",
    "contextualizer": "ok",
    "active_sessions": "5"
  }
}
```

### Chat Endpoints

#### Ask a Question
```http
POST /api/v1/chat
Content-Type: application/json
```

**Request Body**:
```json
{
  "query": "¬øCu√°les son los requisitos para jubilarse?",
  "session_id": "optional-session-id"
}
```

**Response**:
```json
{
  "answer": "Los requisitos para jubilarse en Argentina incluyen...",
  "law_document": {
    "id": "ley_24241",
    "titulo": "Ley 24241 - Sistema Integrado de Jubilaciones y Pensiones",
    "url": "https://example.com/ley24241",
    "summary": "Norma que regula el sistema previsional argentino",
    "metadata": {
      "categoria": "Jubilaciones",
      "numero": "24241",
      "a√±o": "1993"
    }
  },
  "confidence_score": 0.95,
  "cache_used": true,
  "cache_id": "cache_abc123",
  "response_time_ms": 234.5,
  "session_id": "session_xyz789"
}
```

**Session Management**:
- Omit `session_id` for one-off questions
- Provide `session_id` to maintain conversation context
- Sessions expire after 30 minutes of inactivity

### Document Endpoints

#### List All Documents
```http
GET /api/v1/documents
```

**Response**:
```json
{
  "documents": [
    {
      "id": "ley_24241",
      "titulo": "Ley 24241 - Sistema Integrado de Jubilaciones y Pensiones",
      "url": "https://example.com/ley24241",
      "summary": "Norma que regula el sistema previsional argentino",
      "categoria": "Jubilaciones"
    }
  ],
  "total": 1
}
```

#### Get Document Details
```http
GET /api/v1/documents/{law_id}
```

**Response**:
```json
{
  "id": "ley_24241",
  "titulo": "Ley 24241 - Sistema Integrado de Jubilaciones y Pensiones",
  "url": "https://example.com/ley24241",
  "file_path": "/data/processed/ley_24241.md",
  "summary": "Norma que regula el sistema previsional argentino",
  "metadata": {
    "numero": "24241",
    "a√±o": "1993",
    "categoria": "Jubilaciones"
  }
}
```

#### Upload Document
```http
POST /api/v1/documents/upload
Content-Type: multipart/form-data
```

**Request**:
```
file: <binary file data>
```

**Supported formats**: PDF, DOCX, MD, TXT

**Response**:
```json
{
  "success": true,
  "message": "Documento procesado e indexado exitosamente",
  "document_id": "ley_27000",
  "titulo": "Ley 27000 - Nueva Ley de Seguridad Social"
}
```

**Note**: Upload functionality is currently a placeholder. Use ingestion scripts for production.

## Error Responses

All errors follow this format:

```json
{
  "error": "ErrorType",
  "message": "Human-readable error message",
  "details": {
    "field": "additional_info"
  }
}
```

**HTTP Status Codes**:
- `200` - Success
- `400` - Bad Request (validation error)
- `404` - Not Found
- `500` - Internal Server Error
- `501` - Not Implemented
- `503` - Service Unavailable

## CORS

CORS is enabled for:
- `http://localhost:3000` (React default)
- `http://localhost:5173` (Vite default)

## Rate Limiting

Not currently implemented. Will be added in future versions.

## Interactive Documentation

- **Swagger UI**: http://localhost:8000/docs
- **ReDoc**: http://localhost:8000/redoc

## TypeScript Integration

See the TypeScript client example in the implementation plan for frontend integration.

## Running the Server

```bash
# Using uv
cd rag_app
uv sync
uv run uvicorn api_main:app --reload --host 0.0.0.0 --port 8000

# Or with Python directly
python -m uvicorn api_main:app --reload --host 0.0.0.0 --port 8000
```

## Architecture

The API follows **Hexagonal Architecture** (Ports & Adapters):

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   FastAPI   ‚îÇ ‚Üê HTTP Adapter
‚îÇ  (api_main) ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
       ‚îÇ
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  Services   ‚îÇ ‚Üê Application Layer
‚îÇ  (Retrieval)‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
       ‚îÇ
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   Ports     ‚îÇ ‚Üê Domain Layer
‚îÇ  (Embedder, ‚îÇ
‚îÇ   Store)    ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
       ‚îÇ
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  Adapters   ‚îÇ ‚Üê Infrastructure
‚îÇ  (Gemini,   ‚îÇ
‚îÇ   ChromaDB) ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

## Support

For issues or questions, contact the development team at Exdata.

```

### [FILE] rag_app\docs\architecture.md
```md
# Legal AI RAG System - Architecture Documentation

## Overview

This system implements a **NotebookLM-inspired Legal AI RAG** for Argentine Social Security Laws using **Hexagonal Architecture** (Ports & Adapters pattern).

**Key Innovation:** Document-level retrieval with Gemini Context Caching instead of traditional chunk-based RAG.

## Architecture Diagram

```mermaid
graph TB
    subgraph "External World"
        USER[üë§ User]
        WEB[üåê Law Websites]
        GEMINI[ü§ñ Gemini API]
    end
    
    subgraph "Entry Points"
        UI[üñ•Ô∏è Streamlit UI<br/>main.py]
        SETUP[‚öôÔ∏è Setup Script<br/>setup_db.py]
    end
    
    subgraph "Services Layer (Orchestration)"
        INGEST[üì• IngestionService<br/>Web ‚Üí MD ‚Üí Vector]
        RETRIEVE[üì§ RetrievalService<br/>Query ‚Üí Cache ‚Üí Answer]
    end
    
    subgraph "Ports (Interfaces)"
        PORT_DOC[üìÑ DocumentProcessorPort]
        PORT_EMB[üî¢ EmbedderPort]
        PORT_VEC[üóÑÔ∏è VectorStorePort]
        PORT_CTX[üíæ ContextualizerPort]
    end
    
    subgraph "Adapters (Implementations)"
        ADAPT_DOC[üìë DoclingAdapter<br/>Docling]
        ADAPT_EMB[üî¢ GeminiEmbedder<br/>text-embedding-004]
        ADAPT_VEC[üóÑÔ∏è ChromaAdapter<br/>ChromaDB]
        ADAPT_CTX[üíæ GeminiCacheManager<br/>Context Caching API]
    end
    
    subgraph "Domain Layer"
        MODEL_LAW[‚öñÔ∏è LawDocument]
        MODEL_CACHE[üíæ CacheSession]
        MODEL_RESULT[üìä QueryResult]
    end
    
    subgraph "External Storage"
        FILES[üìÅ Markdown Files<br/>data/processed/]
        CHROMA[(ChromaDB<br/>data/chroma_db/)]
    end
    
    %% User interactions
    USER --> UI
    USER -.setup.-> SETUP
    
    %% UI flow
    UI --> RETRIEVE
    SETUP --> INGEST
    
    %% Service dependencies
    INGEST --> PORT_DOC
    INGEST --> PORT_EMB
    INGEST --> PORT_VEC
    
    RETRIEVE --> PORT_EMB
    RETRIEVE --> PORT_VEC
    RETRIEVE --> PORT_CTX
    
    %% Port -> Adapter bindings
    PORT_DOC -.implements.- ADAPT_DOC
    PORT_EMB -.implements.- ADAPT_EMB
    PORT_VEC -.implements.- ADAPT_VEC
    PORT_CTX -.implements.- ADAPT_CTX
    
    %% Adapter interactions
    ADAPT_DOC --> WEB
    ADAPT_DOC --> FILES
    ADAPT_EMB --> GEMINI
    ADAPT_VEC --> CHROMA
    ADAPT_CTX --> FILES
    ADAPT_CTX --> GEMINI
    
    %% Domain usage
    INGEST -.uses.- MODEL_LAW
    RETRIEVE -.uses.- MODEL_CACHE
    RETRIEVE -.creates.- MODEL_RESULT
    
    classDef serviceClass fill:#e1f5ff,stroke:#0288d1,stroke-width:2px
    classDef portClass fill:#fff9c4,stroke:#f57f17,stroke-width:2px
    classDef adapterClass fill:#f3e5f5,stroke:#7b1fa2,stroke-width:2px
    classDef domainClass fill:#e8f5e9,stroke:#388e3c,stroke-width:2px
    
    class INGEST,RETRIEVE serviceClass
    class PORT_DOC,PORT_EMB,PORT_VEC,PORT_CTX portClass
    class ADAPT_DOC,ADAPT_EMB,ADAPT_VEC,ADAPT_CTX adapterClass
    class MODEL_LAW,MODEL_CACHE,MODEL_RESULT domainClass
```

## Data Flow Diagrams

### Ingestion Flow (One-time Setup)

```mermaid
sequenceDiagram
    actor Admin
    participant Script as setup_db.py
    participant Ingest as IngestionService
    participant DocProc as DoclingAdapter
    participant Embed as GeminiEmbedder
    participant Vector as ChromaAdapter
    participant Files as MD Files
    participant DB as ChromaDB
    
    Admin->>Script: Run setup
    Script->>Ingest: ingest_from_config()
    
    loop For each law in config
        Ingest->>DocProc: process_url(url, law_id)
        DocProc->>DocProc: Convert with Docling
        DocProc->>Files: Save as .md
        DocProc-->>Ingest: (file_path, content)
        
        Ingest->>Ingest: Extract summary
        Ingest->>Embed: embed_text(title + summary)
        Embed-->>Ingest: embedding vector
        
        Ingest->>Vector: save_document(law_doc, embedding)
        Vector->>DB: Store metadata + embedding
    end
    
    Ingest-->>Script: List of processed docs
    Script-->>Admin: ‚úì Setup complete
```

### Retrieval Flow (User Query)

```mermaid
sequenceDiagram
    actor User
    participant UI as Streamlit UI
    participant Retrieval as RetrievalService
    participant Embed as GeminiEmbedder
    participant Vector as ChromaAdapter
    participant Cache as GeminiCacheManager
    participant Gemini as Gemini API
    participant Files as MD Files
    
    User->>UI: Ask question
    UI->>Retrieval: query(user_query)
    
    Retrieval->>Embed: embed_text(query)
    Embed-->>Retrieval: query_embedding
    
    Retrieval->>Vector: search(query_embedding, top_k=1)
    Vector-->>Retrieval: [most_relevant_law]
    
    Retrieval->>Cache: get_or_create_cache(law_doc)
    Cache->>Files: Read law MD file
    Cache->>Cache: Compute content hash
    
    alt Cache exists
        Cache->>Gemini: Check caching.CachedContent.list()
        Gemini-->>Cache: Existing cache found
        Cache-->>Retrieval: CacheSession (reused)
    else No cache
        Cache->>Gemini: caching.CachedContent.create()
        Gemini-->>Cache: New cache created
        Cache-->>Retrieval: CacheSession (new)
    end
    
    Retrieval->>Cache: generate_answer(cache, query)
    Cache->>Gemini: model.generate_content(query)
    Gemini-->>Cache: Generated answer
    Cache-->>Retrieval: answer
    
    Retrieval-->>UI: QueryResult
    UI-->>User: Display answer + metadata
```

## Design Decisions

### 1. Document-Level vs. Chunk-Level RAG

**Decision:** Store entire laws in Gemini Cache instead of chunking.

**Rationale:**
- Laws need complete context to answer correctly
- Gemini 1.5 Pro supports 2M token context window
- Context Caching reduces cost by ~90% for repeated queries
- Simpler architecture (no chunk merging logic needed)

**Trade-offs:**
- ‚úÖ Higher answer quality (full context)
- ‚úÖ 90% cost reduction after cache creation
- ‚úÖ Faster responses on cache hit (<1s)
- ‚ùå Higher initial cost to create cache
- ‚ùå Only works for documents that fit in context window

### 2. Hexagonal Architecture

**Decision:** Strict separation of Ports (interfaces) and Adapters (implementations).

**Rationale:**
- Easy to swap implementations (e.g., different vector DB)
- Testable with mocks
- Clear dependency flow (Domain ‚Üê Services ‚Üê Ports ‚Üí Adapters)

**Example:** If we want to switch from ChromaDB to Pinecone, we only change `ChromaAdapter` without touching services.

### 3. Vector Store Strategy

**Decision:** Index only title + summary, store file path in metadata.

**Rationale:**
- Vector DB becomes a lightweight "table of contents"
- Full content loaded from files when needed
- Faster indexing and cheaper storage

### 4. Cache Management

**Decision:** 1-hour TTL with content hash validation.

**Rationale:**
- Laws rarely change (1 hour is reasonable)
- Content hash prevents stale caches on updates
- Automatic cache reuse across sessions

## Cost Analysis

### Traditional RAG (No Caching)

For a medium law (~50k tokens):

| Query # | Input Tokens | Output Tokens | Cost (USD) |
|---------|--------------|---------------|------------|
| Query 1 | 50,000       | 500           | $0.75      |
| Query 2 | 50,000       | 500           | $0.75      |
| Query 3 | 50,000       | 500           | $0.75      |
| **Total (3 queries)** | **150,000** | **1,500** | **$2.25** |

### With Context Caching

| Query # | Input Tokens | Cached Tokens | Output Tokens | Cost (USD) |
|---------|--------------|---------------|---------------|------------|
| Cache creation | 50,000 | - | - | $0.50 |
| Query 1 | 100 | 50,000 | 500 | $0.05 |
| Query 2 | 100 | 50,000 | 500 | $0.05 |
| Query 3 | 100 | 50,000 | 500 | $0.05 |
| **Total (3 queries)** | **50,300** | **150,000** | **1,500** | **$0.65** |

**Savings:** ~71% cost reduction for 3 queries, ~90% per query after cache creation.

## Technology Stack

| Component | Technology | Purpose |
|-----------|-----------|---------|
| LLM | Gemini 1.5 Pro | Answer generation with context caching |
| Embeddings | text-embedding-004 | Semantic search |
| Document Processing | Docling (IBM) | Web ‚Üí Markdown conversion |
| Vector DB | ChromaDB | Local vector storage |
| Web UI | Streamlit | User interface |
| Configuration | Pydantic Settings | Environment management |

## File Structure

```
rag_app/
‚îú‚îÄ‚îÄ config/              # Configuration
‚îÇ   ‚îú‚îÄ‚îÄ leyes_config.json
‚îÇ   ‚îî‚îÄ‚îÄ settings.py
‚îú‚îÄ‚îÄ domain/              # Domain models
‚îÇ   ‚îî‚îÄ‚îÄ models.py
‚îú‚îÄ‚îÄ ports/               # Interface definitions
‚îÇ   ‚îú‚îÄ‚îÄ chunker.py      (DocumentProcessorPort)
‚îÇ   ‚îú‚îÄ‚îÄ embedder.py
‚îÇ   ‚îú‚îÄ‚îÄ vector_store.py
‚îÇ   ‚îî‚îÄ‚îÄ contextualizer.py
‚îú‚îÄ‚îÄ adapters/            # Implementations
‚îÇ   ‚îú‚îÄ‚îÄ chunkers/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ docling_adapter.py
‚îÇ   ‚îú‚îÄ‚îÄ embedders/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ gemini_embedder.py
‚îÇ   ‚îú‚îÄ‚îÄ stores/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ chroma_adapter.py
‚îÇ   ‚îî‚îÄ‚îÄ contextualizers/
‚îÇ       ‚îî‚îÄ‚îÄ gemini_manager.py
‚îú‚îÄ‚îÄ services/            # Business logic orchestration
‚îÇ   ‚îú‚îÄ‚îÄ ingestion_service.py
‚îÇ   ‚îî‚îÄ‚îÄ retrieval_service.py
‚îú‚îÄ‚îÄ scripts/             # Utility scripts
‚îÇ   ‚îî‚îÄ‚îÄ setup_db.py
‚îú‚îÄ‚îÄ utils/               # Cross-cutting concerns
‚îÇ   ‚îî‚îÄ‚îÄ logger.py
‚îú‚îÄ‚îÄ main.py             # Streamlit UI entry point
‚îî‚îÄ‚îÄ tests/              # Tests
    ‚îî‚îÄ‚îÄ audit_performance.py
```

## Future Enhancements

1. **Multi-Law Queries:** Combine multiple laws in one cache
2. **Incremental Updates:** Update individual laws without re-ingesting all
3. **Advanced Routing:** LLM-based query routing to select relevant laws
4. **Cost Tracker:** Real-time cost monitoring dashboard
5. **Export Functionality:** Save Q&A sessions as PDF reports
6. **Authentication:** Multi-user support with usage tracking

## References

- [Gemini Context Caching Documentation](https://ai.google.dev/gemini-api/docs/caching)
- [Docling Documentation](https://github.com/DS4SD/docling)
- [ChromaDB Documentation](https://docs.trychroma.com/)
- [Hexagonal Architecture Pattern](https://alistair.cockburn.us/hexagonal-architecture/)

```

### [FILE] rag_app\docs\TECHNICAL_ARCHITECTURE.md
```md
# Legal AI RAG - Technical Architecture Documentation

> **For Developers & AI Language Models**

This document provides a comprehensive technical overview of the Legal AI RAG system architecture, module responsibilities, and data flow.

---

## üèóÔ∏è Architecture Pattern: Hexagonal Architecture (Ports & Adapters)

The system implements **Hexagonal Architecture** (also known as Ports and Adapters) to achieve:

- **Technology agnostic core**: Domain logic independent of external frameworks
- **Testability**: Easy to mock dependencies via interfaces
- **Flexibility**: Swap implementations without changing business logic (e.g., ChromaDB ‚Üí Pinecone)
- **Clear boundaries**: Explicit separation between domain, application, and infrastructure layers

### Architecture Layers

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                     PRESENTATION LAYER                       ‚îÇ
‚îÇ                    (main.py - Streamlit)                     ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                           ‚îÇ
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                   APPLICATION LAYER                          ‚îÇ
‚îÇ          (Services - Business Orchestration)                 ‚îÇ
‚îÇ  ‚Ä¢ IngestionService                                          ‚îÇ
‚îÇ  ‚Ä¢ RetrievalService                                          ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
               ‚îÇ                           ‚îÇ
      ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê         ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
      ‚îÇ  DOMAIN LAYER   ‚îÇ         ‚îÇ  PORTS (Interfaces)‚îÇ
      ‚îÇ  (Models)       ‚îÇ         ‚îÇ  ‚Ä¢ DocumentProcessor ‚îÇ
      ‚îÇ  ‚Ä¢ LawDocument  ‚îÇ         ‚îÇ  ‚Ä¢ EmbedderPort    ‚îÇ
      ‚îÇ  ‚Ä¢ CacheSession ‚îÇ         ‚îÇ  ‚Ä¢ VectorStorePort ‚îÇ
      ‚îÇ  ‚Ä¢ QueryResult  ‚îÇ         ‚îÇ  ‚Ä¢ ContextualizerPort‚îÇ
      ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò         ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                                          ‚îÇ
                           ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
                           ‚îÇ   ADAPTERS (Implementations) ‚îÇ
                           ‚îÇ   ‚Ä¢ DoclingAdapter           ‚îÇ
                           ‚îÇ   ‚Ä¢ GeminiEmbedder          ‚îÇ
                           ‚îÇ   ‚Ä¢ ChromaAdapter           ‚îÇ
                           ‚îÇ   ‚Ä¢ GeminiCacheManager      ‚îÇ
                           ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                                          ‚îÇ
                           ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
                           ‚îÇ   EXTERNAL SERVICES         ‚îÇ
                           ‚îÇ   ‚Ä¢ Google Gemini API       ‚îÇ
                           ‚îÇ   ‚Ä¢ ChromaDB (local)        ‚îÇ
                           ‚îÇ   ‚Ä¢ Docling Library         ‚îÇ
                           ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

## üì¶ Module Responsibilities

### **1. Domain Layer** (`domain/models.py`)

**Purpose**: Pure business entities with zero dependencies on external libraries.

**Components**:

- **`LawDocument`**: Core entity representing a legal document
  ```python
  @dataclass
  class LawDocument:
      id: str                    # Unique identifier
      titulo: str                # Document title
      url: str                   # Source URL (or file://)
      file_path: str            # Path to processed .md file
      summary: str              # Brief summary for embedding
      metadata: dict            # Additional metadata (a√±o, categoria, etc.)
  ```

- **`CacheSession`**: Tracks Gemini context cache lifecycle
  ```python
  @dataclass
  class CacheSession:
      cache_id: str             # Google cache identifier
      law_id: str               # Associated law
      content_hash: str         # SHA256 of content
      expiration_time: datetime # Cache TTL
      model_name: str           # Gemini model used
  ```

- **`QueryResult`**: Query response with metadata
  ```python
  @dataclass
  class QueryResult:
      answer: str               # LLM-generated answer
      law_document: LawDocument # Source law
      confidence_score: float   # Relevance score
      cache_used: bool          # Was cache reused?
      cache_id: Optional[str]   # Cache identifier
      response_time_ms: float   # Response time
  ```

**Key Principle**: No imports from `google.generativeai`, `chromadb`, etc. Only standard library.

---

### **2. Ports Layer** (`ports/`)

**Purpose**: Define contracts (interfaces) that adapters must implement. Enables dependency inversion.

#### `ports/chunker.py` ‚Üí **DocumentProcessorPort**

```python
class DocumentProcessorPort(Protocol):
    def process_url(self, url: str, law_id: str) -> Tuple[str, str]:
        """Convert URL/file to markdown.
        
        Returns: (file_path, markdown_content)
        """
```

**Contract**: Any document processor must take a URL/file and return markdown.

#### `ports/embedder.py` ‚Üí **EmbedderPort**

```python
class EmbedderPort(Protocol):
    def embed_text(self, text: str) -> List[float]:
        """Generate embedding vector for text."""
    
    def embed_batch(self, texts: List[str]) -> List[List[float]]:
        """Batch embedding generation."""
```

**Contract**: Any embedder must convert text ‚Üí vector representation.

#### `ports/vector_store.py` ‚Üí **VectorStorePort**

```python
class VectorStorePort(Protocol):
    def save_document(self, law_doc: LawDocument, embedding: List[float]) -> None:
        """Index document with its embedding."""
    
    def search(self, query_embedding: List[float], top_k: int) -> List[LawDocument]:
        """Semantic search by vector similarity."""
    
    def get_by_id(self, law_id: str) -> Optional[LawDocument]:
        """Retrieve document by ID."""
```

**Contract**: Any vector store must support index, search, retrieve operations.

#### `ports/contextualizer.py` ‚Üí **ContextualizerPort**

```python
class ContextualizerPort(Protocol):
    def get_or_create_cache(self, law_doc: LawDocument) -> Optional[CacheSession]:
        """Create or reuse context cache."""
    
    def generate_answer(self, cache_session: Optional[CacheSession], 
                       query: str, law_doc: LawDocument) -> str:
        """Generate answer with or without cache."""
```

**Contract**: Any contextualizer must handle caching lifecycle and answer generation.

---

### **3. Adapters Layer** (`adapters/`)

**Purpose**: Concrete implementations of ports using specific technologies.

#### `adapters/chunkers/docling_adapter.py` ‚Üí **DoclingAdapter**

**Technology**: IBM Docling library

**Responsibilities**:
- Download/read documents from URLs or files
- Convert to structured markdown
- Save to `data/processed/`

**Key Implementation**:
```python
def process_url(self, url: str, law_id: str) -> Tuple[str, str]:
    # Use Docling to convert web/file ‚Üí markdown
    result = self.converter.convert(url)
    md_content = result.document.export_to_markdown()
    
    # Save locally
    file_path = settings.processed_docs_path / f"{law_id}.md"
    file_path.write_text(md_content)
    
    return (str(file_path), md_content)
```

#### `adapters/embedders/gemini_embedder.py` ‚Üí **GeminiEmbedder**

**Technology**: Google Gemini `text-embedding-004`

**Responsibilities**:
- Generate 768-dimensional embeddings
- Batch processing for efficiency

**Key Implementation**:
```python
def embed_text(self, text: str) -> List[float]:
    result = genai.embed_content(
        model=self.model_name,
        content=text,
        task_type="retrieval_document"
    )
    return result['embedding']
```

#### `adapters/stores/chroma_adapter.py` ‚Üí **ChromaAdapter**

**Technology**: ChromaDB (local persistence)

**Responsibilities**:
- Store embeddings with metadata
- Cosine similarity search
- **Critical**: Only indexes `title + summary`, NOT full text
- Stores `file_path` pointer to full markdown

**Key Design Decision**:
```python
# LIGHTWEIGHT INDEX
searchable_text = f"{law_doc.titulo}\n\n{law_doc.summary}"
embedding = <embed searchable_text>

# Store pointer to full content
metadata = {
    "law_id": law_doc.id,
    "titulo": law_doc.titulo,
    "file_path": law_doc.file_path,  # ‚Üê Full text location
    "url": law_doc.url,
    ...
}
```

**Why?** Full laws are 20k-50k tokens. Embedding only title+summary keeps vector DB small and fast.

#### `adapters/contextualizers/gemini_manager.py` ‚Üí **GeminiCacheManager**

**Technology**: Google Gemini 2.5-flash with Context Caching API

**Responsibilities**:
1. **Cache Management**: Create, reuse, list, delete caches
2. **Content Hashing**: SHA256 to detect content changes
3. **Free Tier Detection**: Graceful degradation when caching unavailable
4. **Dual Mode**:
   - **Mode 1 (Paid Tier)**: Use `caching.CachedContent.create()` + cache reuse
   - **Mode 2 (Free Tier)**: Direct model calls with full context

**Key Implementation (Free Tier Handling)**:
```python
def _create_cache(self, law_doc, content, content_hash):
    if not self.caching_available:
        return None  # Skip cache creation
    
    try:
        cache = caching.CachedContent.create(
            model="gemini-2.5-flash",
            contents=[content],
            ttl=timedelta(minutes=60)
        )
        return CacheSession(...)
    
    except Exception as e:
        if "429" in str(e) and "TotalCachedContentStorageTokensPerModelFreeTier" in str(e):
            logger.warning("Free Tier detected. Disabling caching.")
            self.caching_available = False
            return None
        raise

def generate_answer(self, cache_session, query, law_doc):
    if cache_session is not None:
        # MODE 1: Use cached content
        model = genai.GenerativeModel.from_cached_content(cache_session.cache_id)
        return model.generate_content(query).text
    else:
        # MODE 2: Fallback - direct call with full context
        content = Path(law_doc.file_path).read_text()
        model = genai.GenerativeModel("gemini-2.5-flash", system_instruction=...)
        return model.generate_content([content, query]).text
```

**Critical Feature**: System remains fully functional even when caching is unavailable.

---

### **4. Services Layer** (`services/`)

**Purpose**: Orchestrate workflows using ports (dependency injection). Business logic resides here.

#### `services/ingestion_service.py` ‚Üí **IngestionService**

**Workflow**: `URLs ‚Üí Markdown ‚Üí Embeddings ‚Üí Vector DB`

**Dependencies (injected)**:
- `DocumentProcessorPort` (e.g., DoclingAdapter)
- `EmbedderPort` (e.g., GeminiEmbedder)
- `VectorStorePort` (e.g., ChromaAdapter)

**Process**:
```python
def ingest_all_laws(self):
    laws = load_from_config("leyes_config.json")
    
    for law in laws:
        # Step 1: Process URL ‚Üí markdown
        file_path, md_content = self.processor.process_url(law['url'], law['id'])
        
        # Step 2: Extract summary (first 500 chars)
        summary = md_content[:500]
        
        # Step 3: Create LawDocument
        law_doc = LawDocument(id=law['id'], titulo=law['nombre'], 
                             file_path=file_path, summary=summary, ...)
        
        # Step 4: Generate embedding
        searchable_text = f"{law_doc.titulo}\n\n{law_doc.summary}"
        embedding = self.embedder.embed_text(searchable_text)
        
        # Step 5: Save to vector store
        self.vector_store.save_document(law_doc, embedding)
```

**Key Principle**: Service knows the *workflow*, not the *implementation details*.

#### `services/retrieval_service.py` ‚Üí **RetrievalService**

**Workflow**: `Query ‚Üí Embedding ‚Üí Search ‚Üí Cache ‚Üí Answer`

**Dependencies (injected)**:
- `EmbedderPort`
- `VectorStorePort`
- `ContextualizerPort`

**Process**:
```python
def query(self, user_query: str) -> QueryResult:
    # Step 1: Embed query
    query_embedding = self.embedder.embed_text(user_query)
    
    # Step 2: Semantic search
    similar_docs = self.vector_store.search(query_embedding, top_k=1)
    law_doc = similar_docs[0]  # Most relevant law
    
    # Step 3: Get or create cache (may return None on Free Tier)
    cache_session = self.contextualizer.get_or_create_cache(law_doc)
    
    # Step 4: Generate answer (with or without cache)
    answer = self.contextualizer.generate_answer(cache_session, user_query, law_doc)
    
    # Step 5: Return result
    return QueryResult(
        answer=answer,
        law_document=law_doc,
        cache_used=(cache_session is not None and not cache_session.is_expired),
        ...
    )
```

---

### **5. Configuration Layer** (`config/`)

#### `config/settings.py` ‚Üí **Settings**

**Technology**: Pydantic Settings (`.env` loader)

**Responsibilities**:
- Load environment variables
- Provide defaults
- Auto-create directories

**Critical Settings**:
```python
gemini_api_key: str                        # Required
llm_model: str = "gemini-2.5-flash"       # Model for generation
embedding_model: str = "models/text-embedding-004"
cache_ttl_minutes: int = 60                # Cache lifetime
processed_docs_path: Path                  # data/processed/
chroma_db_path: Path                       # data/chroma_db/
```

#### `config/leyes_config.json` ‚Üí Law Database

**Structure**:
```json
{
  "leyes": [
    {
      "numero": "24714",
      "nombre": "Sistema Integrado de Jubilaciones",
      "url": "https://...",
      "a√±o": 1996,
      "categoria": "Jubilaciones",
      "descripcion_breve": "..."
    }
  ]
}
```

---

### **6. Entry Points**

#### `scripts/setup_from_md.py` ‚Üí **Offline Ingestion Script**

**Purpose**: Initialize system using local `.md` files (bypassing URL downloads).

**When to use**: Government URLs are down, or testing with existing markdown.

**Process**:
1. Read `Anses1.md`
2. Copy to `data/processed/`
3. Generate embedding
4. Save to ChromaDB

#### `scripts/setup_db.py` ‚Üí **Online Ingestion Script**

**Purpose**: Initialize system from URLs in `leyes_config.json`.

**When to use**: When URLs are accessible and you want fresh data.

#### `main.py` ‚Üí **Streamlit UI**

**Purpose**: User-facing web interface.

**Features**:
- Query input
- Answer display
- Metadata (time, cache status, law info)
- System stats sidebar

---

## üîÑ Data Flow Diagrams

### Ingestion Flow

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ leyes_config‚îÇ
‚îÇ   .json     ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
       ‚îÇ
       ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ IngestionService ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
         ‚îÇ
         ‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∫ DocumentProcessor ‚îÄ‚îÄ‚ñ∫ URL/File ‚îÄ‚îÄ‚ñ∫ Markdown (.md)
         ‚îÇ                                              ‚îÇ
         ‚îÇ                                              ‚ñº
         ‚îÇ                                    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
         ‚îÇ                                    ‚îÇ data/processed/ ‚îÇ
         ‚îÇ                                    ‚îÇ  ley_xxx.md     ‚îÇ
         ‚îÇ                                    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
         ‚îÇ
         ‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∫ Extract summary (first 500 chars)
         ‚îÇ
         ‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∫ GeminiEmbedder ‚îÄ‚îÄ‚ñ∫ embedding vector [768 dims]
         ‚îÇ
         ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∫ ChromaAdapter ‚îÄ‚îÄ‚ñ∫ Save (embedding + metadata)
                                              ‚îÇ
                                              ‚ñº
                                    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
                                    ‚îÇ ChromaDB         ‚îÇ
                                    ‚îÇ {id, embedding,  ‚îÇ
                                    ‚îÇ  file_path, ...} ‚îÇ
                                    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### Query Flow

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ User Query   ‚îÇ
‚îÇ "¬øRequisitos?‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
       ‚îÇ
       ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇRetrievalService ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
         ‚îÇ
         ‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∫ GeminiEmbedder ‚îÄ‚îÄ‚ñ∫ query_embedding [768]
         ‚îÇ
         ‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∫ ChromaAdapter.search(query_embedding)
         ‚îÇ            ‚îÇ
         ‚îÇ            ‚ñº
         ‚îÇ       ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
         ‚îÇ       ‚îÇ Most similar:  ‚îÇ
         ‚îÇ       ‚îÇ ley_anses_001  ‚îÇ
         ‚îÇ       ‚îÇ file_path: ... ‚îÇ
         ‚îÇ       ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
         ‚îÇ                ‚îÇ
         ‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
         ‚îÇ
         ‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∫ GeminiCacheManager.get_or_create_cache(law_doc)
         ‚îÇ            ‚îÇ
         ‚îÇ            ‚îú‚îÄ‚îÄ‚ñ∫ Read file_path ‚Üí full markdown content
         ‚îÇ            ‚îî‚îÄ‚îÄ‚ñ∫ Check if cache exists (by content hash)
         ‚îÇ                 ‚îÇ
         ‚îÇ                 ‚îú‚îÄ‚ñ∫ Cache exists? ‚Üí Reuse (CacheSession)
         ‚îÇ                 ‚îî‚îÄ‚ñ∫ No cache? 
         ‚îÇ                      ‚îú‚îÄ‚ñ∫ Free Tier? ‚Üí Return None
         ‚îÇ                      ‚îî‚îÄ‚ñ∫ Paid? ‚Üí Create cache (CacheSession)
         ‚îÇ
         ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∫ GeminiCacheManager.generate_answer(cache, query, law_doc)
                  ‚îÇ
                  ‚îú‚îÄ‚ñ∫ cache != None? ‚Üí Use cached_content
                  ‚îî‚îÄ‚ñ∫ cache == None? ‚Üí Direct call with full content
                       ‚îÇ
                       ‚ñº
                  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
                  ‚îÇ Gemini 2.5     ‚îÇ
                  ‚îÇ LLM Response   ‚îÇ
                  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                           ‚îÇ
                           ‚ñº
                  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
                  ‚îÇ  QueryResult   ‚îÇ
                  ‚îÇ  - answer      ‚îÇ
                  ‚îÇ  - law_doc     ‚îÇ
                  ‚îÇ  - cache_used  ‚îÇ
                  ‚îÇ  - time_ms     ‚îÇ
                  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

## üéØ Key Design Decisions

### 1. **Document-Level RAG vs Chunk-Level RAG**

**Choice**: Document-Level

**Rationale**:
- Legal documents require full context for accurate interpretation
- Gemini 2.5 supports 2M token context (can fit entire laws)
- Eliminates chunk boundary issues
- Better citation accuracy

**Trade-off**: Slower for very large corpora (10,000+ laws). Mitigated by:
- Indexing only title+summary (fast retrieval)
- Caching full context (amortizes cost)

### 2. **Lightweight Vector Store**

**Choice**: Index title+summary, NOT full text

**Rationale**:
- Vector DB storage cost
- Faster similarity search
- Full text stored cheaply as `.md` files

**Pointer Pattern**:
```
ChromaDB: [embedding, {file_path: "/data/processed/ley_123.md"}]
                                        ‚Üì
Full Content: Read from file_path when needed
```

### 3. **Graceful Degradation (Free Tier)**

**Choice**: Detect API limits, fallback to direct calls

**Rationale**:
- System must work with free API keys
- Caching is optimization, not requirement
- Transparent to user (slower but functional)

**Implementation**:
```python
if error_429 and "FreeTier" in error:
    self.caching_available = False
    # Continue with direct model calls
```

### 4. **Content Hashing for Cache Invalidation**

**Choice**: SHA256 of markdown content

**Rationale**:
- Detect when law text changes
- Avoid serving stale cached answers
- Automatic cache refresh

```python
content_hash = hashlib.sha256(md_content.encode()).hexdigest()
cache_name = f"{law_id}_{content_hash[:8]}"
```

### 5. **Hexagonal Architecture**

**Choice**: Strict separation of concerns

**Benefits**:
- **Testability**: Mock `GeminiEmbedder` with `FakeEmbedder` for tests
- **Flexibility**: Swap ChromaDB ‚Üí Pinecone by implementing `VectorStorePort`
- **Clarity**: Dependencies flow inward (Adapters ‚Üí Ports ‚Üí Domain)

**Example of swapping**:
```python
# Original
vector_store = ChromaAdapter()

# Swap to Pinecone (just implement VectorStorePort)
vector_store = PineconeAdapter()

# Services don't change!
ingestion_service = IngestionService(..., vector_store=vector_store)
```

---

## üß™ Testing Strategy

### Unit Tests (Recommended)

```python
# Test service with mocks
def test_retrieval_service():
    fake_embedder = FakeEmbedder()
    fake_store = FakeVectorStore()
    fake_contextualizer = FakeCacheManager()
    
    service = RetrievalService(fake_embedder, fake_store, fake_contextualizer)
    result = service.query("test question")
    
    assert result.answer is not None
```

### Integration Test

See `tests/audit_performance.py` for real API integration test.

---

## üìä Performance Characteristics

### With Caching (Paid Tier)

| Metric | First Query | Subsequent Queries |
|--------|-------------|-------------------|
| Time | ~15 seconds | ~2 seconds |
| Cost | ~$0.50 | ~$0.05 |
| Tokens Input | 30,000 (full law) | 50 (query only) |
| Tokens Cached | 0 | 30,000 |

**Savings**: ~90% cost reduction, ~86% time reduction

### Without Caching (Free Tier)

| Metric | Every Query |
|--------|-------------|
| Time | ~15 seconds |
| Cost | ~$0.00 (free) |
| Tokens Input | 30,000 |

**Trade-off**: Slower, but functional and free.

---

## üîß Extension Points

### Want to add a new model provider (e.g., OpenAI)?

1. Create `adapters/embedders/openai_embedder.py` implementing `EmbedderPort`
2. Create `adapters/contextualizers/openai_manager.py` implementing `ContextualizerPort`
3. Inject in `main.py`:
   ```python
   embedder = OpenAIEmbedder()
   contextualizer = OpenAICacheManager()
   ```

No changes to domain, ports, or services required!

### Want to add multi-law queries?

Modify `retrieval_service.py`:
```python
def query_multi_law(self, user_query: str, top_k: int = 3):
    similar_docs = self.vector_store.search(query_embedding, top_k=3)
    
    # Combine contexts
    combined_context = "\n\n".join([
        Path(doc.file_path).read_text() for doc in similar_docs
    ])
    
    # Generate answer with combined context
    ...
```

### Want to add authentication?

Add `adapters/auth/` with `AuthPort`, implement with Firebase/Auth0/etc. Inject into `main.py`.

---

## üìù Summary for AI Models

**If you're an AI model maintaining/extending this codebase:**

1. **Respect the hexagonal architecture**: Changes to external APIs go in `adapters/`, not `services/`
2. **Use dependency injection**: Services receive ports, not concrete classes
3. **Free Tier is a first-class citizen**: Always handle `caching_available = False`
4. **File paths are absolute**: All paths use `settings.processed_docs_path` / `chroma_db_path`
5. **Content hashing is critical**: Don't bypass it or cache invalidation breaks
6. **Document-level is the strategy**: Don't chunk without understanding the trade-offs

**Common modification patterns**:
- Adding a feature ‚Üí Update `services/`
- Swapping technology ‚Üí Replace `adapters/`, keep same port
- New data model ‚Üí Add to `domain/models.py`
- Configuration change ‚Üí Edit `settings.py` and `.env`

---

## üìö References

- **Hexagonal Architecture**: Alistair Cockburn (2005)
- **Gemini Context Caching**: https://ai.google.dev/gemini-api/docs/caching
- **ChromaDB**: https://docs.trychroma.com/
- **Docling**: https://github.com/DS4SD/docling

---

**Version**: 1.0.0  
**Last Updated**: 2025-12-07  
**Maintainer**: System Architect

```

### [FILE] rag_app\domain\api_schemas.py
```py
"""Pydantic schemas for API request/response validation."""
from pydantic import BaseModel, Field
from typing import Optional, List, Dict, Any
from datetime import datetime


# ============================================================================
# Chat Endpoints
# ============================================================================

class ChatRequest(BaseModel):
    """Request schema for /api/v1/chat endpoint."""
    query: str = Field(..., description="User's question about legal documents", min_length=1)
    session_id: Optional[str] = Field(None, description="Session ID for conversation context")
    
    class Config:
        json_schema_extra = {
            "example": {
                "query": "¬øCu√°les son los requisitos para jubilarse?",
                "session_id": "user-session-123"
            }
        }


class LawDocumentResponse(BaseModel):
    """Schema for law document in responses."""
    id: str
    titulo: str
    url: str
    summary: Optional[str] = None
    metadata: Dict[str, Any] = {}


class ChatResponse(BaseModel):
    """Response schema for /api/v1/chat endpoint."""
    answer: str = Field(..., description="Generated answer from RAG system")
    law_document: LawDocumentResponse = Field(..., description="Source law document")
    confidence_score: float = Field(..., ge=0.0, le=1.0, description="Confidence score")
    cache_used: bool = Field(..., description="Whether cached context was used")
    cache_id: Optional[str] = Field(None, description="Cache ID if applicable")
    response_time_ms: float = Field(..., description="Response time in milliseconds")
    session_id: Optional[str] = Field(None, description="Session ID if provided")
    
    class Config:
        json_schema_extra = {
            "example": {
                "answer": "Los requisitos para jubilarse incluyen...",
                "law_document": {
                    "id": "ley_24241",
                    "titulo": "Ley 24241 - Sistema Integrado de Jubilaciones y Pensiones",
                    "url": "https://example.com/ley24241",
                    "summary": "Norma que regula el sistema previsional argentino",
                    "metadata": {"categoria": "Jubilaciones"}
                },
                "confidence_score": 0.95,
                "cache_used": True,
                "cache_id": "cache_abc123",
                "response_time_ms": 234.5,
                "session_id": "user-session-123"
            }
        }


# ============================================================================
# Document Management Endpoints
# ============================================================================

class DocumentUploadResponse(BaseModel):
    """Response schema for document upload."""
    success: bool
    message: str
    document_id: Optional[str] = None
    titulo: Optional[str] = None
    
    class Config:
        json_schema_extra = {
            "example": {
                "success": True,
                "message": "Documento procesado e indexado exitosamente",
                "document_id": "ley_27000",
                "titulo": "Ley 27000 - Nueva Ley de Seguridad Social"
            }
        }


class DocumentListItem(BaseModel):
    """Schema for individual document in list."""
    id: str
    titulo: str
    url: str
    summary: Optional[str] = None
    categoria: Optional[str] = None


class DocumentListResponse(BaseModel):
    """Response schema for /api/v1/documents endpoint."""
    documents: List[DocumentListItem]
    total: int
    
    class Config:
        json_schema_extra = {
            "example": {
                "documents": [
                    {
                        "id": "ley_24241",
                        "titulo": "Ley 24241 - Sistema Integrado de Jubilaciones y Pensiones",
                        "url": "https://example.com/ley24241",
                        "summary": "Norma que regula el sistema previsional argentino",
                        "categoria": "Jubilaciones"
                    }
                ],
                "total": 1
            }
        }


class DocumentDetailResponse(BaseModel):
    """Response schema for /api/v1/documents/{law_id} endpoint."""
    id: str
    titulo: str
    url: str
    file_path: Optional[str] = None
    summary: Optional[str] = None
    metadata: Dict[str, Any] = {}
    
    class Config:
        json_schema_extra = {
            "example": {
                "id": "ley_24241",
                "titulo": "Ley 24241 - Sistema Integrado de Jubilaciones y Pensiones",
                "url": "https://example.com/ley24241",
                "file_path": "/data/processed/ley_24241.md",
                "summary": "Norma que regula el sistema previsional argentino",
                "metadata": {
                    "numero": "24241",
                    "a√±o": "1993",
                    "categoria": "Jubilaciones"
                }
            }
        }


# ============================================================================
# System Endpoints
# ============================================================================

class HealthResponse(BaseModel):
    """Response schema for /health endpoint."""
    status: str
    timestamp: datetime
    version: str
    services: Dict[str, str] = {}
    
    class Config:
        json_schema_extra = {
            "example": {
                "status": "healthy",
                "timestamp": "2024-01-15T10:30:00Z",
                "version": "1.0.0",
                "services": {
                    "vector_store": "ok",
                    "embedder": "ok",
                    "contextualizer": "ok"
                }
            }
        }


class ErrorResponse(BaseModel):
    """Standardized error response schema."""
    error: str = Field(..., description="Error type")
    message: str = Field(..., description="Human-readable error message")
    details: Optional[Dict[str, Any]] = Field(None, description="Additional error details")
    
    class Config:
        json_schema_extra = {
            "example": {
                "error": "ValidationError",
                "message": "La consulta no puede estar vac√≠a",
                "details": {"field": "query"}
            }
        }

```

### [FILE] rag_app\domain\models.py
```py
from dataclasses import dataclass, field
from typing import Optional, Dict, List
from datetime import datetime
import hashlib


@dataclass
class LawDocument:
    """Represents a complete legal document (law) in the system."""
    id: str
    titulo: str
    url: str
    file_path: Optional[str] = None  # Path to the processed .md file
    summary: Optional[str] = None  # Brief summary for embedding
    metadata: Dict[str, any] = field(default_factory=dict)
    
    def __post_init__(self):
        """Ensure ID is set based on law number if not provided."""
        if not self.id and 'numero' in self.metadata:
            self.id = f"ley_{self.metadata['numero']}"
    
    @property
    def searchable_text(self) -> str:
        """Text used for embedding: title + summary."""
        parts = [self.titulo]
        if self.summary:
            parts.append(self.summary)
        return " | ".join(parts)


@dataclass
class CacheSession:
    """Represents a Gemini API cached content session."""
    cache_id: str  # Google's cache ID
    law_id: str  # Reference to LawDocument
    content_hash: str  # SHA256 hash of the markdown content
    expiration_time: datetime
    model_name: str = "models/gemini-1.5-pro"
    created_at: datetime = field(default_factory=datetime.now)
    
    @property
    def is_expired(self) -> bool:
        """Check if the cache has expired."""
        return datetime.now() >= self.expiration_time
    
    @staticmethod
    def compute_content_hash(content: str) -> str:
        """Compute SHA256 hash of content for cache validation."""
        return hashlib.sha256(content.encode('utf-8')).hexdigest()


@dataclass
class QueryResult:
    """Result of a user query against the RAG system."""
    answer: str
    law_document: LawDocument
    confidence_score: float = 0.0
    cache_used: bool = False
    cache_id: Optional[str] = None
    response_time_ms: Optional[float] = None
    
    def to_dict(self) -> Dict:
        """Convert to dictionary for serialization."""
        return {
            'answer': self.answer,
            'law_title': self.law_document.titulo,
            'law_id': self.law_document.id,
            'confidence_score': self.confidence_score,
            'cache_used': self.cache_used,
            'response_time_ms': self.response_time_ms
        }
    
```

### [FILE] rag_app\domain\__init__.py
```py

```

### [FILE] rag_app\pipelines\__init__.py
```py

```

### [FILE] rag_app\ports\chunker.py
```py
from typing import Protocol, Tuple
from rag_app.domain.models import LawDocument


class DocumentProcessorPort(Protocol):
    """Port for processing legal documents from web URLs to structured markdown."""
    
    def process_url(self, url: str, law_id: str) -> Tuple[str, str]:
        """
        Process a law URL and convert to markdown.
        
        Args:
            url: URL of the legal document
            law_id: Unique identifier for the law
            
        Returns:
            Tuple of (file_path, markdown_content)
        """
        ...

```

### [FILE] rag_app\ports\contextualizer.py
```py
from typing import Protocol, List, Optional
from rag_app.domain.models import LawDocument, CacheSession


class ContextualizerPort(Protocol):
    """Port for managing Gemini API context caching and answer generation."""
    
    def get_or_create_cache(self, law_doc: LawDocument) -> CacheSession:
        """
        Get existing cache or create new one for a law document.
        
        This method:
        1. Reads the markdown file from law_doc.file_path
        2. Computes content hash
        3. Checks if an active cache exists for this content
        4. Returns existing cache or creates new one
        
        Args:
            law_doc: LawDocument with file_path to the markdown content
            
        Returns:
            CacheSession with cache metadata
        """
        ...
    
    def generate_answer(self, cache_session: CacheSession, query: str) -> str:
        """
        Generate answer to a query using the cached context.
        
        Args:
            cache_session: Active cache session
            query: User's question
            
        Returns:
            Generated answer from the LLM
        """
        ...
    
    def list_active_caches(self) -> List[CacheSession]:
        """
        List all active (non-expired) cache sessions.
        
        Returns:
            List of active CacheSession instances
        """
        ...
    
    def delete_cache(self, cache_id: str) -> bool:
        """
        Delete a specific cache from Gemini API.
        
        Args:
            cache_id: Google cache identifier
            
        Returns:
            True if deleted successfully, False otherwise
        """
        ...

```

### [FILE] rag_app\ports\embedder.py
```py
from typing import Protocol, List


class EmbedderPort(Protocol):
    """Port for generating text embeddings."""
    
    def embed_text(self, text: str) -> List[float]:
        """
        Generate embedding for a single text.
        
        Args:
            text: Input text to embed
            
        Returns:
            List of floats representing the embedding vector
        """
        ...
    
    def embed_batch(self, texts: List[str]) -> List[List[float]]:
        """
        Generate embeddings for multiple texts in batch.
        
        Args:
            texts: List of input texts to embed
            
        Returns:
            List of embedding vectors
        """
        ...

```

### [FILE] rag_app\ports\vector_store.py
```py
from typing import Protocol, List, Optional
from rag_app.domain.models import LawDocument


class VectorStorePort(Protocol):
    """Port for vector database operations."""
    
    def save_document(self, law_doc: LawDocument, embedding: List[float]) -> None:
        """
        Save a law document with its embedding to the vector store.
        
        Args:
            law_doc: LawDocument instance with metadata
            embedding: Embedding vector for the document's searchable text
        """
        ...
    
    def search(self, query_embedding: List[float], top_k: int = 3) -> List[LawDocument]:
        """
        Search for similar documents using vector similarity.
        
        Args:
            query_embedding: Query embedding vector
            top_k: Number of top results to return
            
        Returns:
            List of most similar LawDocument instances
        """
        ...
    
    def get_by_id(self, doc_id: str) -> Optional[LawDocument]:
        """
        Retrieve a document by its ID.
        
        Args:
            doc_id: Document identifier
            
        Returns:
            LawDocument if found, None otherwise
        """
        ...
    
    def delete_document(self, doc_id: str) -> bool:
        """
        Delete a document from the vector store.
        
        Args:
            doc_id: Document identifier
            
        Returns:
            True if deleted successfully, False otherwise
        """
        ...
    
    def count_documents(self) -> int:
        """
        Get total count of documents in the store.
        
        Returns:
            Number of documents
        """
        ...

```

### [FILE] rag_app\ports\__init__.py
```py

```

### [FILE] rag_app\scripts\bootstrap_env.py
```py
import os
import shutil
import sys
from pathlib import Path

# C√≥digos de color ANSI para una UX de terminal moderna
class Colors:
    HEADER = '\033[95m'
    OKBLUE = '\033[94m'
    OKGREEN = '\033[92m'
    WARNING = '\033[93m'
    FAIL = '\033[91m'
    ENDC = '\033[0m'
    BOLD = '\033[1m'

def bootstrap():
    """
    Configura el entorno de desarrollo local.
    1. Crea .env desde la plantilla .env.example
    2. Solicita la GEMINI_API_KEY al usuario
    """
    print(f"{Colors.HEADER}{Colors.BOLD}ü§ñ Iniciando Bootstrap del Entorno de Desarrollo{Colors.ENDC}")
    
    # Resolver rutas absolutas bas√°ndose en la ubicaci√≥n de este script
    # Script est√° en: rag_app/scripts/bootstrap_env.py
    # Ra√≠z del proyecto (rag_app) es: parent.parent
    current_script = Path(__file__).resolve()
    rag_app_dir = current_script.parent.parent
    
    env_path = rag_app_dir / ".env"
    
    # Buscamos el ejemplo en varios lugares posibles por robustez
    possible_examples = [
        rag_app_dir / "config" / ".env.example", # Recomendado
        rag_app_dir / ".env.example"             # Alternativa ra√≠z app
    ]
    
    example_path = next((p for p in possible_examples if p.exists()), None)

    # 1. Validaci√≥n de Pre-requisitos
    if not example_path:
        print(f"{Colors.FAIL}‚ùå Error Cr√≠tico: No se encontr√≥ .env.example.{Colors.ENDC}")
        print(f"   Aseg√∫rate de haber creado 'rag_app/.env.example' antes de correr esto.")
        sys.exit(1)

    # 2. Verificar si ya existe configuraci√≥n
    if env_path.exists():
        print(f"{Colors.OKBLUE}‚ÑπÔ∏è  El archivo .env ya existe.{Colors.ENDC}")
        print("   No se realizar√°n cambios para proteger tu configuraci√≥n actual.")
        return

    # 3. Creaci√≥n del archivo desde plantilla
    print(f"{Colors.WARNING}‚ö†Ô∏è  Configuraci√≥n local no detectada.{Colors.ENDC}")
    print(f"   Clonando plantilla desde: {example_path.name}...")
    
    try:
        shutil.copy(example_path, env_path)
        print(f"{Colors.OKGREEN}‚úÖ Archivo base creado.{Colors.ENDC}")
    except Exception as e:
        print(f"{Colors.FAIL}‚ùå Error al copiar archivo: {e}{Colors.ENDC}")
        sys.exit(1)

    # 4. Automatizaci√≥n BYOK (Input Interactivo)
    print("\n" + "-"*60)
    print(f"{Colors.BOLD}üîë CONFIGURACI√ìN DE CREDENCIALES (BYOK){Colors.ENDC}")
    print("   Para funcionar, el bot necesita una API Key de Google Gemini.")
    print("   Obtenla gratis aqu√≠: https://aistudio.google.com/app/apikey")
    print("-" * 60)
    
    api_key = input(f"{Colors.OKBLUE}Peg√° tu GEMINI_API_KEY aqu√≠ (Enter para omitir): {Colors.ENDC}").strip()

    if api_key:
        try:
            # Leemos el archivo reci√©n creado
            with open(env_path, "r", encoding="utf-8") as f:
                content = f.read()
            
            # Reemplazamos la variable vac√≠a o agregamos al final
            if "GEMINI_API_KEY=" in content:
                new_content = content.replace("GEMINI_API_KEY=", f"GEMINI_API_KEY={api_key}")
            else:
                new_content = content + f"\nGEMINI_API_KEY={api_key}\n"
            
            # Guardamos
            with open(env_path, "w", encoding="utf-8") as f:
                f.write(new_content)
                
            print(f"\n{Colors.OKGREEN}‚ú® ¬°Configuraci√≥n completada exitosamente!{Colors.ENDC}")
            print(f"   Archivo guardado en: {env_path}")
            
        except Exception as e:
            print(f"{Colors.FAIL}‚ùå Error escribiendo la clave: {e}{Colors.ENDC}")
    else:
        print(f"\n{Colors.WARNING}‚ö†Ô∏è  Has omitido la clave.{Colors.ENDC}")
        print(f"   Recuerda editar {env_path} manualmente antes de iniciar el servidor.")

if __name__ == "__main__":
    bootstrap()
```

### [FILE] rag_app\scripts\reset_db.py
```py
#!/usr/bin/env python3
"""Reset the ChromaDB database by removing all documents.

This script provides an interactive way to clear the entire vector database.
It can be run with confirmation prompts or forced with --force flag.

Usage:
    # Interactive mode (asks for confirmation)
    python -m rag_app.scripts.reset_db
    
    # Force mode (no confirmation)
    python -m rag_app.scripts.reset_db --force
    
    # Verbose mode
    python -m rag_app.scripts.reset_db --verbose
"""
import argparse
import logging
import sys
from pathlib import Path

# Add parent directory to path
sys.path.insert(0, str(Path(__file__).parent.parent.parent))

from rag_app.config.settings import settings
from rag_app.utils.logger import configure_logging
from rag_app.adapters.stores.chroma_adapter import ChromaAdapter
from rag_app.services.removal_service import RemovalService

logger = logging.getLogger(__name__)


def confirm_reset() -> bool:
    """
    Prompt user for confirmation before resetting database.
    
    Returns:
        True if user confirms, False otherwise
    """
    print("\n‚ö†Ô∏è  WARNING: This will DELETE ALL documents from the vector database!")
    print(f"   Database location: {settings.chroma_db_path}")
    print(f"   Collection: {settings.chroma_collection_name}\n")
    
    response = input("Are you sure you want to continue? Type 'yes' to confirm: ")
    return response.lower() == 'yes'


def main():
    """Main function to reset the database."""
    # Parse arguments
    parser = argparse.ArgumentParser(
        description="Reset ChromaDB database by removing all documents"
    )
    parser.add_argument(
        '--force', '-f',
        action='store_true',
        help='Skip confirmation prompt and delete immediately'
    )
    parser.add_argument(
        '--verbose', '-v',
        action='store_true',
        help='Enable verbose logging'
    )
    
    args = parser.parse_args()
    
    # Configure logging
    log_level = logging.DEBUG if args.verbose else logging.INFO
    configure_logging(level=log_level)
    
    logger.info("=" * 60)
    logger.info("ChromaDB Reset Script")
    logger.info("=" * 60)
    
    try:
        # Initialize services
        logger.info("Initializing vector store...")
        vector_store = ChromaAdapter()
        removal_service = RemovalService(vector_store=vector_store)
        
        # Get current document count
        doc_count = removal_service.get_document_count()
        logger.info(f"Current documents in database: {doc_count}")
        
        if doc_count == 0:
            print("\n‚úì Database is already empty. Nothing to reset.")
            return 0
        
        # Show document list if verbose
        if args.verbose:
            doc_ids = removal_service.list_all_documents()
            print(f"\nDocuments to be deleted ({len(doc_ids)}):")
            for doc_id in doc_ids:
                print(f"  - {doc_id}")
            print()
        
        # Confirm or force
        if not args.force:
            if not confirm_reset():
                print("\n‚ùå Reset cancelled by user.")
                return 1
        else:
            logger.info("Force mode enabled - skipping confirmation")
        
        # Perform reset
        print("\nüóëÔ∏è  Deleting all documents...")
        deleted_count = removal_service.remove_all_documents()
        
        # Verify
        final_count = removal_service.get_document_count()
        
        if final_count == 0:
            print(f"\n‚úÖ Successfully deleted {deleted_count} documents")
            print("   Database and processed files have been cleaned.")
            logger.info("Database reset completed successfully")
            return 0
        else:
            print(f"\n‚ö†Ô∏è  Warning: {final_count} documents still remain in database")
            logger.warning(f"Reset incomplete: {final_count} documents remain")
            return 1
            
    except KeyboardInterrupt:
        print("\n\n‚ùå Reset cancelled by user (Ctrl+C)")
        return 1
        
    except Exception as e:
        logger.error(f"Error during reset: {e}", exc_info=True)
        print(f"\n‚ùå Error: {e}")
        return 1


if __name__ == "__main__":
    sys.exit(main())

```

### [FILE] rag_app\scripts\setup_db.py
```py
#!/usr/bin/env python3
"""
Setup script for initial database ingestion.

This script processes all laws from leyes_config.json and populates
the vector database.
"""

import sys
import logging
from pathlib import Path

# Add parent directory to path
sys.path.insert(0, str(Path(__file__).parent.parent.parent))

from rag_app.config.settings import settings
from rag_app.utils.logger import configure_logging
from rag_app.adapters.chunkers.docling_adapter import DoclingAdapter
from rag_app.adapters.embedders.gemini_embedder import GeminiEmbedder
from rag_app.adapters.stores.chroma_adapter import ChromaAdapter
from rag_app.services.ingestion_service import IngestionService


def main():
    """Main setup function."""
    # Configure logging
    configure_logging(level=logging.INFO)
    logger = logging.getLogger(__name__)
    
    logger.info("=" * 60)
    logger.info("Starting Legal AI RAG Database Setup")
    logger.info("=" * 60)
    
    try:
        # Check for API key
        if not settings.gemini_api_key:
            logger.error("GEMINI_API_KEY not found in environment variables!")
            logger.error("Please set GEMINI_API_KEY before running this script.")
            sys.exit(1)
        
        logger.info(f"Processed docs path: {settings.processed_docs_path}")
        logger.info(f"ChromaDB path: {settings.chroma_db_path}")
        
        # Initialize adapters
        logger.info("\n[1/4] Initializing adapters...")
        document_processor = DoclingAdapter()
        embedder = GeminiEmbedder()
        vector_store = ChromaAdapter()
        
        # Create ingestion service
        logger.info("[2/4] Creating ingestion service...")
        ingestion_service = IngestionService(
            document_processor=document_processor,
            embedder=embedder,
            vector_store=vector_store
        )
        
        # Run ingestion
        logger.info("[3/4] Starting ingestion process...")
        processed_docs = ingestion_service.ingest_from_config()
        
        # Summary
        logger.info("\n[4/4] Ingestion Summary:")
        logger.info("=" * 60)
        logger.info(f"Total laws processed: {len(processed_docs)}")
        
        for doc in processed_docs:
            logger.info(f"  ‚úì {doc.id}: {doc.titulo}")
            logger.info(f"    File: {doc.file_path}")
        
        logger.info("=" * 60)
        logger.info("‚úì Database setup completed successfully!")
        logger.info("=" * 60)
        
        # Show database stats
        total_docs = vector_store.count_documents()
        logger.info(f"\nVector database contains {total_docs} documents")
        
    except Exception as e:
        logger.error(f"\n‚úó Setup failed with error: {e}", exc_info=True)
        sys.exit(1)


if __name__ == "__main__":
    main()

```

### [FILE] rag_app\scripts\setup_from_md.py
```py
#!/usr/bin/env python3
"""
Setup script using existing Anses1.md file for testing.

This script bypasses URL downloading and uses the pre-existing
markdown file directly.
"""

import sys
import logging
from pathlib import Path

# Add parent directory to path
sys.path.insert(0, str(Path(__file__).parent.parent.parent))

from rag_app.config.settings import settings
from rag_app.utils.logger import configure_logging
from rag_app.adapters.embedders.gemini_embedder import GeminiEmbedder
from rag_app.adapters.stores.chroma_adapter import ChromaAdapter
from rag_app.domain.models import LawDocument


def ingest_from_markdown_file(md_file_path: str, law_id: str, titulo: str, summary: str):
    """
    Ingest a law document from an existing markdown file.
    
    Args:
        md_file_path: Path to the markdown file
        law_id: Unique identifier for the law
        titulo: Title of the law
        summary: Brief summary for embedding
    """
    logger = logging.getLogger(__name__)
    
    # Read markdown file
    md_path = Path(md_file_path)
    if not md_path.exists():
        raise FileNotFoundError(f"Markdown file not found: {md_file_path}")
    
    markdown_content = md_path.read_text(encoding='utf-8')
    logger.info(f"Read {len(markdown_content)} characters from {md_path}")
    
    # Copy to processed directory
    processed_path = settings.processed_docs_path / f"{law_id}.md"
    processed_path.write_text(markdown_content, encoding='utf-8')
    logger.info(f"Copied to processed directory: {processed_path}")
    
    # Create LawDocument
    law_doc = LawDocument(
        id=law_id,
        titulo=titulo,
        url="file://" + str(md_path.absolute()),
        file_path=str(processed_path),
        summary=summary,
        metadata={
            'numero': 'ANSES-001',
            'a√±o': 2024,
            'categoria': 'Seguridad Social',
            'descripcion_breve': 'Documento de ANSES sobre seguridad social'
        }
    )
    
    # Generate embedding for searchable text
    logger.info("Generating embedding...")
    embedder = GeminiEmbedder()
    searchable_text = law_doc.searchable_text
    embedding = embedder.embed_text(searchable_text)
    logger.info(f"Generated embedding of dimension {len(embedding)}")
    
    # Save to vector store
    logger.info("Saving to vector store...")
    vector_store = ChromaAdapter()
    vector_store.save_document(law_doc, embedding)
    logger.info(f"‚úì Successfully saved {law_id} to vector store")
    
    return law_doc


def main():
    """Main setup function."""
    configure_logging(level=logging.INFO)
    logger = logging.getLogger(__name__)
    
    logger.info("=" * 60)
    logger.info("ANSES1.md Test Setup - Using Pre-existing Markdown")
    logger.info("=" * 60)
    
    try:
        # Check for API key
        if not settings.gemini_api_key:
            logger.error("GEMINI_API_KEY not found in environment variables!")
            logger.error("Please set GEMINI_API_KEY before running this script.")
            sys.exit(1)
        
        logger.info(f"Processed docs path: {settings.processed_docs_path}")
        logger.info(f"ChromaDB path: {settings.chroma_db_path}")
        
        # Find Anses1.md file
        md_file = Path("rag_app/Anses1.md")
        if not md_file.exists():
            # Try alternative location
            md_file = Path("Documentos_Anses/Anses1.md")
        
        if not md_file.exists():
            logger.error("Could not find Anses1.md file!")
            logger.error("Searched in: rag_app/Anses1.md and Documentos_Anses/Anses1.md")
            sys.exit(1)
        
        logger.info(f"Found markdown file: {md_file.absolute()}")
        logger.info("")
        
        # Ingest the document
        logger.info("[1/3] Processing Anses1.md...")
        law_doc = ingest_from_markdown_file(
            md_file_path=str(md_file),
            law_id="ley_anses_001",
            titulo="Documento ANSES - Seguridad Social",
            summary="Documento completo de ANSES sobre leyes y regulaciones de seguridad social en Argentina"
        )
        
        logger.info("")
        logger.info("[2/3] Document Information:")
        logger.info(f"  ID: {law_doc.id}")
        logger.info(f"  Title: {law_doc.titulo}")
        logger.info(f"  File: {law_doc.file_path}")
        logger.info(f"  Summary: {law_doc.summary[:100]}...")
        
        logger.info("")
        logger.info("[3/3] Verification:")
        vector_store = ChromaAdapter()
        total_docs = vector_store.count_documents()
        logger.info(f"  Vector database contains {total_docs} document(s)")
        
        logger.info("")
        logger.info("=" * 60)
        logger.info("‚úì Setup completed successfully!")
        logger.info("=" * 60)
        logger.info("")
        logger.info("Next steps:")
        logger.info("1. Test with: python -m rag_app.tests.audit_performance")
        logger.info("2. Launch UI: streamlit run rag_app/main.py")
        logger.info("")
        
    except Exception as e:
        logger.error(f"\n‚úó Setup failed with error: {e}", exc_info=True)
        sys.exit(1)


if __name__ == "__main__":
    main()

```

### [FILE] rag_app\scripts\test_hybridChunker.py
```py
from rag_app.domain.models import Law
from rag_app.adapters.chunkers.hybrid_chunker import Hybrid_chunker
from pathlib import Path
import json

def main():
    path_json = Path("./rag_app/config/leyes_config.json")

    # Leer el archivo y cargarlo como diccionario
    with path_json.open("r", encoding="utf-8") as f:
        data = json.load(f)
    ley=data["leyes"][0]
    # Tomar la primera ley

    print(ley)
    ley_1 = Law(**ley)

    chunker = Hybrid_chunker()
    chunks = chunker.chunk_law(ley_1)
    for i, chunk in enumerate(chunks):
        print(f"\nüîπ Chunk {i}")
        print("Texto:", chunk.text)
        print("Metadata:", "ley numero:", chunk.metadata["ley_numero"], "nombre de ley:", chunk.metadata["ley_nombre"], "a√±o:", chunk.metadata["ley_a√±o"])

if __name__ == "__main__":
    main()
```

### [FILE] rag_app\scripts\verify_setup.sh
```sh
#!/bin/bash
# Script de verificaci√≥n de instalaci√≥n

echo "üîç Verificando instalaci√≥n del Legal AI RAG..."
echo ""

# Check Python version
echo "‚úì Python version:"
python --version
echo ""

# Check if uv is installed
if command -v uv &> /dev/null; then
    echo "‚úì uv est√° instalado:"
    uv --version
else
    echo "‚ö†Ô∏è  uv no est√° instalado (opcional)"
fi
echo ""

# Check dependencies
echo "‚úì Dependencias instaladas:"
python -c "import google.generativeai; print('  - google-generativeai:', google.generativeai.__version__)"
python -c "import streamlit; print('  - streamlit:', streamlit.__version__)"
python -c "import chromadb; print('  - chromadb:', chromadb.__version__)"
python -c "import docling; print('  - docling:', docling.__version__)"
echo ""

# Check for .env file
if [ -f "rag_app/.env" ]; then
    echo "‚úì Archivo .env encontrado"
    if grep -q "GEMINI_API_KEY=" rag_app/.env; then
        echo "  API key configurada"
    else
        echo "  ‚ö†Ô∏è  GEMINI_API_KEY no configurado en .env"
    fi
else
    echo "‚ö†Ô∏è  Archivo .env no encontrado en rag_app/"
    echo "   Crealo con: cd rag_app && echo 'GEMINI_API_KEY=tu_key' > .env"
fi
echo ""

# Check for Anses1.md
if [ -f "rag_app/Anses1.md" ]; then
    echo "‚úì Anses1.md encontrado en rag_app/"
elif [ -f "Documentos_Anses/Anses1.md" ]; then
    echo "‚úì Anses1.md encontrado en Documentos_Anses/"
else
    echo "‚ö†Ô∏è  Anses1.md no encontrado"
fi
echo ""

echo "==================================="
echo "Pr√≥ximos pasos:"
echo "1. Si no ten√©s .env: cd rag_app && echo 'GEMINI_API_KEY=tu_key' > .env"
echo "2. Ejecutar setup: python -m rag_app.scripts.setup_from_md"
echo "3. Probar: python -m rag_app.tests.audit_performance"
echo "4. Lanzar UI: streamlit run rag_app/main.py"
echo "==================================="

```

### [FILE] rag_app\scripts\__init__.py
```py

```

### [FILE] rag_app\services\ingestion_service.py
```py
import json
import logging
from pathlib import Path
from typing import List

from rag_app.domain.models import LawDocument
from rag_app.config.settings import settings

logger = logging.getLogger(__name__)


class IngestionService:
    """Service for ingesting laws: Web ‚Üí MD ‚Üí Vector"""
    
    def __init__(self, document_processor, embedder, vector_store):
        """
        Initialize ingestion service with dependencies.
        
        Args:
            document_processor: Implementation of DocumentProcessorPort
            embedder: Implementation of EmbedderPort
            vector_store: Implementation of VectorStorePort
        """
        self.document_processor = document_processor
        self.embedder = embedder
        self.vector_store = vector_store
    
    def ingest_from_config(self, config_path: str = None) -> List[LawDocument]:
        """
        Ingest all laws from the configuration file.
        
        Args:
            config_path: Path to leyes_config.json (defaults to settings)
            
        Returns:
            List of processed LawDocument instances
        """
        if config_path is None:
            config_path = Path(settings.base_dir) / "rag_app" / "config" / "leyes_config.json"
        
        logger.info(f"Loading configuration from {config_path}")
        
        with open(config_path, 'r', encoding='utf-8') as f:
            config = json.load(f)
        
        laws = config.get('leyes', [])
        logger.info(f"Found {len(laws)} laws to process")
        
        processed_docs = []
        
        for law_config in laws:
            try:
                law_doc = self.ingest_law(law_config)
                processed_docs.append(law_doc)
                logger.info(f"‚úì Successfully ingested law {law_doc.id}")
            except Exception as e:
                logger.error(f"‚úó Failed to ingest law {law_config.get('numero')}: {e}")
        
        logger.info(f"Ingestion complete: {len(processed_docs)}/{len(laws)} laws processed")
        return processed_docs
    
    def ingest_law(self, law_config: dict) -> LawDocument:
        """
        Ingest a single law from configuration.
        
        Args:
            law_config: Dictionary with law metadata
            
        Returns:
            Processed and indexed LawDocument
        """
        # Extract law metadata
        numero = law_config['numero']
        nombre = law_config['nombre']
        url = law_config['url']
        law_id = f"ley_{numero}"
        
        logger.info(f"Processing law {law_id}: {nombre}")
        
        # Step 1: Process URL ‚Üí Markdown
        file_path, markdown_content = self.document_processor.process_url(url, law_id)
        
        # Step 2: Extract summary (first 500 characters or first paragraph)
        summary = self._extract_summary(markdown_content, nombre)
        
        # Step 3: Create LawDocument
        law_doc = LawDocument(
            id=law_id,
            titulo=nombre,
            url=url,
            file_path=file_path,
            summary=summary,
            metadata={
                'numero': numero,
                'a√±o': law_config.get('a√±o'),
                'categoria': law_config.get('categoria'),
                'descripcion_breve': law_config.get('descripcion_breve', '')
            }
        )
        
        # Step 4: Generate embedding for searchable text (title + summary)
        searchable_text = law_doc.searchable_text
        embedding = self.embedder.embed_text(searchable_text)
        
        # Step 5: Save to vector store
        self.vector_store.save_document(law_doc, embedding)
        
        return law_doc
    
    def _extract_summary(self, markdown_content: str, title: str) -> str:
        """
        Extract a summary from markdown content.
        
        Args:
            markdown_content: Full markdown text
            title: Law title
            
        Returns:
            Brief summary text
        """
        # Take first 500 characters as summary, or find first meaningful paragraph
        lines = markdown_content.split('\n')
        
        summary_parts = []
        char_count = 0
        max_chars = 500
        
        for line in lines:
            line = line.strip()
            # Skip empty lines and headers that match the title
            if not line or line.startswith('#'):
                continue
            
            summary_parts.append(line)
            char_count += len(line)
            
            if char_count >= max_chars:
                break
        
        summary = ' '.join(summary_parts)[:max_chars]
        
        if len(summary) < 50:
            # Fallback: use title if summary is too short
            summary = f"Texto completo de la {title}"
        
        return summary

```

### [FILE] rag_app\services\removal_service.py
```py
"""Service for removing documents from the vector database.

This service handles document removal operations, following the hexagonal
architecture pattern by accepting a vector store port dependency.
"""
import logging
from pathlib import Path
from typing import List, Optional

logger = logging.getLogger(__name__)


class RemovalService:
    """Service for removing documents from the vector store."""
    
    def __init__(self, vector_store):
        """
        Initialize removal service with dependencies.
        
        Args:
            vector_store: Implementation of VectorStorePort (e.g., ChromaAdapter)
        """
        self.vector_store = vector_store
    
    def remove_document(self, doc_id: str) -> bool:
        """
        Remove a single document by its ID and its associated file.
        
        Args:
            doc_id: Document identifier
            
        Returns:
            True if document was deleted successfully, False otherwise
        """
        try:
            logger.info(f"Removing document: {doc_id}")
            
            # Get document BEFORE deleting to retrieve file_path
            law_doc = self.vector_store.get_by_id(doc_id)
            
            # Delete from vector store
            result = self.vector_store.delete_document(doc_id)
            
            if result:
                # Delete associated markdown file if it exists
                if law_doc and law_doc.file_path:
                    self._delete_file(law_doc.file_path)
                logger.info(f"‚úì Successfully removed document and file: {doc_id}")
            else:
                logger.warning(f"‚úó Document not found or could not be deleted: {doc_id}")
            
            return result
            
        except Exception as e:
            logger.error(f"Error removing document {doc_id}: {e}")
            return False
    
    def remove_all_documents(self) -> int:
        """
        Remove all documents from the vector store and their associated files.
        
        Returns:
            Number of documents deleted
        """
        try:
            logger.info("Removing all documents from vector store...")
            
            # Get current count
            count_before = self.vector_store.count_documents()
            logger.info(f"Found {count_before} documents to remove")
            
            if count_before == 0:
                logger.info("Vector store is already empty")
                return 0
            
            # Get all document IDs and their file paths BEFORE deleting
            doc_ids = self.list_all_documents()
            file_paths = []
            
            for doc_id in doc_ids:
                law_doc = self.vector_store.get_by_id(doc_id)
                if law_doc and law_doc.file_path:
                    file_paths.append(law_doc.file_path)
            
            # Delete all documents from vector store
            deleted_count = self.vector_store.delete_all_documents()
            
            # Delete all associated files
            files_deleted = 0
            for file_path in file_paths:
                if self._delete_file(file_path):
                    files_deleted += 1
            
            logger.info(f"‚úì Successfully removed {deleted_count} documents and {files_deleted} files")
            
            # Verify deletion
            count_after = self.vector_store.count_documents()
            
            if count_after != 0:
                logger.warning(f"‚ö† Some documents may remain: {count_after} documents still in store")
            
            return deleted_count
            
        except Exception as e:
            logger.error(f"Error removing all documents: {e}")
            raise
    
    def list_all_documents(self) -> List[str]:
        """
        Get list of all document IDs in the vector store.
        
        Returns:
            List of document IDs
        """
        try:
            doc_ids = self.vector_store.get_all_document_ids()
            logger.info(f"Found {len(doc_ids)} documents in vector store")
            return doc_ids
            
        except Exception as e:
            logger.error(f"Error listing documents: {e}")
            return []
    
    def get_document_count(self) -> int:
        """
        Get total count of documents in the vector store.
        
        Returns:
            Number of documents
        """
        try:
            count = self.vector_store.count_documents()
            return count
        except Exception as e:
            logger.error(f"Error getting document count: {e}")
            return 0
    
    def _delete_file(self, file_path: str) -> bool:
        """
        Delete a file from the file system.
        
        Args:
            file_path: Path to file to delete
            
        Returns:
            True if file was deleted, False otherwise
        """
        if not file_path:
            return False
        
        try:
            path = Path(file_path)
            if path.exists() and path.is_file():
                path.unlink()
                logger.debug(f"Deleted file: {file_path}")
                return True
            else:
                logger.debug(f"File not found, skipping: {file_path}")
                return False
        except Exception as e:
            logger.warning(f"Could not delete file {file_path}: {e}")
            return False

```

### [FILE] rag_app\services\retrieval_service.py
```py
import logging
import time
from typing import Optional

from rag_app.domain.models import LawDocument, QueryResult

logger = logging.getLogger(__name__)


class RetrievalService:
    """Service for retrieval: Query ‚Üí Vector ‚Üí Cache ‚Üí Answer"""
    
    def __init__(self, embedder, vector_store, contextualizer):
        """
        Initialize retrieval service with dependencies.
        
        Args:
            embedder: Implementation of EmbedderPort
            vector_store: Implementation of VectorStorePort
            contextualizer: Implementation of ContextualizerPort
        """
        self.embedder = embedder
        self.vector_store = vector_store
        self.contextualizer = contextualizer
    
    def query(self, user_query: str, top_k: int = 1) -> QueryResult:
        """
        Process a user query and return an answer.
        
        Flow:
        1. Embed the query
        2. Search vector store for most relevant law
        3. Get or create cache for that law
        4. Generate answer using cached context
        
        Args:
            user_query: User's question
            top_k: Number of laws to consider (default 1 for single-law context)
            
        Returns:
            QueryResult with answer and metadata
        """
        start_time = time.time()
        logger.info(f"Processing query: {user_query[:100]}...")
        
        try:
            # Step 1: Embed query
            logger.info("Step 1: Embedding query")
            query_embedding = self.embedder.embed_text(user_query)
            
            # Step 2: Search for relevant law
            logger.info("Step 2: Searching vector store")
            similar_docs = self.vector_store.search(query_embedding, top_k=top_k)
            
            if not similar_docs:
                logger.warning("No relevant laws found")
                return self._create_error_result("No se encontraron leyes relevantes para tu consulta")
            
            law_doc = similar_docs[0]  # Use most relevant law
            logger.info(f"Found relevant law: {law_doc.titulo}")
            
            # Step 3: Get or create cache (may return None on Free Tier)
            logger.info("Step 3: Getting or creating cache")
            cache_session = self.contextualizer.get_or_create_cache(law_doc)
            cache_was_reused = cache_session is not None and not cache_session.is_expired
            
            # Step 4: Generate answer (with or without cache)
            logger.info("Step 4: Generating answer")
            answer = self.contextualizer.generate_answer(cache_session, user_query, law_doc)
            
            # Calculate response time
            response_time_ms = (time.time() - start_time) * 1000
            
            # Create result
            result = QueryResult(
                answer=answer,
                law_document=law_doc,
                confidence_score=1.0,
                cache_used=cache_was_reused,
                cache_id=cache_session.cache_id if cache_session else None,
                response_time_ms=response_time_ms
            )
            
            logger.info(f"Query completed in {response_time_ms:.2f}ms (cache: {cache_was_reused})")
            return result
            
        except Exception as e:
            logger.error(f"Error processing query: {e}")
            response_time_ms = (time.time() - start_time) * 1000
            return self._create_error_result(
                f"Error al procesar tu consulta: {str(e)}",
                response_time_ms
            )
    
    def query_specific_law(self, user_query: str, law_id: str) -> QueryResult:
        """
        Query a specific law by ID.
        
        Args:
            user_query: User's question
            law_id: Specific law ID to query
            
        Returns:
            QueryResult with answer
        """
        start_time = time.time()
        logger.info(f"Querying specific law {law_id}: {user_query[:100]}...")
        
        try:
            # Get law document by ID
            law_doc = self.vector_store.get_by_id(law_id)
            
            if not law_doc:
                logger.warning(f"Law {law_id} not found")
                return self._create_error_result(f"Ley {law_id} no encontrada en la base de datos")
            
            # Get or create cache (may return None on Free Tier)
            cache_session = self.contextualizer.get_or_create_cache(law_doc)
            cache_was_reused = cache_session is not None and not cache_session.is_expired
            
            # Generate answer (with or without cache)
            answer = self.contextualizer.generate_answer(cache_session, user_query, law_doc)
            
            # Calculate response time
            response_time_ms = (time.time() - start_time) * 1000
            
            result = QueryResult(
                answer=answer,
                law_document=law_doc,
                confidence_score=1.0,
                cache_used=cache_was_reused,
                cache_id=cache_session.cache_id if cache_session else None,
                response_time_ms=response_time_ms
            )
            
            logger.info(f"Query completed in {response_time_ms:.2f}ms")
            return result
            
        except Exception as e:
            logger.error(f"Error querying specific law: {e}")
            response_time_ms = (time.time() - start_time) * 1000
            return self._create_error_result(str(e), response_time_ms)
    
    def _create_error_result(self, error_message: str, response_time_ms: Optional[float] = None) -> QueryResult:
        """Create an error QueryResult."""
        dummy_law = LawDocument(
            id="error",
            titulo="Error",
            url="",
            summary="Error processing query"
        )
        
        return QueryResult(
            answer=error_message,
            law_document=dummy_law,
            confidence_score=0.0,
            cache_used=False,
            response_time_ms=response_time_ms
        )

```

### [FILE] rag_app\services\__init__.py
```py

```

### [FILE] rag_app\tests\audit_performance.py
```py
#!/usr/bin/env python3
"""
Performance audit test for Gemini Context Caching.

This test validates:
1. Cache creation time and cost
2. Cache reuse speed improvement
3. Cost savings from caching
"""

import sys
import time
import logging
from pathlib import Path

# Add parent directory to path
sys.path.insert(0, str(Path(__file__).parent.parent.parent))

from rag_app.config.settings import settings
from rag_app.utils.logger import configure_logging
from rag_app.adapters.embedders.gemini_embedder import GeminiEmbedder
from rag_app.adapters.stores.chroma_adapter import ChromaAdapter
from rag_app.adapters.contextualizers.gemini_manager import GeminiCacheManager
from rag_app.services.retrieval_service import RetrievalService


def estimate_cost(tokens_input: int, tokens_output: int, cached_tokens: int = 0) -> float:
    """
    Estimate API cost based on Gemini pricing.
    
    Rates (approximate):
    - Input: $0.000015 per 1K tokens
    - Output: $0.00006 per 1K tokens
    - Cached input: $0.0000015 per 1K tokens (90% discount)
    """
    input_cost = (tokens_input / 1000) * 0.000015
    output_cost = (tokens_output / 1000) * 0.00006
    cache_cost = (cached_tokens / 1000) * 0.0000015
    
    return input_cost + output_cost + cache_cost


def main():
    """Run performance audit."""
    configure_logging(level=logging.INFO)
    logger = logging.getLogger(__name__)
    
    print("=" * 70)
    print("LEGAL AI RAG - PERFORMANCE AUDIT")
    print("=" * 70)
    print()
    
    # Check API key
    if not settings.gemini_api_key:
        logger.error("GEMINI_API_KEY not found!")
        sys.exit(1)
    
    try:
        # Initialize services
        print("[1/5] Initializing services...")
        embedder = GeminiEmbedder()
        vector_store = ChromaAdapter()
        contextualizer = GeminiCacheManager()
        
        retrieval_service = RetrievalService(
            embedder=embedder,
            vector_store=vector_store,
            contextualizer=contextualizer
        )
        
        # Check database has documents
        doc_count = vector_store.count_documents()
        if doc_count == 0:
            print("\n‚ö†Ô∏è  No documents found in vector store!")
            print("Please run 'python -m rag_app.scripts.setup_db' first.")
            sys.exit(1)
        
        print(f"‚úì Found {doc_count} documents in vector store")
        print()
        
        # Test queries
        test_query_1 = "¬øCu√°les son los requisitos para jubilarse?"
        test_query_2 = "¬øA qu√© edad se puede jubilar una persona?"
        
        print("[2/5] Running FIRST query (will create cache)...")
        print(f"Query: {test_query_1}")
        print()
        
        start_time = time.time()
        result_1 = retrieval_service.query(test_query_1)
        time_1 = time.time() - start_time
        
        print(f"Answer preview: {result_1.answer[:200]}...")
        print()
        print(f"‚è±Ô∏è  Time: {time_1:.2f} seconds")
        print(f"üíæ Cache used: {result_1.cache_used}")
        print(f"üìö Law: {result_1.law_document.titulo}")
        print()
        
        # Estimate cost for first query (cache creation + query)
        # Assume average law is ~30k tokens, output ~500 tokens
        est_tokens_input_1 = 30000
        est_tokens_output_1 = 500
        cost_1 = estimate_cost(est_tokens_input_1, est_tokens_output_1)
        print(f"üí∞ Estimated cost: ${cost_1:.4f}")
        print()
        
        # Wait a bit
        print("[3/5] Waiting 2 seconds...")
        time.sleep(2)
        print()
        
        print("[4/5] Running SECOND query (should reuse cache)...")
        print(f"Query: {test_query_2}")
        print()
        
        start_time = time.time()
        result_2 = retrieval_service.query(test_query_2)
        time_2 = time.time() - start_time
        
        print(f"Answer preview: {result_2.answer[:200]}...")
        print()
        print(f"‚è±Ô∏è  Time: {time_2:.2f} seconds")
        print(f"üíæ Cache used: {result_2.cache_used}")
        print(f"üìö Law: {result_2.law_document.titulo}")
        print()
        
        # Estimate cost for second query (cached)
        est_tokens_input_2 = 50  # Only query tokens
        est_cached_tokens_2 = 30000
        cost_2 = estimate_cost(est_tokens_input_2, est_tokens_output_1, est_cached_tokens_2)
        print(f"üí∞ Estimated cost: ${cost_2:.4f}")
        print()
        
        # Summary
        print("[5/5] Performance Summary")
        print("=" * 70)
        print()
        
        # Speed comparison
        speedup = ((time_1 - time_2) / time_1 * 100) if time_1 > time_2 else 0
        print(f"‚ö° Speed Improvement:")
        print(f"   Query 1 (cache creation): {time_1:.2f}s")
        print(f"   Query 2 (cache reuse):    {time_2:.2f}s")
        print(f"   Speedup: {speedup:.1f}%")
        print()
        
        # Cost comparison
        total_cost = cost_1 + cost_2
        cost_without_cache = estimate_cost(est_tokens_input_1, est_tokens_output_1) * 2
        savings = ((cost_without_cache - total_cost) / cost_without_cache * 100)
        
        print(f"üí∞ Cost Analysis:")
        print(f"   Total cost (with caching):     ${total_cost:.4f}")
        print(f"   Cost without caching:          ${cost_without_cache:.4f}")
        print(f"   Savings: {savings:.1f}%")
        print()
        
        # Validation
        print("‚úÖ Validation:")
        
        # Check if caching is available
        if not contextualizer.caching_available:
            print("   ‚ö†Ô∏è  Context caching not available (Free Tier limit=0)")
            print("   ‚ÑπÔ∏è  System running in fallback mode without caching")
            print("   ‚úì Queries completed successfully without cache")
            print()
            print("=" * 70)
            print("AUDIT COMPLETE - FREE TIER MODE (No Caching)")
            print("=" * 70)
            print()
            print("Note: To enable context caching, upgrade to a paid API plan.")
            return
        
        # If caching is available, validate cache reuse
        assert result_2.cache_used, "‚ùå Cache was not reused!"
        assert time_2 < time_1, "‚ùå Second query was not faster!"
        print("   ‚úì Cache was successfully reused")
        print("   ‚úì Second query was faster")
        print("   ‚úì Cost savings achieved")
        print()
        
        print("=" * 70)
        print("AUDIT COMPLETE - ALL TESTS PASSED ‚úì")
        print("=" * 70)
        
    except Exception as e:
        logger.error(f"Audit failed: {e}", exc_info=True)
        print(f"\n‚ùå Audit failed: {e}")
        sys.exit(1)


if __name__ == "__main__":
    main()

```

### [FILE] rag_app\tests\__init__.py
```py

```

### [FILE] rag_app\utils\logger.py
```py
import logging
import sys
from pathlib import Path


def setup_logger(name: str = None, level: int = logging.INFO, log_file: str = None) -> logging.Logger:
    """
    Setup and configure a logger.
    
    Args:
        name: Logger name (None for root logger)
        level: Logging level (default: INFO)
        log_file: Optional file path for file logging
        
    Returns:
        Configured logger instance
    """
    logger = logging.getLogger(name)
    logger.setLevel(level)
    
    # Avoid duplicate handlers
    if logger.handlers:
        return logger
    
    # Console handler with formatting
    console_handler = logging.StreamHandler(sys.stdout)
    console_handler.setLevel(level)
    
    # Format: timestamp - name - level - message
    formatter = logging.Formatter(
        '%(asctime)s - %(name)s - %(levelname)s - %(message)s',
        datefmt='%Y-%m-%d %H:%M:%S'
    )
    console_handler.setFormatter(formatter)
    logger.addHandler(console_handler)
    
    # Optional file handler
    if log_file:
        log_path = Path(log_file)
        log_path.parent.mkdir(parents=True, exist_ok=True)
        
        file_handler = logging.FileHandler(log_file, encoding='utf-8')
        file_handler.setLevel(level)
        file_handler.setFormatter(formatter)
        logger.addHandler(file_handler)
    
    return logger


def get_logger(name: str) -> logging.Logger:
    """
    Get a logger instance with the application's configuration.
    
    Args:
        name: Logger name (typically __name__)
        
    Returns:
        Logger instance
    """
    return logging.getLogger(name)


# Configure root logger for the application
def configure_logging(level: int = logging.INFO, log_file: str = None):
    """
    Configure logging for the entire application.
    
    Args:
        level: Logging level
        log_file: Optional log file path
    """
    setup_logger(name='rag_app', level=level, log_file=log_file)

```

### [FILE] rag_app\utils\__init__.py
```py

```

### [FILE] tools\context_builder.py
```py
import os
import sys
from pathlib import Path

# Try to import pathspec, otherwise we will install it in main
try:
    import pathspec
except ImportError:
    pathspec = None

# Configuration
OUTPUT_FILE = "context_dump.txt"
MAX_FILE_SIZE_KB = 500  # Skip huge files
INCLUDED_EXTENSIONS = {
    ".py", ".md", ".json", ".toml", ".yml", ".yaml", 
    ".js", ".jsx", ".ts", ".tsx", ".css", ".html", 
    ".txt", ".sh", ".dockerfile", "Dockerfile", ".env.example"
}
# Always ignore these, even if not in gitignore
ALWAYS_IGNORE = {
    ".git", ".venv", "__pycache__", "node_modules", 
    "dist", "build", "coverage", ".pytest_cache", 
    "package-lock.json", "uv.lock", "yarn.lock", 
    "context_dump.txt", "Wiki.pdf"
}

def load_gitignore(root_dir: Path):
    gitignore = root_dir / ".gitignore"
    if gitignore.exists():
        with open(gitignore, "r", encoding="utf-8") as f:
            return pathspec.PathSpec.from_lines("gitwildmatch", f)
    return pathspec.PathSpec.from_lines("gitwildmatch", [])

def get_tree_structure(root_dir: Path, spec) -> str:
    tree = []
    for root, dirs, files in os.walk(root_dir):
        # Filter directories in place
        dirs[:] = [d for d in dirs if not (d in ALWAYS_IGNORE or spec.match_file(os.path.relpath(os.path.join(root, d), root_dir)))]
        
        level = root.replace(str(root_dir), "").count(os.sep)
        indent = " " * 4 * (level)
        tree.append(f"{indent}{os.path.basename(root)}/")
        subindent = " " * 4 * (level + 1)
        for f in files:
            rel_path = os.path.relpath(os.path.join(root, f), root_dir)
            if not spec.match_file(rel_path) and f not in ALWAYS_IGNORE:
                 tree.append(f"{subindent}{f}")
    return "\n".join(tree)

def build_context(root_dir: Path):
    spec = load_gitignore(root_dir)
    output_path = root_dir / OUTPUT_FILE
    
    with open(output_path, "w", encoding="utf-8") as out:
        # Header
        out.write("# PROJECT CONTEXT DUMP\n")
        out.write(f"# Generated by tools/context_builder.py at {os.environ.get('USERNAME', 'User')}")
        out.write("\n\n")
        
        # Tree Structure
        out.write("## DIRECTORY STRUCTURE\n")
        out.write("```\n")
        out.write(get_tree_structure(root_dir, spec))
        out.write("\n```\n\n")
        
        # File Contents
        out.write("## FILE CONTENTS\n\n")
        
        for root, dirs, files in os.walk(root_dir):
            # Filter directories
            dirs[:] = [d for d in dirs if not (d in ALWAYS_IGNORE or spec.match_file(os.path.relpath(os.path.join(root, d), root_dir)))]
            
            for file in files:
                file_path = Path(root) / file
                rel_path = file_path.relative_to(root_dir)
                
                # Checks
                if file in ALWAYS_IGNORE:
                    continue
                if spec.match_file(str(rel_path)):
                    continue
                if file_path.suffix not in INCLUDED_EXTENSIONS and file not in INCLUDED_EXTENSIONS:
                    continue
                if file_path.stat().st_size > MAX_FILE_SIZE_KB * 1024:
                    out.write(f"### [FILE] {rel_path} (SKIPPED: Too large)\n\n")
                    continue
                
                # Write Content
                try:
                    with open(file_path, "r", encoding="utf-8") as f:
                        content = f.read()
                        
                    out.write(f"### [FILE] {rel_path}\n")
                    out.write("```" + (file_path.suffix.replace(".", "") or "text") + "\n")
                    out.write(content)
                    out.write("\n```\n\n")
                    print(f"Added: {rel_path}")
                except Exception as e:
                    print(f"Error reading {rel_path}: {e}")

if __name__ == "__main__":
    if len(sys.argv) > 1:
        root = Path(sys.argv[1])
    else:
        # Default to parent of 'tools' if run from there, or current dir
        current = Path.cwd()
        if current.name == "tools":
            root = current.parent
        else:
            root = current
            
    print(f"Building context from: {root}")
    
    if pathspec is None:
        print("Installing pathspec...")
        import subprocess
        subprocess.check_call([sys.executable, "-m", "pip", "install", "pathspec"])
        try:
            import pathspec as ps
            globals()['pathspec'] = ps
        except ImportError:
            print("Failed to import pathspec after installation.")
            sys.exit(1)

    build_context(root)
    print(f"Context dump created at {root / OUTPUT_FILE}")

```

